define.alias("@glimmer/component/-private/ember-component-manager","sharing-v2/component-managers/glimmer")
define("sharing-v2/components/-dynamic-element-alt",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{}e.default=i}))
define("sharing-v2/components/-dynamic-element",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{}e.default=i}))
define.alias("artdeco-button/components/artdeco-button","sharing-v2/components/artdeco-button")
define.alias("artdeco-datepicker/components/artdeco-calendar","sharing-v2/components/artdeco-calendar")
define.alias("artdeco-card/components/artdeco-card-image","sharing-v2/components/artdeco-card-image")
define.alias("artdeco-card/components/artdeco-card","sharing-v2/components/artdeco-card")
define.alias("artdeco-carousel/components/artdeco-carousel-item","sharing-v2/components/artdeco-carousel-item")
define.alias("artdeco-carousel/components/artdeco-carousel-slider","sharing-v2/components/artdeco-carousel-slider")
define.alias("artdeco-carousel/components/artdeco-carousel-title","sharing-v2/components/artdeco-carousel-title")
define.alias("artdeco-carousel/components/artdeco-carousel","sharing-v2/components/artdeco-carousel")
define.alias("artdeco-completeness-meter-linear/components/artdeco-completeness-meter-linear","sharing-v2/components/artdeco-completeness-meter-linear")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","sharing-v2/components/artdeco-confirmation-dialog")
define.alias("artdeco-datepicker/components/artdeco-datepicker-embedded-cal","sharing-v2/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-datepicker","sharing-v2/components/artdeco-datepicker")
define.alias("artdeco-datepicker/components/artdeco-daterange-embedded-cal","sharing-v2/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-daterange","sharing-v2/components/artdeco-daterange")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","sharing-v2/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","sharing-v2/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","sharing-v2/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","sharing-v2/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","sharing-v2/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","sharing-v2/components/artdeco-empty-state")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-badge","sharing-v2/components/artdeco-entity-lockup-badge")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-caption","sharing-v2/components/artdeco-entity-lockup-caption")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-content","sharing-v2/components/artdeco-entity-lockup-content")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-image","sharing-v2/components/artdeco-entity-lockup-image")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-metadata","sharing-v2/components/artdeco-entity-lockup-metadata")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-subtitle","sharing-v2/components/artdeco-entity-lockup-subtitle")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-title","sharing-v2/components/artdeco-entity-lockup-title")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup","sharing-v2/components/artdeco-entity-lockup")
define.alias("artdeco-entity-pile/components/artdeco-entity-pile","sharing-v2/components/artdeco-entity-pile")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","sharing-v2/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","sharing-v2/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","sharing-v2/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","sharing-v2/components/artdeco-loader")
define.alias("artdeco-modal/components/container","sharing-v2/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","sharing-v2/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","sharing-v2/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","sharing-v2/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","sharing-v2/components/artdeco-modal")
define.alias("artdeco-notification-badge/components/artdeco-notification-badge","sharing-v2/components/artdeco-notification-badge")
define.alias("artdeco-pagination/components/artdeco-pagination-ellipsis","sharing-v2/components/artdeco-pagination-ellipsis")
define.alias("artdeco-pagination/components/artdeco-pagination-indicator","sharing-v2/components/artdeco-pagination-indicator")
define.alias("artdeco-pagination/components/artdeco-pagination","sharing-v2/components/artdeco-pagination")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","sharing-v2/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","sharing-v2/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","sharing-v2/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","sharing-v2/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","sharing-v2/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","sharing-v2/components/artdeco-pill-toggle")
define.alias("artdeco-slider/components/artdeco-slider","sharing-v2/components/artdeco-slider")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tab","sharing-v2/components/artdeco-spotlight-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tablist","sharing-v2/components/artdeco-spotlight-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tab","sharing-v2/components/artdeco-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tablist","sharing-v2/components/artdeco-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabpanel","sharing-v2/components/artdeco-tabpanel")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabs","sharing-v2/components/artdeco-tabs")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","sharing-v2/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","sharing-v2/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","sharing-v2/components/artdeco-text-input")
define.alias("artdeco-toast/components/artdeco-toast-item","sharing-v2/components/artdeco-toast-item")
define.alias("artdeco-toast/components/artdeco-toasts","sharing-v2/components/artdeco-toasts")
define.alias("artdeco-toggle/components/artdeco-toggle","sharing-v2/components/artdeco-toggle")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-input","sharing-v2/components/artdeco-typeahead-input")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-result","sharing-v2/components/artdeco-typeahead-result")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-results-list","sharing-v2/components/artdeco-typeahead-results-list")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead","sharing-v2/components/artdeco-typeahead")
define.alias("ember-semaphore/components/block-profile","sharing-v2/components/block-profile")
define.alias("ember-semaphore/components/cleared-content-modal-v2","sharing-v2/components/cleared-content-modal-v2")
define.alias("ember-semaphore/components/cleared-content-modal","sharing-v2/components/cleared-content-modal")
define("sharing-v2/components/creation-state-footer",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@ember/object","sharing-v2/utils/sharing-constants","global-nav-shared/utils/reflow-breakpoints","detour-framework/utils/detour-buttons","detour-framework/utils/partner-detour-buttons","global-utils/utils/keyboard-utils","@glimmer/tracking"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,f,_,y,T,S,E
const v=(0,a.createTemplateFactory)({id:"S434oUXb",block:'[[[10,0],[14,0,"share-creation-state__footer"],[12],[1,"\\n  "],[10,0],[14,0,"share-creation-state__detour-btn-container"],[12],[1,"\\n"],[41,[30,0,["showDetourToolbar"]],[[[42,[28,[37,2],[[28,[37,2],[[30,0,["toolbarDetours"]]],null]],null],null,[[[1,"        "],[8,[39,3],[[4,[38,4],["keyup",[30,3]],null]],[["@disableHoverable"],[[30,0,["disableFooterDetourButtonTooltips"]]]],[["default"],[[[[1,"\\n          "],[8,[39,5],[[16,"aria-describedby",[29,[[30,4,["ariaId"]]]]],[4,[38,8],[[30,1,["toolbarControlName"]]],null]],[["@circle","@click","@color","@disabled","@icon","@text","@type"],[true,[28,[37,6],[[30,5],[30,1]],null],"muted",[30,6],[30,1,["iconName"]],[28,[37,7],[[30,1,["i18nLabelKey"]],"sharing-v2/components/creation-state-footer"],null],"tertiary"]],null],[1,"\\n\\n          "],[8,[30,4,["artdeco-hoverable-content"]],null,[["@theme","@contentClass"],["inverse","share-creation-state__hoverable-content"]],[["default"],[[[[1,"\\n"],[1,"            "],[10,0],[12],[1,"\\n              "],[1,[28,[35,7],[[30,1,["i18nLabelKey"]],"sharing-v2/components/creation-state-footer"],null]],[1,"\\n            "],[13],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[4]]]]],[1,"\\n"]],[1,2]],null],[1,"\\n"]],[]],null],[41,[30,7],[[[1,"      "],[8,[39,3],[[4,[38,4],["keyup",[30,3]],null]],[["@disableHoverable"],[[30,0,["disableFooterDetourButtonTooltips"]]]],[["default"],[[[[1,"\\n        "],[8,[39,5],[[16,"aria-describedby",[29,[[30,8,["ariaId"]]]]],[4,[38,8],["share_select_open_detour_chooser_menu"],null]],[["@circle","@click","@color","@disabled","@icon","@type","@text"],[true,[30,9],"muted",[30,6],"overflow-web-ios","tertiary",[28,[37,7],["i18n_chooser_menu_add_to_your_post","sharing-v2/components/creation-state-footer"],null]]],null],[1,"\\n        "],[8,[30,8,["artdeco-hoverable-content"]],null,[["@theme","@contentClass"],["inverse","share-creation-state__hoverable-content"]],[["default"],[[[[1,"\\n          "],[1,[28,[35,7],["i18n_chooser_menu_add_to_your_post","sharing-v2/components/creation-state-footer"],null]],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[8]]]]],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"],[41,[30,10],[[[1,"    "],[10,0],[14,0,"share-creation-state__comment-controls-container"],[12],[1,"\\n      "],[8,[39,9],null,[["@goToVisibilityScreen","@stateChangeButton"],[[30,0,["goToCommentControlVisibilityScreen"]],[30,11]]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[41,[30,12],[[[1,"    "],[8,[39,5],[[16,"aria-label",[28,[37,7],["i18n_a11y_scheduled_post_cta","sharing-v2/components/creation-state-footer"],null]],[4,[38,8],[[30,0,["controlInteractionEvents","SCHEDULE_PICKER_OPEN"]]],null]],[["@class","@click","@circle","@color","@icon","@type"],["mr1",[30,13],true,"muted","clock","tertiary"]],null],[1,"\\n"]],[]],null],[1,"  "],[10,0],[14,0,"share-box_actions"],[12],[1,"\\n    "],[8,[39,5],[[4,[38,8],[[30,0,["primaryButtonControlName"]]],null]],[["@size","@type","@class","@click","@disabled","@aria-label"],[2,"primary","share-actions__primary-action",[30,0,["onPrimaryButtonClick"]],[30,14],[52,[30,15],[28,[37,7],["i18n_aria_save_edit","sharing-v2/components/creation-state-footer"],null]]]],[["default"],[[[[1,"\\n"],[41,[30,16],[[[1,"        "],[8,[39,10],null,[["@size"],["xsmall"]],null],[1,"\\n"]],[]],[[[1,"        "],[1,[30,0,["primaryButtonText"]]],[1,"\\n"]],[]]],[1,"    "]],[]]]]],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n"],[8,[39,11],null,[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape","@testId"],[[30,0,["showUnsupportedScheduleConfirmationModal"]],[28,[37,7],["i18n_schedule_unsupported_title","sharing-v2/components/creation-state-footer"],null],[28,[37,7],["i18n_schedule_unsupported_content","sharing-v2/components/creation-state-footer"],[["linkInfo"],[[28,[37,12],null,[["target","href","rel"],["_blank","/help/linkedin/answer/a1347212","noopener noreferrer"]]]]]],[28,[37,7],["i18n_schedule_unsupported_clearn_time","sharing-v2/components/creation-state-footer"],null],[28,[37,7],["i18n_schedule_unsupported_cancel","sharing-v2/components/creation-state-footer"],null],[30,0,["clearSchedule"]],[30,0,["hideUnsupportedScheduleConfirmationModal"]],[30,0,["hideUnsupportedScheduleConfirmationModal"]],"unsupported-schedule-dialog"]],null]],["detourToolbarButton","index","@removeFocus","trigger","@openDetour","@disableDetourButtons","@showChooserMenuTrigger","trigger","@goToDetourChooserMenu","@shouldShowCommentControls","@currentCommentRestriction","@isScheduledPostsEnabled","@goToPostManager","@primaryButtonDisabled","@isInEditMode","@isNormshareRequestPending"],false,["if","each","-track-array","artdeco-hoverables@artdeco-hoverable-trigger","on","artdeco-button@artdeco-button","fn","t","ember-cli-pemberly-tracking@track-interaction","sharing-v2@state-change-button","artdeco-loader@artdeco-loader","artdeco-modal@artdeco-confirmation-dialog","hash"]]',moduleName:"sharing-v2/components/creation-state-footer.hbs",isStrictMode:!1}),I="i18n_save",C="i18n_post"
let O=(b=(0,l.inject)("scaffold-layout@reflow"),f=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",_,this);(0,t.default)(this,"lix",y,this);(0,t.default)(this,"locale",T,this);(0,t.default)(this,"reflow",S,this);(0,i.default)(this,"controlInteractionEvents",d.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,t.default)(this,"showUnsupportedScheduleConfirmationModal",E,this)}get disableFooterDetourButtonTooltips(){return!this.args.showChooserMenuTrigger||this.args.shouldShowCommentControlsTooltip||this.args.disableDetourButtons}get primaryButtonControlName(){const{SAVE_BTN:e,POST_BTN:t}=d.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS
return this.args.isInEditMode?e:t}get primaryButtonText(){return this.args.customPrimaryButtonText?this.args.customPrimaryButtonText:this.args.isInEditMode?this.i18n.lookupTranslation("components/sharing-v2@creation-state-footer",I)():this.i18n.lookupTranslation("components/sharing-v2@creation-state-footer",C)()}get showDetourToolbar(){const e=this.reflow.clientWidth
return 0===e||e>=u.REFLOW_BREAKPOINTS.XS}get toolbarDetours(){var e
let t=p.REGISTERED_EXTENDED_TOOLBAR_DETOUR_BUTTONS
this.args.isScheduledPostsEnabled&&(t=p.REGISTERED_EXTENDED_TOOLBAR_DETOUR_BUTTONS.slice(0,4))
return(0,h.getDetourButtons)(t,this.lix,this.locale,(0,c.get)(this.args,"currentActor.actorType"),null===(e=this.args.currentVisibility)||void 0===e?void 0:e.type)}clearSchedule(){this.args.onScheduleSelected(null)
this.hideUnsupportedScheduleConfirmationModal()}goToCommentControlVisibilityScreen(){this.args.takeCommentControlAction()
this.args.goToVisibilityScreen(d.VISIBILITY_SCREEN.COMMENT_CONTROLS)}hideUnsupportedScheduleConfirmationModal(){this.showUnsupportedScheduleConfirmationModal=!1}onPrimaryButtonClick(){if(!this.args.primaryButtonDisabled){var e,t
if(this.args.scheduledDate&&!this.args.canBeScheduled){this.showUnsupportedScheduleConfirmationModal=!0
return}null===(e=(t=this.args).publishPost)||void 0===e||e.call(t)}}removeFocus(e){(0,g.isEscapeKey)(e)&&e.stopPropagation()}},_=(0,r.default)(f.prototype,"i18n",[l.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,r.default)(f.prototype,"lix",[l.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,r.default)(f.prototype,"locale",[l.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,r.default)(f.prototype,"reflow",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,r.default)(f.prototype,"showUnsupportedScheduleConfirmationModal",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(f.prototype,"clearSchedule",[c.action],Object.getOwnPropertyDescriptor(f.prototype,"clearSchedule"),f.prototype),(0,r.default)(f.prototype,"goToCommentControlVisibilityScreen",[c.action],Object.getOwnPropertyDescriptor(f.prototype,"goToCommentControlVisibilityScreen"),f.prototype),(0,r.default)(f.prototype,"hideUnsupportedScheduleConfirmationModal",[c.action],Object.getOwnPropertyDescriptor(f.prototype,"hideUnsupportedScheduleConfirmationModal"),f.prototype),(0,r.default)(f.prototype,"onPrimaryButtonClick",[c.action],Object.getOwnPropertyDescriptor(f.prototype,"onPrimaryButtonClick"),f.prototype),(0,r.default)(f.prototype,"removeFocus",[c.action],Object.getOwnPropertyDescriptor(f.prototype,"removeFocus"),f.prototype),f)
e.default=O;(0,o.setComponentTemplate)(v,O)}))
define("sharing-v2/components/creation-state",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/service","@ember/object","@ember/utils","global-utils/utils/api-compat","global-utils/utils/urn-converter","global-utils/utils/url","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","sharing-v2/utils/sharing-utils","global-utils/utils/a11y-focus-element"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g,m,b,f,_,y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var T,S,E,v,I,C,O,A,D,N,w,R,M,P,k,L,V,x,B,U,H
const z=(0,s.createTemplateFactory)({id:"pAa5Q4Ia",block:'[[[11,0],[16,0,[29,["share-creation-state\\n    ",[52,[30,1],"share-creation-state__share-box-v2"],"\\n    ",[52,[28,[37,1],[[30,2],[28,[37,2],[[30,1]],null]],null],"share-creation-state__in-legacy-modal"]]]],[17,3],[4,[38,3],[[30,0,["fireCommentRestrictionTooltipLegoImpressionEvent"]],[30,0,["shouldShowCommentControlsTooltip"]]],null],[4,[38,4],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,5],[[53,"outletState"],"render.name"],null],[28,[37,5],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[41,[30,4],[[[1,"    "],[8,[39,7],null,[["@disableFocusOnHeader","@headerType","@titleText"],[true,[30,5],[28,[37,8],["i18n_create_a_post","sharing-v2/components/creation-state"],null]]],null],[1,"\\n"]],[]],null],[1,"  "],[10,0],[14,0,"share-creation-state__content-scrollable"],[12],[1,"\\n    "],[8,[39,9],null,[["@class","@size"],["share-creation-state__member-info",3]],[["default"],[[[[1,"\\n      "],[8,[30,6,["image"]],null,[["@type"],[[30,7,["lockupImageShape"]]]],[["default"],[[[[1,"\\n        "],[8,[39,10],null,[["@alt","@class","@desiredWidth","@ghostType","@image"],[[30,7,["name"]],[30,7,["imageEntityClass"]],50,[30,7,["imageGhostType"]],[30,7,["image"]]]],null],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,6,["content"]],null,[["@class"],[[29,["display-flex flex-wrap ml1 ",[52,[51,[30,8]],"flex-column"]]]]],[["default"],[[[[1,"\\n        "],[8,[30,6,["title"]],null,[["@altLink"],[false]],[["default"],[[[[1,"\\n"],[41,[30,8],[[[1,"            "],[8,[39,12],null,[["@goToVisibilityScreen","@stateChangeButton"],[[30,9],[30,7]]],null],[1,"\\n"]],[]],[[[1,"            "],[1,[30,7,["name"]]],[1,"\\n"]],[]]],[1,"        "]],[]]]]],[1,"\\n        "],[8,[39,12],null,[["@goToVisibilityScreen","@stateChangeButton"],[[30,9],[30,10]]],null],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[6]]]]],[1,"\\n"],[41,[30,0,["showStickyVisibilityInlineCallout"]],[[[1,"      "],[8,[39,13],null,[["@visibilityType"],[[30,10,["type"]]]],null],[1,"\\n"]],[]],null],[41,[30,11],[[[1,"      "],[10,0],[14,0,"mh5 mv3 t-14 t-black--light display-flex align-items-center"],[12],[1,"\\n        "],[1,[28,[35,14],null,[["class","size","type"],["mr1","small",[30,10,["iconName"]]]]]],[1,"\\n        "],[1,[28,[35,8],["i18n_schedule_info_text","sharing-v2/components/creation-state"],[["scheduledWeekDay","scheduledDate","scheduledTime"],[[28,[37,15],[[30,11]],[["format","useTimeZone"],["fmt_d_medium",true]]],[28,[37,15],[[30,11]],[["format","useTimeZone"],["fmt_md_medium",true]]],[28,[37,16],[[30,11]],[["format","useTimeZone"],["fmt_hm",true]]]]]]],[1,"\\n        "],[8,[39,17],[[4,[38,18],[[30,0,["controlInteractionEvents","SCHEDULE_EDIT_OPEN"]]],null]],[["@click","@size","@text","@type"],[[30,12],1,[28,[37,8],["i18n_edit_schedule","sharing-v2/components/creation-state"],null],"tertiary"]],null],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"    "],[11,0],[4,[38,19],null,[["onSelector","when"],[[30,0,["quillEditorSelector"]],[30,0,["focusOnTexteditor"]]]]],[12],[1,"\\n      "],[8,[39,20],[[16,0,[29,["share-creation-state__text-editor\\n          ",[52,[30,13],"share-creation-state__text-editor--with-attachment"]]]]],[["@controlName","@cursorRange","@groupIdForMentionsTypeahead","@initialContent","@onFoundUrl","@placeholder","@scrollableContainerSelector","@setInsertContentHandler","@shouldFocusOnRender","@textChangeHandler","@trackableRootObject"],[[30,0,["controlInteractionEvents","ADD_COMMENTARY"]],[30,14],[30,0,["groupIdForMentionsTypeahead"]],[30,15],[30,16],[30,17],".share-creation-state__content-scrollable",[30,0,["setInsertContentHandler"]],[30,18],[30,19],[30,0,["trackableRootObject"]]]],null],[1,"\\n    "],[13],[1,"\\n"],[41,[30,20],[[[1,"      "],[10,0],[14,0,"share-creation-state__preview-container"],[12],[1,"\\n        "],[10,0],[14,0,"share-creation-state__preview-container-controls"],[12],[1,"\\n"],[41,[30,21],[[[1,"            "],[8,[39,17],[[16,"aria-label",[28,[37,8],["i18n_edit_media_preview","sharing-v2/components/creation-state"],null]],[4,[38,18],[[30,23]],null]],[["@circle","@class","@click","@color","@icon","@size","@type"],[true,"share-creation-state__preview-container-btn mr2",[30,22],"muted","edit","1","primary"]],null],[1,"\\n"]],[]],null],[41,[30,24],[[[1,"            "],[8,[39,17],[[4,[38,18],[[30,25]],null]],[["@type","@circle","@class","@click","@color","@icon","@size"],["primary",true,"share-creation-state__preview-container-btn",[30,0,["onDetourPreviewRemoval"]],"muted","close","1"]],[["default"],[[[[1,"\\n              "],[10,1],[14,0,"visually-hidden"],[12],[1,[28,[35,8],["i18n_remove_media_a11y","sharing-v2/components/creation-state"],null]],[13],[1,"\\n            "]],[]]]]],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"],[41,[30,20],[[[1,"          "],[8,[39,21],[[16,0,[28,[37,22],["share-creaton-state__preview-container--as-box",[52,[30,20]," feed-shared-update-v2--minimal-padding"],[52,[30,26]," share-creation-state__preview-container--has-error"]],null]]],[["@disableContentDisplayed","@isEditingShare","@isPreviewMode","@onEditShareMedia","@showContentOnly","@update"],[false,[30,0,["isInEditMode"]],true,[30,27],[30,0,["showContentOnlyInPreviewedUpdate"]],[30,28]]],null],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n\\n  "],[10,0],[14,0,"share-creation-state__bottom"],[12],[1,"\\n"],[41,[30,0,["isShowingFeedbackMsg"]],[[[1,"      "],[10,0],[14,0,"share-creation-state__feedback-msg-container"],[12],[1,"\\n"],[41,[30,29],[[[1,"          "],[10,0],[14,0,"display-flex align-items-center"],[12],[1,"\\n            "],[8,[39,23],null,[["@type","@size"],["muted","xsmall"]],null],[1,"\\n            "],[8,[39,24],null,[["@type","@isIconHidden","@message"],["note",true,[28,[37,8],["i18n_content_preview_load","sharing-v2/components/creation-state"],null]]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[41,[30,26],[[[1,"          "],[8,[39,24],null,[["@class","@linkText","@message","@onClick","@type"],["share-creation-state__feedback-msg",[30,30,["link","text"]],[30,31],[52,[30,30,["link","url"]],[28,[37,25],[[30,0,["onDetourPreviewErrorClick"]],[30,30,["link","url"]]],null]],"error"]],null],[1,"\\n"]],[]],[[[41,[30,0,["exceededMaxCharLimitError"]],[[[1,"          "],[10,0],[14,0,"display-flex justify-space-between"],[12],[1,"\\n            "],[8,[39,24],null,[["@class","@message","@type"],["share-creation-state__feedback-msg",[28,[37,8],["i18n_exceeded_max_char_limit_msg","sharing-v2/components/creation-state"],null],"error"]],null],[1,"\\n            "],[10,1],[14,0,"share-creation-state__feedback-msg share-creation-state__char-count t-14 t-bold"],[12],[1,"\\n              "],[1,[28,[35,8],["i18n_current_char_count","sharing-v2/components/creation-state"],[["numChars"],[[30,0,["charCountOverLimit"]]]]]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[41,[30,0,["exceededMaxMentionsError"]],[[[1,"          "],[8,[39,24],null,[["@class","@message","@type"],["share-creation-state__feedback-msg",[28,[37,8],["i18n_exceeded_max_mentions_msg","sharing-v2/components/creation-state"],null],"error"]],null],[1,"\\n"]],[]],[[[41,[30,32],[[[1,"          "],[8,[39,24],null,[["@class","@message","@type"],["share-creation-state__feedback-msg",[30,32],"error"]],null],[1,"\\n        "]],[]],null]],[]]]],[]]]],[]]]],[]]],[1,"      "],[13],[1,"\\n"]],[]],[[[1,"      "],[10,0],[14,0,"share-creation-state__additional-toolbar"],[12],[1,"\\n"],[41,[30,0,["isEmojisInShareBoxEnabled"]],[[[1,"          "],[8,[39,26],null,[["@bundle"],["emoji-picker"]],[["default"],[[[[1,"\\n"],[41,[30,33,["state","fulfilled"]],[[[1,"              "],[8,[39,27],null,[["@doNotFocusTrigger","@size","@handleEmojiSelect","@hoverableIdPrefix","@onHoverableHide","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses","@triggerData"],[true,2,[30,0,["onEmojiSelected"]],"share_creation_state_emoji",[30,0,["onEmojiHoverableHide"]],"share_creation_state.close_emoji_picker","share_creation_state.open_emoji_picker","share_creation_state.select_emoji","share_creation_state.select_searched_emoji","share_creation_state__emoji-picker-trigger",[30,0,["triggerData"]]]],null],[1,"\\n"]],[]],[[[1,"              "],[8,[39,17],null,[["@type","@circle","@color","@icon","@disabled"],["tertiary",true,"muted","emoji",true]],null],[1,"\\n"]],[]]],[1,"          "]],[33]]]]],[1,"\\n"]],[]],null],[41,[30,0,["showGuider"]],[[[41,[30,0,["shouldShowCommentControlsTooltip"]],[[[1,"            "],[8,[39,28],null,[["@caretTarget","@clickAnywhereToClose","@close","@content","@customClasses","@hideCloseButton","@horizontalPosition","@verticalPosition"],[".share-creation-state__comment-controls-container",true,[30,0,["takeCommentControlAction"]],[28,[37,8],["i18n_comment_controls_tooltip","sharing-v2/components/creation-state"],null],[28,[37,22],["share-creation-state__comment-controls-tooltip ",[52,[51,[30,2]],"share-creation-state__comment-controls-tooltip--inshare"]],null],true,"dynamic","bottom"]],null],[1,"\\n"]],[]],[[[41,[30,0,["showBeKindMessage"]],[[[1,"            "],[10,0],[14,0,"share-creation-state__be-kind-msg-container"],[12],[1,"\\n              "],[8,[39,24],null,[["@class","@linkText","@message","@onClick","@type"],["share-creation-state__feedback-msg",[28,[37,8],["i18n_safe_conversations_cta_text","sharing-v2/components/creation-state"],null],[28,[37,8],["i18n_be_kind_message","sharing-v2/components/creation-state"],null],[28,[37,25],[[30,0,["openCommunityPolicies"]],[30,0,["beKindToken"]]],null],"note"]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[1,"            "],[8,[39,29],null,[["@guiderManager","@onInsertText","@openDetour"],[[30,34],[30,0,["onInsertText"]],[30,35]]],null],[1,"\\n          "]],[]]]],[]]]],[]],null],[1,"      "],[13],[1,"\\n"]],[]]],[41,[30,0,["showCreationStateFooter"]],[[[1,"      "],[8,[39,30],null,[["@canBeScheduled","@currentActor","@currentCommentRestriction","@currentVisibility","@customPrimaryButtonText","@disableDetourButtons","@goToDetourChooserMenu","@goToVisibilityScreen","@goToPostManager","@isInEditMode","@isNormshareRequestPending","@isScheduledPostsEnabled","@onScheduleSelected","@openDetour","@primaryButtonDisabled","@publishPost","@removeFocus","@scheduledDate","@shouldShowCommentControls","@shouldShowCommentControlsTooltip","@showChooserMenuTrigger","@takeCommentControlAction"],[[30,36],[30,7],[30,37],[30,10],[30,38],[30,0,["disableDetourButtons"]],[30,39],[30,9],[30,12],[30,0,["isInEditMode"]],[30,40],[30,41],[30,42],[30,35],[30,0,["primaryButtonDisabled"]],[30,43],[30,0,["removeFocus"]],[30,11],[30,0,["shouldShowCommentControls"]],[30,0,["shouldShowCommentControlsTooltip"]],[30,0,["showChooserMenuTrigger"]],[30,0,["takeCommentControlAction"]]]],null],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"],[13]],["@isShareboxV2","@isShareboxInModal","&attrs","@showInlineHeader","@headerType","elements","@currentActor","@showActorToggle","@goToVisibilityScreen","@currentVisibility","@scheduledDate","@goToPostManager","@shareboxHasAttachment","@cursorRange","@initialTextAndMentions","@onFoundUrl","@textInputI18nPlaceholderText","@autoFocusTexteditor","@updateShareViewModel","@isShowingDetourPreview","@showDetourPreviewEditButton","@editDetour","@detourPreviewEditControlInteractionEventName","@showDetourPreviewRemoveButton","@detourPreviewRemoveControlInteractionEventName","@showDetourPreviewError","@onEditShareMedia","@previewedUpdateV2","@showDetourPreviewLoading","@detourPreviewStatusData","@detourPreviewError","@postFailureErrorMessage","assetLoader","@guiderManager","@openDetour","@canBeScheduled","@currentCommentRestriction","@customPrimaryButtonText","@goToDetourChooserMenu","@isNormshareRequestPending","@isScheduledPostsEnabled","@onScheduleSelected","@publishPost"],false,["if","global-helpers@and","global-helpers@not","did-update","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","detour-framework@title-bar","t","artdeco-entity-lockup@artdeco-entity-lockup","ember-vector-images@lazy-image","unless","sharing-v2@state-change-button","sharing-v2@share-box-inline-callout","artdeco-icons-web@li-icon","ember-cli-pemberly-i18n@format-date","ember-cli-pemberly-i18n@format-time","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction","global-modifiers@focus","participate-text-editor-loader@text-editor-loader","update-components@mini-update-v2","concat","artdeco-loader@artdeco-loader","artdeco-inline-feedback@artdeco-inline-feedback","fn","asset-loader@deferred-asset-loader","emoji-picker@emoji-hoverable","ui@inline-tooltip","sharing-v2@guider/guider-bar","sharing-v2@creation-state-footer"]]',moduleName:"sharing-v2/components/creation-state.hbs",isStrictMode:!1})
let j=(T=(0,d.inject)("lix"),S=(0,d.inject)("locale"),E=(0,d.inject)("tracking"),v=(0,d.inject)("lego@resolver"),I=(0,d.inject)("lego@tracking"),C=(0,d.inject)("global-services@window"),O=(0,d.inject)("scaffold-layout@reflow"),A=(U=new WeakSet,H=new WeakSet,class extends l.default{get charCountOverLimit(){return this.exceededMaxCharLimitError?this.charCountLimit-this.currentCharCount:null}get currentCharCount(){var e
return null===(e=(0,u.get)(this.args,"shareContentsData.text"))||void 0===e?void 0:e.length}get disableDetourButtons(){return this.isInEditMode||this.args.shareboxHasAttachment}get exceededMaxCharLimitError(){return this.currentCharCount>this.charCountLimit}get exceededMaxMentionsError(){const e=(0,u.get)(this.args,"shareContentsData.mentions")
return!!e&&e.length>this.mentionsCountLimit}get groupIdForMentionsTypeahead(){if(this.args.groupId)return this.args.groupId
const e=(0,u.get)(this.args,"currentVisibility.containerEntity")
return(0,h.isPresent)(e)&&(0,r.default)(this,U,F).call(this,e)?(0,p.entityUrnToId)(e):null}get isInEditMode(){return this.args.shareType===f.SHARE_TYPES.EDIT}get isShowingFeedbackMsg(){return this.exceededMaxCharLimitError||this.exceededMaxMentionsError||this.args.postFailureErrorMessage||this.args.showDetourPreviewLoading||this.args.showDetourPreviewError}get pageKey(){return this.isInEditMode?b.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.EDIT:this.args.shareType===f.SHARE_TYPES.RESHARE?b.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.RESHARE:this.args.shareType===f.SHARE_TYPES.DRAFT?b.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.DRAFT:b.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.SHARE}get primaryButtonDisabled(){var e
return!this.args.shareboxHasValidContent||this.args.isNormshareRequestPending||this.exceededMaxCharLimitError||this.exceededMaxMentionsError||this.isInEditMode&&!this.args.editedShareHasChanged||(null===(e=this.args.currentVisibility)||void 0===e?void 0:e.type)===f.VALID_VISIBILITY_TYPES.SELECT_VISIBILITY}get shouldShowCommentControls(){const e=this.args.currentVisibility.type
return!this.isInEditMode&&!this.args.isInBroadcastMode&&e!==f.VALID_VISIBILITY_TYPES.SELECT_VISIBILITY&&this.showCreationStateFooter}get shouldShowCommentControlsTooltip(){return this.shouldShowCommentControls&&!this.args.hasActedOnCommentRestrictions&&this.commentControlTooltipLegoToken}get showCreationStateFooter(){return!this.args.hideCreationStateFooter}get showChooserMenuTrigger(){var e
return null===(e=this.args.chooserMenuButtons)||void 0===e?void 0:e.length}get showContentOnlyInPreviewedUpdate(){return this.isInEditMode}get showGuider(){return!this.isInEditMode}get trackableRootObject(){return{associatedEntityUrn:(0,u.get)(this.args,"updateV2.entityUrn"),controlType:"share",objectUrn:(0,u.get)(this.args,"updateV2.updateMetadata.shareUrn"),trackingId:(0,u.get)(this.args,"updateV2.updateMetadata.trackingData.trackingId")}}get triggerData(){return{insertEmojiCallback:(0,r.default)(this,H,Y).bind(this)}}get showStickyVisibilityInlineCallout(){return this.args.usingStickyVisibility&&this.isStickyVisibilityInlineCalloutEnabled}constructor(){var e,r
super(...arguments)
H.add(this)
U.add(this);(0,t.default)(this,"lix",D,this);(0,t.default)(this,"locale",N,this);(0,t.default)(this,"tracking",w,this);(0,t.default)(this,"legoResolver",R,this);(0,t.default)(this,"legoTracking",M,this);(0,t.default)(this,"windowService",P,this);(0,t.default)(this,"reflow",k,this);(0,i.default)(this,"beKindToken","share.prompt_beKindLearnMore");(0,i.default)(this,"charCountLimit",b.UPLOAD_LIMITS.NONTWITTER_CHAR_LIMIT);(0,i.default)(this,"controlInteractionEvents",b.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"mentionsCountLimit",b.UPLOAD_LIMITS.MENTIONS_LIMIT);(0,i.default)(this,"quillEditorSelector",".ql-editor");(0,t.default)(this,"commentControlTooltipLegoToken",L,this);(0,t.default)(this,"focusOnTexteditor",V,this);(0,t.default)(this,"isStickyVisibilityInlineCalloutEnabled",x,this);(0,t.default)(this,"showBeKindMessage",B,this)
null===(e=(r=this.args).updateModalConfig)||void 0===e||e.call(r,{modalHeader:this.args.initialHeader,controlName:this.controlInteractionEvents.UNFOCUS_SHAREBOX,shouldFocusOnHeader:!1})
this._showBeKind()
this.args.usingStickyVisibility&&this._checkInlineStickyVisibilityLegoStatus()
this.args.hasActedOnCommentRestrictions||this._tryShowCommentRestrictionsTooltip()}_showBeKind(){(0,_.fireLegoRequestHelper)(this.legoResolver,{pageKey:"feed_share",slotId:"be_kind_prompt",groupId:"be_kind_prompt",widgetId:"participate-sharing:_be_kind_prompt"},(e=>this._updateBeKindLegoStatus(null==e?void 0:e.trackingToken)))}_takeCommentControlAction(){this.args.tookCommentControlAction()
this.commentControlTooltipLegoToken&&this.legoTracking.sendLegoAction(this.commentControlTooltipLegoToken,this.legoTracking.LEGO_ACTION_PRIMARY)}_tryShowCommentRestrictionsTooltip(){this.isInEditMode||(0,_.fireLegoRequestHelper)(this.legoResolver,{pageKey:"feed_share",slotId:"comment_restriction_tooltip",groupId:"comment_restriction_tooltip",widgetId:"participate-sharing:_comment_restriction_tooltip"},(e=>{!this.isDestroying&&null!=e&&e.trackingToken&&(this.commentControlTooltipLegoToken=e.trackingToken)}))}_checkInlineStickyVisibilityLegoStatus(){this.args.currentVisibility.type!==f.VALID_VISIBILITY_TYPES.CONNECTIONS&&this.args.currentVisibility.type!==f.VALID_VISIBILITY_TYPES.CONTAINER||(0,_.fireLegoRequestHelper)(this.legoResolver,{pageKey:"feed_share",slotId:"sticky_visibility_inline_callout",groupId:"sticky_visibility_inline_callout",widgetId:"sharing:_show_sticky_visibility_inline_callout"},(e=>this._updateStickyVisibilityInlineCalloutLego(null==e?void 0:e.trackingToken)))}_updateStickyVisibilityInlineCalloutLego(e){this.isStickyVisibilityInlineCalloutEnabled=!0
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}_updateBeKindLegoStatus(e){this.showBeKindMessage=!0
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}fireCommentRestrictionTooltipLegoImpressionEvent(){!this.args.hasActedOnCommentRestrictions&&this.commentControlTooltipLegoToken&&this.legoTracking.sendLegoImpression(this.commentControlTooltipLegoToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}onDetourPreviewErrorClick(e){this.windowService.open(e,"_blank")}onDetourPreviewRemoval(){this.focusOnTexteditor=!0
this.args.removeDetourPreview()}onInsertText(e){(0,r.default)(this,H,Y).call(this,e)}openCommunityPolicies(e){this.tracking.fireInteractionEvent(e,"SHORT_PRESS")
this.windowService.open(`${(0,m.getDomainUrl)()}/legal/professional-community-policies`,"_blank")}setInsertContentHandler(e){this.insertContentCallback=e}takeCommentControlAction(){this._takeCommentControlAction()}removeFocus(e){this.args.removeFocus&&this.args.removeFocus(e)}onEmojiSelected(e){let{body:t,triggerData:i}=e
i.insertEmojiCallback(t)}onEmojiHoverableHide(){(0,y.default)(this,".ql-editor")}get isEmojisInShareBoxEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.feed-emojis-in-sharebox")}}),D=(0,n.default)(A.prototype,"lix",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,n.default)(A.prototype,"locale",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,n.default)(A.prototype,"tracking",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,n.default)(A.prototype,"legoResolver",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,n.default)(A.prototype,"legoTracking",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,n.default)(A.prototype,"windowService",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,n.default)(A.prototype,"reflow",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,n.default)(A.prototype,"commentControlTooltipLegoToken",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,n.default)(A.prototype,"focusOnTexteditor",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,n.default)(A.prototype,"isStickyVisibilityInlineCalloutEnabled",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=(0,n.default)(A.prototype,"showBeKindMessage",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(A.prototype,"fireCommentRestrictionTooltipLegoImpressionEvent",[u.action],Object.getOwnPropertyDescriptor(A.prototype,"fireCommentRestrictionTooltipLegoImpressionEvent"),A.prototype),(0,n.default)(A.prototype,"onDetourPreviewErrorClick",[u.action],Object.getOwnPropertyDescriptor(A.prototype,"onDetourPreviewErrorClick"),A.prototype),(0,n.default)(A.prototype,"onDetourPreviewRemoval",[u.action],Object.getOwnPropertyDescriptor(A.prototype,"onDetourPreviewRemoval"),A.prototype),(0,n.default)(A.prototype,"onInsertText",[u.action],Object.getOwnPropertyDescriptor(A.prototype,"onInsertText"),A.prototype),(0,n.default)(A.prototype,"openCommunityPolicies",[u.action],Object.getOwnPropertyDescriptor(A.prototype,"openCommunityPolicies"),A.prototype),(0,n.default)(A.prototype,"setInsertContentHandler",[u.action],Object.getOwnPropertyDescriptor(A.prototype,"setInsertContentHandler"),A.prototype),(0,n.default)(A.prototype,"takeCommentControlAction",[u.action],Object.getOwnPropertyDescriptor(A.prototype,"takeCommentControlAction"),A.prototype),(0,n.default)(A.prototype,"removeFocus",[u.action],Object.getOwnPropertyDescriptor(A.prototype,"removeFocus"),A.prototype),(0,n.default)(A.prototype,"onEmojiSelected",[u.action],Object.getOwnPropertyDescriptor(A.prototype,"onEmojiSelected"),A.prototype),(0,n.default)(A.prototype,"onEmojiHoverableHide",[u.action],Object.getOwnPropertyDescriptor(A.prototype,"onEmojiHoverableHide"),A.prototype),A)
e.default=j
function F(e){const t=(0,g.fromUrn)(e,!1).type
return!("group"!==t&&"fsd_group"!==t)}function Y(e){var t
null===(t=this.insertContentCallback)||void 0===t||t.call(this,{text:e},!0)}(0,a.setComponentTemplate)(z,j)}))
define.alias("ember-vector-images/components/custom-image","sharing-v2/components/custom-image")
define("sharing-v2/components/date-time-picker",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","sharing-v2/utils/sharing-utils","@ember/service","@glimmer/tracking","@ember/object","sharing-v2/utils/sharing-constants","detour-framework/utils/detour-constants","sharing-v2/utils/norm-share-utils","sharing-shared/utils/sharing-shared-constants"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g,m,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,_,y,T,S,E,v,I,C,O,A,D
const N=(0,s.createTemplateFactory)({id:"ggFJPHnK",block:'[[[11,0],[24,0,"share-date-time-picker"],[4,[38,0],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,1],[[53,"outletState"],"render.name"],null],[28,[37,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[10,0],[14,0,"share-date-time-picker__content"],[12],[1,"\\n    "],[10,"form"],[14,0,"share-date-time-picker__scheduler-form"],[12],[1,"\\n      "],[10,2],[14,0,"mb3 t-14 t-black--light"],[12],[1,"\\n"],[41,[28,[37,4],[[30,0,["canBeScheduled"]]],null],[[[1,"          "],[1,[28,[35,5],null,[["type","size","class"],["signal-notice","small","mr1 v-align-text-bottom"]]]],[1,"\\n\\n"],[41,[30,1],[[[1,"            "],[1,[28,[35,6],["i18n_reschedule_unsupported_message","sharing-v2/components/date-time-picker"],[["linkInfo"],[[28,[37,7],null,[["target","href","rel"],["_blank","/help/linkedin/answer/a1347212","noopener noreferrer"]]]]]]],[1,"\\n"]],[]],[[[1,"            "],[1,[28,[35,6],["i18n_schedule_unsupported_message","sharing-v2/components/date-time-picker"],[["linkInfo"],[[28,[37,7],null,[["target","href","rel"],["_blank","/help/linkedin/answer/a1347212","noopener noreferrer"]]]]]]],[1,"\\n"]],[]]]],[]],[[[41,[30,2],[[[1,"          "],[8,[39,8],null,[["@tvm"],[[30,2]]],null],[1,"\\n        "]],[]],null]],[]]],[1,"      "],[13],[1,"\\n\\n      "],[10,"label"],[14,"for","share-post__scheduled-date"],[12],[1,[28,[35,6],["i18n_date_label","sharing-v2/components/date-time-picker"],null]],[13],[1,"\\n      "],[8,[39,9],[[24,0,"share-date-time-picker__datepicker"]],[["@disabled","@inputId","@value","@min","@max","@isDateSelectable","@onDateSelected","@ariaLabel"],[[28,[37,4],[[30,0,["canBeScheduled"]]],null],"share-post__scheduled-date",[30,0,["selectedDate"]],[30,0,["minDate"]],[30,0,["maxDate"]],[52,[30,3],[30,3],[30,0,["isStartDateSelectable"]]],[30,0,["onDateSelected"]],"Date"]],null],[1,"\\n      "],[10,"label"],[14,"for","share-post__scheduled-time"],[12],[1,[28,[35,6],["i18n_time_label","sharing-v2/components/date-time-picker"],null]],[13],[1,"\\n      "],[8,[39,10],[[24,0,"mb6"]],[["@disabled","@inputId","@value","@allowEmptyValue","@ariaLabel","@displayTimeFormat","@valueTimeFormat","@interval","@min","@onTimeSelected"],[[28,[37,4],[[30,0,["canBeScheduled"]]],null],"share-post__scheduled-time",[30,0,["selectedTime"]],true,"Time","HOURS12","HOURS24","THIRTY",[30,0,["minTime"]],[30,0,["onTimeSelected"]]]],null],[1,"\\n    "],[13],[1,"\\n"],[41,[28,[37,4],[[30,0,["isReschedulingPost"]]],null],[[[1,"      "],[11,"button"],[24,0,"t-black--light ph5 pv3 share-date-time-picker__view-scheduled-posts-button"],[16,"onclick",[30,4]],[24,4,"button"],[4,[38,11],[[30,0,["controlInteractionEvents","SCHEDULE_OPEN_POST_LIST"]]],null],[12],[1,"\\n        "],[1,[28,[35,5],null,[["class","type","size"],["mr4","notebook-filled","large"]]]],[1,"\\n        "],[10,1],[14,0,"text-align-left flex-grow-1 t-14"],[12],[1,[28,[35,6],["i18n_view_all_posts","sharing-v2/components/date-time-picker"],null]],[13],[1,"\\n        "],[1,[28,[35,5],null,[["type","size"],["arrow-right","large"]]]],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n  "],[8,[39,12],null,[["@primaryAction","@primaryButtonKey","@primaryControlName","@isPrimaryActionInProgress","@isPrimaryDisabled","@secondaryAction","@secondaryButtonKey","@secondaryControlName","@tertiaryAction","@tertiaryButtonKey","@tertiaryControlName"],[[30,0,["primaryButton","clickHandler"]],[30,0,["primaryButton","buttonKey"]],[30,0,["primaryButton","controlName"]],[30,0,["isNormShareRequestPending"]],[30,0,["primaryButton","isDisabled"]],[30,0,["secondaryButton","clickHandler"]],[30,0,["secondaryButton","buttonKey"]],[30,0,["secondaryButton","controlName"]],[30,0,["tertiaryButton","clickHandler"]],[30,0,["tertiaryButton","buttonKey"]],[30,0,["tertiaryButton","controlName"]]]],null],[1,"\\n"],[13]],["@timestamp","@timeZoneDescription","@isStartDateSelectable","@goToPostList"],false,["ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","if","global-helpers@not","artdeco-icons-web@li-icon","t","hash","text-view-model@text-view-model-v2","artdeco-datepicker@artdeco-datepicker","date-time-picker@timepicker","ember-cli-pemberly-tracking@track-interaction","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/date-time-picker.hbs",isStrictMode:!1})
let w=(f=(0,d.inject)("i18n"),_=(0,d.inject)("store"),y=(0,d.inject)("persistent-toast-manager@persistent-toast-manager"),T=(D=new WeakSet,class extends l.default{get canBeScheduled(){return this.args.canBeScheduled||this.isReschedulingPost}get isReschedulingPost(){return!(!this.args.timestamp||!this.args.shareUrn)}get isUpdatingSchedule(){return!!this.args.timestamp&&!this.args.shareUrn}get selectedTimestamp(){if(this.selectedDate&&Number.isInteger(this.selectedHours)&&Number.isInteger(this.selectedMinutes)){this.selectedDate.setHours(this.selectedHours)
this.selectedDate.setMinutes(this.selectedMinutes)
return this.selectedDate.getTime()}return null}get selectedTime(){return Number.isInteger(this.selectedHours)&&Number.isInteger(this.selectedMinutes)?(0,r.default)(this,D,R).call(this):null}get minTime(){const e=new Date
return this.selectedDate&&this.selectedDate.getDate()===e.getDate()&&this.selectedDate.getMonth()===e.getMonth()&&this.selectedDate.getFullYear()===e.getFullYear()?new Date(e.setHours(e.getHours()+1)):null}get primaryButton(){const e={clickHandler:this.onNextClick,controlName:this.controlInteractionEvents.SCHEDULE_DATE_TIME_NEXT,buttonKey:g.SHARE_BOX_FOOTER_PRIMARY_KEYS.NEXT,isDisabled:this.isNextButtonDisabled},t={clickHandler:this.onSaveButtonClick,controlName:this.controlInteractionEvents.SCHEDULE_DATE_TIME_SAVE,buttonKey:g.SHARE_BOX_FOOTER_PRIMARY_KEYS.SAVE,isDisabled:this.isSaveButtonDisabled}
return this.isReschedulingPost?t:e}get secondaryButton(){return{clickHandler:this.args.goBackAction,controlName:this.controlInteractionEvents.SCHEDULE_DATE_TIME_BACK,buttonKey:g.SHARE_BOX_FOOTER_SECONDARY_KEYS.BACK}}get tertiaryButton(){const e={clickHandler:this.onClearButtonClick,controlName:this.controlInteractionEvents.SCHEDULE_DATE_TIME_CLEAR,buttonKey:g.SHARE_BOX_FOOTER_TERTIARY_KEYS.CLEAR_TIME}
return this.isUpdatingSchedule?e:{}}get isNextButtonDisabled(){return!this.selectedTimestamp||this.args.timestamp===this.selectedTimestamp||!this.args.canBeScheduled}get isSaveButtonDisabled(){return null===this.selectedTimestamp||this.args.timestamp===this.selectedTimestamp||this.isNormShareRequestPending}constructor(){var e,r
super(...arguments)
D.add(this);(0,t.default)(this,"i18n",S,this);(0,t.default)(this,"store",E,this);(0,t.default)(this,"persistentToastManager",v,this);(0,i.default)(this,"controlInteractionEvents",p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"pageKey",p.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.DATE_TIME_PICKER);(0,i.default)(this,"minDate",new Date);(0,i.default)(this,"maxDate",new Date(Date.now()+b.TIME_VALUES.NINTY_DAYS_MS-b.TIME_VALUES.ONE_DAY_MS));(0,t.default)(this,"selectedHours",I,this);(0,t.default)(this,"selectedMinutes",C,this);(0,t.default)(this,"selectedDate",O,this);(0,t.default)(this,"isNormShareRequestPending",A,this)
const n=this.args.timestamp?new Date(this.args.timestamp):(0,c.generateDefaultDatePickerDate)()
this.selectedDate=n
this.selectedHours=n.getHours()
this.selectedMinutes=n.getMinutes()
null===(e=(r=this.args).updateModalConfig)||void 0===e||e.call(r,{modalHeader:this.i18n.lookupTranslation("components/sharing-v2@date-time-picker","i18n_schedule-post-date-picker-header")(),controlName:this.controlInteractionEvents.SCHEDULE_DATE_TIME_EXIT,shouldFocusOnHeader:!0})}onSaveButtonClick(){this.isNormShareRequestPending=!0;(0,m.partialNormShareUpdate)({store:this.store,ugcUrn:this.args.shareUrn,degradationPemTrackingMetaData:b.DEGRADATION_TRACKING_METADATA.PARTIAL_SCHEDULED,scheduledAt:this.selectedTimestamp}).then((()=>{this.store.unloadAll(p.SHARE_PREVIEWS_CACHE_MODEL_NAME)
this.store.unloadURL(`${p.SHARE_DETAIL_CACHE_KEY_BASE}|${this.args.shareUrn}`)
this.persistentToastManager.success({message:this.i18n.lookupTranslation("components/sharing-v2@date-time-picker","i18n_schedule_update_success")()})
this.args.goBackAction()})).catch((e=>{this.persistentToastManager.error({message:this.i18n.lookupTranslation("components/sharing-v2@date-time-picker","i18n_schedule_update_failed")()})
throw e})).finally((()=>{this.isNormShareRequestPending=!1}))}onClearButtonClick(){var e
this.args.goBackAction()
null===(e=this.args)||void 0===e||e.onNextClick(null)}onNextClick(){var e
this.args.goBackAction()
null===(e=this.args)||void 0===e||e.onNextClick(this.selectedTimestamp)}onViewAllScheduledPostsClick(){this.args.openManagementView()}onDateSelected(e){this.selectedDate=e}onTimeSelected(e){const[t,i]=(null==e?void 0:e.split(":"))||[null,null]
this.selectedHours=parseInt(t,10)
this.selectedMinutes=parseInt(i,10)}}),S=(0,n.default)(T.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(T.prototype,"store",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,n.default)(T.prototype,"persistentToastManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,n.default)(T.prototype,"selectedHours",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,n.default)(T.prototype,"selectedMinutes",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,n.default)(T.prototype,"selectedDate",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.default)(T.prototype,"isNormShareRequestPending",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(T.prototype,"onSaveButtonClick",[h.action],Object.getOwnPropertyDescriptor(T.prototype,"onSaveButtonClick"),T.prototype),(0,n.default)(T.prototype,"onClearButtonClick",[h.action],Object.getOwnPropertyDescriptor(T.prototype,"onClearButtonClick"),T.prototype),(0,n.default)(T.prototype,"onNextClick",[h.action],Object.getOwnPropertyDescriptor(T.prototype,"onNextClick"),T.prototype),(0,n.default)(T.prototype,"onViewAllScheduledPostsClick",[h.action],Object.getOwnPropertyDescriptor(T.prototype,"onViewAllScheduledPostsClick"),T.prototype),(0,n.default)(T.prototype,"onDateSelected",[h.action],Object.getOwnPropertyDescriptor(T.prototype,"onDateSelected"),T.prototype),(0,n.default)(T.prototype,"onTimeSelected",[h.action],Object.getOwnPropertyDescriptor(T.prototype,"onTimeSelected"),T.prototype),T)
e.default=w
function R(){const e=e=>`${e}`.padStart(2,"0")
return`${e(this.selectedHours)}:${e(this.selectedMinutes)}`}(0,a.setComponentTemplate)(N,w)}))
define("sharing-v2/components/detour-chooser-menu",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","sharing-shared/utils/generic-list-item","@ember/object","@ember/service","sharing-v2/utils/sharing-constants","sharing-shared/utils/text-view-model-helpers"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,m
const b=(0,a.createTemplateFactory)({id:"w4xyylcF",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@headerType","@titleText"],[[30,2],[28,[37,2],["i18n_add_to_your_post","sharing-v2/components/detour-chooser-menu"],null]]],null],[1,"\\n"]],[]],null],[11,0],[16,0,[52,[30,3],"share-box-modal-content__container"]],[4,[38,3],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,4],[[53,"outletState"],"render.name"],null],[28,[37,4],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[10,"fieldset"],[14,0,"share-visibility__fieldset"],[12],[1,"\\n    "],[10,"legend"],[14,0,"visually-hidden"],[12],[1,[28,[35,2],["i18n_add_to_your_post","sharing-v2/components/detour-chooser-menu"],null]],[13],[1,"\\n    "],[8,[39,6],null,[["@listItems","@isInModal","@setItem","@dualColumn"],[[30,0,["genericListItems"]],[30,3],[30,0,["selectDetourButton"]],true]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n"],[8,[39,7],null,[["@showBackButton","@onBackClick","@backButtonControlName","@deprecatedHideDoneButton"],[true,[30,4],[30,0,["controlInteractionEvents","DETOUR_CHOOSER_MENU_SELECT_BACK"]],true]],null]],["@showInlineHeader","@headerType","@isInModal","@closeDetourChooserMenu"],false,["if","detour-framework@title-bar","t","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","sharing-shared@detour-generic-list","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/detour-chooser-menu.hbs",isStrictMode:!1})
let f=(p=(0,d.inject)("i18n"),g=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",m,this);(0,i.default)(this,"genericListItems",void 0);(0,i.default)(this,"detourMap",{});(0,i.default)(this,"pageKey",u.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.DETOUR_CHOOSER_MENU)
this.args.chooserMenuButtons.forEach((e=>{this.detourMap[e.detourType]=e}))
this.genericListItems=this.detoursToGenericList(this.args.chooserMenuButtons)
this.updateParentModal()}detoursToGenericList(e){return e.map((e=>new l.default({itemId:e.detourType,controlName:e.menuControlName,text:(0,h.createTextViewModelV2)(this.i18n.lookupTranslation("components/sharing-v2@creation-state-footer",e.i18nLabelKey)()),ghostIconType:e.iconName,showAsRadioButton:!1})))}updateParentModal(){var e,t
null===(e=(t=this.args).updateModalConfig)||void 0===e||e.call(t,{modalHeader:this.i18n.lookupTranslation("components/sharing-v2@detour-chooser-menu","i18n_add_to_your_post")(),controlName:u.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.DETOUR_CHOOSER_MENU_SELECT_EXIT,shouldFocusOnHeader:!0})}selectDetourButton(e){this.args.openDetour(this.detourMap[e])}},m=(0,r.default)(g.prototype,"i18n",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(g.prototype,"selectDetourButton",[c.action],Object.getOwnPropertyDescriptor(g.prototype,"selectDetourButton"),g.prototype),g)
e.default=f;(0,o.setComponentTemplate)(b,f)}))
define.alias("ember-cloud-filepicker/components/dropbox-file-picker","sharing-v2/components/dropbox-file-picker")
define.alias("ember-semaphore/components/ember-semaphore","sharing-v2/components/ember-semaphore")
define.alias("ember-wormhole/components/ember-wormhole","sharing-v2/components/ember-wormhole")
define.alias("ember-cloud-filepicker/components/file-picker","sharing-v2/components/file-picker")
define.alias("ember-finite-scroll/components/finite-scroll","sharing-v2/components/finite-scroll")
define.alias("ember-cloud-filepicker/components/google-drive-file-picker","sharing-v2/components/google-drive-file-picker")
define("sharing-v2/components/guider/guider-bar",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","detour-framework/utils/partner-detour-buttons"],(function(e,t,i,r,n,o,a,s,l,c,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,h,p
const g=(0,a.createTemplateFactory)({id:"ke2Idd12",block:'[[[10,0],[14,0,"full-width display-flex"],[12],[1,"\\n"],[41,[30,1,["headerPrompt","name"]],[[[1,"    "],[10,0],[14,0,"share-guider-button-prompt share-box__guider-prompt--fade-in"],[12],[1,"\\n      "],[10,0],[14,0,"share-guider-button-prompt"],[12],[1,"\\n        "],[8,[39,1],null,[["@prompt","@onPromptClick"],[[30,1,["headerPrompt"]],[30,0,["onPromptClick"]]]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[41,[30,1,["prompts","length"]],[[[1,"    "],[8,[39,2],null,[["@onSlideTransitionComplete","@onPromptClick","@prompts"],[[30,0,["onSlideTransitionComplete"]],[30,0,["onPromptClick"]],[30,1,["prompts"]]]],null],[1,"\\n"]],[]],null],[13]],["@guiderManager"],false,["if","sharing-v2@guider/guider-prompt","sharing-v2@guider/guider-carousel"]]',moduleName:"sharing-v2/components/guider/guider-bar.hbs",isStrictMode:!1})
let m=(u=(0,c.inject)("tracking"),h=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",p,this)}onPromptClick(e,t){e.textToInsert&&this.args.onInsertText(e.textToInsert)
if(e.detourType&&d.SHAREBOX_DETOUR_BUTTON_MAP_BY_TYPE[e.detourType]){this.args.openDetour(d.SHAREBOX_DETOUR_BUTTON_MAP_BY_TYPE[e.detourType])
this.args.guiderManager.fireGuiderPromptClickTracking(e.trackingPromptType)}e.trackingControlName&&this.tracking.fireInteractionEvent(`share_${e.trackingControlName}`)
e.hashtagTrackingData&&(0,l.get)(e,"hashtagTrackingData.recommendationTrackingId")&&this.args.guiderManager.fireHashtagSuggestionActionEvent(e,t)}onSlideTransitionComplete(){this.args.guiderManager.fireHashtagSuggestionImpressionEvent()}},p=(0,r.default)(h.prototype,"tracking",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(h.prototype,"onPromptClick",[l.action],Object.getOwnPropertyDescriptor(h.prototype,"onPromptClick"),h.prototype),(0,r.default)(h.prototype,"onSlideTransitionComplete",[l.action],Object.getOwnPropertyDescriptor(h.prototype,"onSlideTransitionComplete"),h.prototype),h)
e.default=m;(0,o.setComponentTemplate)(g,m)}))
define("sharing-v2/components/guider/guider-carousel",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","ember","@glimmer/tracking","@ember/debug","@ember/object","ember-batcher","sharing-v2/utils/sharing-constants"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,m,b,f
const _=(0,a.createTemplateFactory)({id:"itNMOt5l",block:'[[[11,0],[24,0,"share-guider-custom-carousel-prompt"],[17,1],[12],[1,"\\n"],[41,[30,0,["showScrollLeft"]],[[[1,"    "],[8,[39,1],[[4,[38,3],[[30,0,["scrollTrackingEvent"]]],null]],[["@class","@color","@type","@click"],["mr2","default","tertiary",[28,[37,2],[[30,0,["scrollHandler"]],"LEFT"],null]]],[["default"],[[[[1,"\\n      "],[1,[28,[35,4],null,[["type","size","a11y-text"],["chevron-left","small",[28,[37,5],["i18n_scroll_guider_carousel_left","sharing-v2/components/guider/guider-carousel"],null]]]]],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n  "],[11,"ul"],[24,0,"share-guider-custom-carousel-prompt__container relative list-style-none display-flex justify-flex-start align-items-center full-width overflow-hidden"],[4,[38,6],[[30,0,["setScrollingElement"]]],null],[4,[38,7],[[30,0,["updateOverflowButtons"]],[30,2]],null],[12],[1,"\\n"],[42,[28,[37,9],[[28,[37,9],[[30,2]],null]],null],null,[[[1,"      "],[10,"li"],[15,0,[29,["share-guider-custom-carousel-prompt__slide flex-shrink-zero\\n          ",[52,[28,[37,10],[[30,4],0],null],"ml1"]]]],[15,"data-index",[30,4]],[12],[1,"\\n        "],[8,[39,11],null,[["@prompt","@onPromptClick"],[[30,3],[28,[37,2],[[30,5],[30,3],[30,4]],null]]],null],[1,"\\n      "],[13],[1,"\\n"]],[3,4]],null],[1,"  "],[13],[1,"\\n\\n"],[41,[30,0,["showScrollRight"]],[[[1,"    "],[8,[39,1],[[4,[38,3],[[30,0,["scrollTrackingEvent"]]],null]],[["@class","@color","@type","@click"],["ml2","default","tertiary",[28,[37,2],[[30,0,["scrollHandler"]],"RIGHT"],null]]],[["default"],[[[[1,"\\n      "],[1,[28,[35,4],null,[["type","size","a11y-text"],["chevron-right","small",[28,[37,5],["i18n_scroll_guider_carousel_right","sharing-v2/components/guider/guider-carousel"],null]]]]],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],null],[13]],["&attrs","@prompts","prompt","index","@onPromptClick"],false,["if","artdeco-button@artdeco-button","fn","ember-cli-pemberly-tracking@track-interaction","artdeco-icons-web@li-icon","t","did-insert","did-update","each","-track-array","global-helpers@neq","sharing-v2@guider/guider-prompt"]]',moduleName:"sharing-v2/components/guider/guider-carousel.hbs",isStrictMode:!1})
let y=(g=class extends s.default{constructor(){super(...arguments);(0,i.default)(this,"scrollTrackingEvent",p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.SHOW_MORE_HASHTAGS);(0,t.default)(this,"showScrollRight",m,this);(0,t.default)(this,"showScrollLeft",b,this);(0,t.default)(this,"scrollingElement",f,this)
const{onPromptClick:e}=this.args}_updateOverflowButtons(){var e,t,i
const r=null===(e=this.scrollingElement)||void 0===e?void 0:e.scrollLeft,n=null===(t=this.scrollingElement)||void 0===t?void 0:t.scrollWidth,o=null===(i=this.scrollingElement)||void 0===i?void 0:i.clientWidth
if(n<o){this.showScrollLeft=!1
this.showScrollRight=!1
return}const a=r>0,s=r<n-o
if(a&&!s){var c,d
null===(c=(d=this.args).onSlideTransitionComplete)||void 0===c||c.call(d)}this.showScrollLeft=a
this.showScrollRight=s
if(l.default.testing){this.showScrollLeft=!0
this.showScrollRight=!0}}setScrollingElement(e){this.scrollingElement=e
this._updateOverflowButtons()}updateOverflowButtons(){this._updateOverflowButtons()}scrollHandler(e){(0,h.mutateDOM)((()=>{if(!this.isDestroying){var t,i
const r=null===(t=this.scrollingElement)||void 0===t?void 0:t.clientWidth,n=null===(i=this.scrollingElement)||void 0===i?void 0:i.scrollLeft,o="LEFT"===e?n-r:n+r
this.scrollingElement.scrollLeft=o
this._updateOverflowButtons()}}))}},m=(0,r.default)(g.prototype,"showScrollRight",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,r.default)(g.prototype,"showScrollLeft",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,r.default)(g.prototype,"scrollingElement",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(g.prototype,"setScrollingElement",[u.action],Object.getOwnPropertyDescriptor(g.prototype,"setScrollingElement"),g.prototype),(0,r.default)(g.prototype,"updateOverflowButtons",[u.action],Object.getOwnPropertyDescriptor(g.prototype,"updateOverflowButtons"),g.prototype),(0,r.default)(g.prototype,"scrollHandler",[u.action],Object.getOwnPropertyDescriptor(g.prototype,"scrollHandler"),g.prototype),g)
e.default=y;(0,o.setComponentTemplate)(_,y)}))
define("sharing-v2/components/guider/guider-prompt",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const n=(0,i.createTemplateFactory)({id:"UM8L+JYr",block:'[[[41,[28,[37,1],[[30,1,["textToInsert"]],[30,1,["detourType"]]],null],[[[1,"  "],[8,[39,2],null,[["@type","@size","@class","@color","@click"],["tertiary","2","guider-button-prompt__button share-suggested-hashtags-prompt__add-hashtag","default",[28,[37,3],[[30,2],[30,1]],null]]],[["default"],[[[[1,"\\n    "],[8,[39,4],null,[["@tvm"],[[30,1,["name"]]]],null],[1,"\\n  "]],[]]]]],[1,"\\n"]],[]],[[[1,"  "],[10,1],[14,0,"t-14 t-black--light ml2"],[12],[1,"\\n    "],[8,[39,4],null,[["@tvm"],[[30,1,["name"]]]],null],[1,"\\n  "],[13],[1,"\\n"]],[]]]],["@prompt","@onPromptClick"],false,["if","global-helpers@or","artdeco-button@artdeco-button","fn","text-view-model@text-view-model-v2"]]',moduleName:"sharing-v2/components/guider/guider-prompt.hbs",isStrictMode:!1})
var o=(0,t.setComponentTemplate)(n,(0,r.default)())
e.default=o}))
define.alias("ember-highcharts/components/high-charts","sharing-v2/components/high-charts")
define.alias("image-editor/components/image-editor-loader","sharing-v2/components/image-editor-loader")
define.alias("image-editor/components/image-editor","sharing-v2/components/image-editor")
define.alias("ember-finite-scroll/components/item-container","sharing-v2/components/item-container")
define.alias("ember-vector-images/components/lazy-background","sharing-v2/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","sharing-v2/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","sharing-v2/components/line-clamp")
define.alias("artdeco-icons-web/components/linkedin-logo","sharing-v2/components/linkedin-logo")
define.alias("ember-cloud-filepicker/components/local-file-input","sharing-v2/components/local-file-input")
define.alias("ember-media-player/components/media-player","sharing-v2/components/media-player")
define.alias("ember-cloud-filepicker/components/onedrive-file-picker","sharing-v2/components/onedrive-file-picker")
define("sharing-v2/components/open-share-box",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/service","@ember/debug","@ember/object","@ember/utils","global-utils/utils/api-compat","ember-copy","ember-lifeline","global-utils/utils/is-browser","sharing-shared/utils/text-view-model-helpers","rsvp","detour-framework/utils/detour-buttons","detour-framework/utils/partner-detour-buttons","sharing-v2/utils/guider/dash-guider-manager","sharing-v2/utils/visibility/share-box-actor","sharing-v2/utils/visibility/comment-restriction","sharing-shared/utils/share-create-request","sharing-v2/utils/norm-share-utils","sharing-v2/utils/share-status-helper","detour-framework/utils/detour-constants","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","sharing-shared/utils/client-sensor-utils","sharing-v2/utils/sharing-utils","sharing-v2/utils/visibility/visibility-option","sharing-v2/utils/visibility/visibility-utils","detour-framework/utils/preview-utils","organization-detour/url-preview-detour-manager","sharing-shared/utils/client-sensor-constants","global-utils/utils/tracking-id","sharing-v2/utils/visibility/visibility-option-configs","text-view-model/utils/generator","scaffold-sound/services/sound","sharing-v2/utils/lix"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g,m,b,f,_,y,T,S,E,v,I,C,O,A,D,N,w,R,M,P,k,L,V,x,B,U,H,z){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var j,F,Y,G,K,W,X,q,$,Z,J,Q,ee,te,ie,re,ne,oe,ae,se,le,ce,de,ue,he,pe,ge,me,be,fe,_e,ye,Te,Se,Ee,ve,Ie,Ce,Oe,Ae,De,Ne,we,Re,Me,Pe,ke,Le,Ve,xe,Be,Ue,He,ze,je,Fe,Ye,Ge,Ke,We,Xe,qe,$e,Ze,Je,Qe,et,tt,it,rt,nt,ot,at,st,lt
const ct=(0,a.createTemplateFactory)({id:"oyeCzVXw",block:'[[[11,0],[24,0,"full-height"],[17,1],[12],[1,"\\n  "],[10,0],[14,0,"share-box"],[12],[1,"\\n"],[41,[28,[37,1],[[30,0,["shareboxState"]],"CREATION"],null],[[[1,"      "],[8,[39,2],null,[["@autoFocusTexteditor","@canBeScheduled","@chooserMenuButtons","@currentActor","@currentCommentRestriction","@currentVisibility","@cursorRange","@customPrimaryButtonText","@detourPreviewEditControlInteractionEventName","@detourPreviewError","@detourPreviewRemoveControlInteractionEventName","@detourPreviewStatusData","@editDetour","@editedShareHasChanged","@goToDetourChooserMenu","@goToVisibilityScreen","@goToPostManager","@groupId","@guiderManager","@hasActedOnCommentRestrictions","@hashtagRelevanceUrn","@headerType","@hideCreationStateFooter","@initialTextAndMentions","@isInBroadcastMode","@isOrganizationActor","@isNormshareRequestPending","@isScheduledPostsEnabled","@isShareboxInModal","@isShowingDetourPreview","@onEditShareMedia","@onFoundUrl","@onScheduleSelected","@openDetour","@publishPost","@postFailureErrorMessage","@previewedUpdateV2","@removeDetourPreview","@scheduledDate","@shareboxHasAttachment","@shareboxHasValidContent","@shareBoxSessionId","@shareContentsData","@shareType","@showActorToggle","@showDetourPreviewEditButton","@showDetourPreviewError","@showDetourPreviewLoading","@showDetourPreviewRemoveButton","@showInlineHeader","@textInputI18nPlaceholderText","@tookCommentControlAction","@updateShareViewModel","@updateV2","@usingStickyVisibility"],[[30,0,["autoFocusTexteditor"]],[30,0,["canBeScheduled"]],[30,0,["chooserMenuDetourButtons"]],[30,0,["currentActor"]],[30,0,["currentCommentRestriction"]],[30,0,["currentVisibility"]],[30,0,["cursorRange"]],[30,0,["customPrimaryButtonText"]],[30,0,["detourPreviewEditControlInteractionEventName"]],[30,0,["detourPreviewError"]],[30,0,["detourPreviewRemoveControlInteractionEventName"]],[30,0,["detourPreviewStatusData"]],[30,0,["editDetour"]],[30,0,["editedShareHasChanged"]],[30,0,["goToDetourChooserMenu"]],[30,0,["goToVisibilityScreen"]],[30,0,["goToPostManager"]],[30,2],[30,0,["guiderManager"]],[30,0,["hasActedOnCommentRestrictions"]],[30,0,["hashtagRelevanceUrn"]],[30,3],[30,4],[30,0,["initialTextAndMentions"]],[30,0,["isInBroadcastMode"]],[30,0,["isOrganizationActor"]],[30,0,["isNormshareRequestPending"]],[30,0,["isScheduledPostsEnabled"]],[30,5],[30,0,["isShowingDetourPreview"]],[30,0,["onEditShareMedia"]],[30,0,["onFoundUrl"]],[30,0,["onScheduleSelected"]],[30,0,["openDetour"]],[30,0,["publishPost"]],[30,0,["postFailureErrorMessage"]],[30,0,["previewedUpdateV2"]],[30,0,["removeDetourPreview"]],[30,0,["scheduledDate"]],[30,0,["shareboxHasAttachment"]],[30,0,["shareboxHasValidContent"]],[30,0,["shareBoxSessionId"]],[30,0,["shareContentsData"]],[30,6],[30,0,["showActorToggle"]],[30,0,["showDetourPreviewEditButton"]],[30,0,["showDetourPreviewError"]],[30,0,["showDetourPreviewLoading"]],[30,0,["showDetourPreviewRemoveButton"]],[30,7],[30,0,["textInputI18nPlaceholderText"]],[30,0,["tookCommentControlAction"]],[30,0,["updateShareViewModel"]],[30,8],[30,0,["useStickyVisibility"]]]],null],[1,"\\n"]],[]],null],[41,[28,[37,1],[[30,0,["shareboxState"]],"DETOUR"],null],[[[44,[[50,[28,[37,5],[[30,0,["detourPath"]]],null],0,null,null]],[[[1,"        "],[8,[30,9],null,[["@onDetourComplete","@goToCreation","@shouldShowBackButton","@class","@detourData","@organizationActorUrn","@organizationActor"],[[30,0,["onDetourComplete"]],[30,0,["goToCreation"]],true,"full-height",[30,0,["detourData"]],[30,0,["organizationActorUrn"]],[52,[30,0,["isOrganizationActor"]],[30,0,["currentActor"]]]]],null],[1,"\\n"]],[9]]]],[]],null],[41,[28,[37,1],[[30,0,["shareboxState"]],"VISIBILITY"],null],[[[1,"      "],[8,[39,6],null,[["@authorAndAudienceSettings","@authorizedTwitterHandle","@availableActors","@eventContentVisibilityRestriction","@excludedVisibilityTypes","@goToCreation","@headerType","@isFixedVisibility","@isInBroadcastMode","@isInEditMode","@isInModal","@isInReshareMode","@protectedMediaPresentForDraft","@setTwitterAuthenticationData","@shareboxHasAttachment","@showInlineHeader","@twitterAuthorized","@updateAuthorAndAudienceSettings","@visibilityScreen"],[[30,0,["authorAndAudienceSettings"]],[30,0,["authorizedTwitterHandle"]],[30,0,["availableActors"]],[30,0,["eventContentVisibilityRestriction"]],[30,10],[30,0,["goToCreation"]],[30,3],[30,0,["isFixedVisibility"]],[30,0,["isInBroadcastMode"]],[30,0,["isInEditMode"]],[30,5],[30,0,["isInReshareMode"]],[30,0,["protectedMediaPresentForDraft"]],[30,0,["setTwitterAuthenticationData"]],[30,0,["shareboxHasAttachment"]],[30,7],[30,0,["twitterAuthorized"]],[30,0,["updateAuthorAndAudienceSettings"]],[30,0,["visibilityScreen"]]]],null],[1,"\\n"]],[]],null],[41,[28,[37,1],[[30,0,["shareboxState"]],"DETOUR_CHOOSER_MENU"],null],[[[1,"      "],[8,[39,7],null,[["@chooserMenuButtons","@closeDetourChooserMenu","@headerType","@isInModal","@openDetour","@showInlineHeader"],[[30,0,["chooserMenuDetourButtons"]],[30,0,["closeDetourChooserMenu"]],[30,3],[30,5],[30,0,["openDetour"]],[30,7]]],null],[1,"\\n"]],[]],null],[41,[28,[37,1],[[30,0,["shareboxState"]],"MANAGEMENT"],null],[[[1,"      "],[8,[39,8],null,[["@canBeScheduled","@goToCreation","@isInModal","@onScheduleSelected","@showInlineHeader","@timestamp","@timeZoneDescription","@updateModalConfig"],[[30,0,["canBeScheduled"]],[30,0,["goToCreation"]],[30,5],[30,0,["onScheduleSelected"]],[30,7],[30,0,["scheduledAt"]],[30,0,["timeZoneDescriptionTVMV2"]],[30,0,["updateModalConfig"]]]],null],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"],[13]],["&attrs","@groupId","@headerType","@hideCreationStateFooter","@isShareboxInModal","@shareType","@showInlineHeader","@updateV2","DetourComponent","@excludedVisibilityTypes"],false,["if","global-helpers@eq","sharing-v2@creation-state","let","component","ember-holy-futuristic-template-namespacing-batman-translate-dynamic-2","sharing-v2@visibility/visibility-manager","sharing-v2@detour-chooser-menu","sharing-v2@post-manager"]]',moduleName:"sharing-v2/components/open-share-box.hbs",isStrictMode:!1})
let dt=(j=(0,c.inject)("global-services@a11y-notification"),F=(0,c.inject)("authentication@authenticated-user"),Y=(0,c.inject)("client-sensor-web@client-sensor"),G=(0,c.inject)("@linkedin/ember-restli-graphql@graphql"),K=(0,c.inject)("i18n"),W=(0,c.inject)("jet"),X=(0,c.inject)("lix"),q=(0,c.inject)("locale"),$=(0,c.inject)("global-services@local-storage"),Z=(0,c.inject)("m3-schema"),J=(0,c.inject)("persistent-toast-manager@persistent-toast-manager"),Q=(0,c.inject)("social-counts-service@social-counts"),ee=(0,c.inject)("scaffold-sound@sound"),te=(0,c.inject)("store"),ie=(0,c.inject)("tracking"),re=(0,c.inject)("sharing-shared@typeahead-tracking"),ne=(0,c.inject)("global-services@window"),oe=class extends s.default{get autoFocusTexteditor(){return this.isTextEditorFocused||!this.args.disableTexteditorAutoFocus}get authorAndAudienceSettings(){return{actor:this.currentActor,commentRestriction:this.currentCommentRestriction,commentRestrictionUserSelectionType:this.commentRestrictionUserSelectionType,stickyVisibilityData:this.stickyVisibilityData,targetedAudience:this.currentTargetedAudience,visibility:this.currentVisibility}}get availableActors(){if(this.args.actorsOverride)return this.args.actorsOverride.map((e=>new E.default(e,this.formatter)))
const e=this.organizationActors,t=new E.default(this.authenticatedUser.miniProfile,this.formatter)
return!this.args.fixedVisibilityType&&(0,h.isPresent)(e)?[t].concat(e):[t]}get canBeSavedAsDraft(){return this.isAllowedDraftEntrypoint&&!this.isInEditMode&&!D.EXTERNAL_DETOURS.includes((0,u.get)(this,"detourManager.detourType"))&&!this.multiImageContentAttached}get isAllowedDraftEntrypoint(){if(this.lix.getTreatmentIsEnabled("voyager.web.sharing-server-side-drafts")){const e=this.args.shareOrigin===N.SHARE_ORIGIN.FEED&&!this.isOrganizationActor,t=this.args.shareOrigin===N.SHARE_ORIGIN.ORGANIZATION&&this.lix.getTreatmentIsEnabled("voyager.web.organization-pages-server-side-drafts")
return e||t}return!1}get isReshareUrlPreview(){return!!(0,u.get)(this,"previewedUpdateV2.updateMetadata.shareUrn")}get isScheduledPostsEnabled(){const e=[N.SHARE_ORIGIN.FEED,N.SHARE_ORIGIN.NAVIGATION_BAR]
this.cachedIsScheduledPostsEnabled=this.cachedIsScheduledPostsEnabled||this.lix.getTreatmentIsEnabled("voyager.web.sharing-scheduled-posts")&&e.includes(this.args.shareOrigin)
return this.cachedIsScheduledPostsEnabled}get canBeScheduled(){return this.isScheduledPostsEnabled&&!D.EXTERNAL_DETOURS.includes((0,u.get)(this,"detourManager.detourType"))&&!(0,u.get)(this,"previewedUpdateV2.content.pollSummary")&&!this.multiImageContentAttached&&!(this.currentVisibility.type===N.VALID_VISIBILITY_TYPES.CONTAINER)&&!(this.currentActor.actorType===D.ACTOR_TYPES.company)&&!this.isReshareUrlPreview}get customPrimaryButtonText(){return this.scheduledAt?this._getI18nMessage("i18n_schedule"):this.args.customPrimaryButtonText}get multiImageContentAttached(){var e
if((null===(e=this.detourManager)||void 0===e?void 0:e.detourType)===A.DETOUR_TYPES.IMAGE){var t
return null===(t=this.detourData)||void 0===t?void 0:t.isMultiImage}return!1}get chooserMenuDetourButtons(){var e
return(0,y.getDetourButtons)(T.REGISTERED_CHOOSER_MENU_DETOUR_BUTTONS,this.lix,this.locale,(0,u.get)(this,"currentActor.actorType"),null===(e=this.currentVisibility)||void 0===e?void 0:e.type)}get dashOrganizationActorUrn(){return this.isOrganizationActor?this.currentActor.dashCompanyUrn:null}get detourManagerCustomTextInputPlaceholderText(){var e,t
return null===(e=this.detourManager)||void 0===e||null===(t=e.getPlaceholderText)||void 0===t?void 0:t.call(e)}get detourPath(){const{detourButton:e}=this
return e?(0,u.get)(e,"componentName"):A.DETOUR_PATHS[(0,u.get)(this,"detourManager.detourType")]}get detourPreviewEditControlInteractionEventName(){const e=D.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.EDIT_PREVIEW_PREFIX,t=(0,u.get)(this,"detourManager.isDetourV2")?(0,u.get)(this,"detourManager.detourType"):(0,u.get)(this,"detourButton.detourType")
return`${e}${null==t?void 0:t.toLowerCase()}`}get detourPreviewError(){return(0,u.get)(this,"detourPreviewStatusData.message")||this._getI18nMessage(D.I18N_KEYS.GENERIC_PREVIEW_ERROR)}get detourPreviewRemoveControlInteractionEventName(){const e=D.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.REMOVE_PREVIEW_PREFIX,t=(0,u.get)(this,"detourManager.isDetourV2")?(0,u.get)(this,"detourManager.detourType"):(0,u.get)(this,"detourButton.detourType")
return`${e}${null==t?void 0:t.toLowerCase()}`}get detourPreviewState(){var e
return null===(e=this.detourPreviewData)||void 0===e?void 0:e.previewState}get detourPreviewStatusData(){var e
return null===(e=this.detourPreviewData)||void 0===e?void 0:e.previewStatusData}get draftPostHasChanged(){return!!this.isInDraftMode&&((0,h.isPresent)(this.newEditedCommentary)||this.draftAttachmentHasChanged||this.draftCommentRestrictionHasChanged)}get editedShareHasChanged(){return!!this.isInEditMode&&((0,h.isPresent)(this.newEditedCommentary)||(0,h.isPresent)(this.editedShareMedia))}get eventContentAttached(){var e
return(null===(e=this.detourManager)||void 0===e?void 0:e.detourType)===A.DETOUR_TYPES.EVENTS}get eventContentVisibilityRestriction(){return this.eventContentAttached}get isFixedVisibility(){return!!this.args.fixedVisibilityType}get isGraphQLEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.organization-graphl-admin-widget")}get isOrganizationalPagesEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.organization-org-pages-to-sharebox-identity-switcher")}get isInBroadcastMode(){var e
return this.isInEditMode?(0,u.get)(this.args,"updateV2.updateMetadata.shareAudience")===D.SHARE_AUDIENCE_VISIBILITY.EMPLOYEES:(null===(e=this.args.fixedVisibilityType)||void 0===e?void 0:e.type)===N.VALID_VISIBILITY_TYPES.EMPLOYEE_BROADCAST_FEED}get isInDraftMode(){return this.args.shareType===N.SHARE_TYPES.DRAFT}get isInEditMode(){return this.args.shareType===N.SHARE_TYPES.EDIT}get isInReshareMode(){return this.args.shareType===N.SHARE_TYPES.RESHARE}get isOrganizationActor(){var e
return(null===(e=this.currentActor)||void 0===e?void 0:e.actorType)===D.ACTOR_TYPES.company}get isShowingDetourPreview(){return this.shareboxHasAttachment&&!this.args.hideDetourPreview}get newEditedCommentary(){return this.isInEditMode||this.isInDraftMode?(0,R.areTextAndMentionsEqual)(this.originalShareContentsData,this.shareContentsData)?null:this.shareContentsData:null}get organizationActorUrn(){return this.isOrganizationActor?this.currentActor.urn:null}get promptWarningDialogBeforeClosingSharebox(){return this.shareboxHasValidContent&&!this.isInEditMode||this.isInEditMode&&this.editedShareHasChanged||this.isInDraftMode}get scheduledDate(){return this.scheduledAt?new Date(this.scheduledAt):null}get shareboxHasAttachment(){return!(0,h.isEmpty)(this.previewedUpdateV2)}get shareboxHasValidContent(){return!this.showDetourPreviewError&&this.shareboxHasAttachment||(0,h.isPresent)(this.shareText)}get shareContentsData(){const{shareText:e,shareMentions:t}=this
return e||t?{text:e,mentions:t}:{}}get shouldSetCurrentVisibilityToAnyone(){return!("TARGETED"===this.currentVisibility.type||"ANYONE"===this.currentVisibility.type)&&!this.args.fixedVisibilityType&&this.eventContentVisibilityRestriction}get showActorToggle(){return this.availableActors.length>1&&!this.isInEditMode}get showDetourPreviewEditButton(){return this.isShowingDetourPreview&&(0,u.get)(this,"detourManager.isDetourV2")&&this.detourData&&this.detourPath&&!this.args.disableDetourEdit}get showDetourPreviewError(){return this.detourPreviewState===A.DETOUR_PREVIEW_STATES.FAILED&&!this.args.hideDetourPreview}get showDetourPreviewRemoveButton(){return this.isShowingDetourPreview&&!this.args.disableDetourPreviewRemoval&&!this.isInEditMode}get showDetourPreviewLoading(){return(this.detourPreviewState===A.DETOUR_PREVIEW_STATES.IN_PROGRESS||this.draftMediaIsLoading)&&!this.args.hideDetourPreview}get textInputI18nPlaceholderText(){return this.detourManagerCustomTextInputPlaceholderText||this.args.customTextInputI18nPlaceholderText||this._getI18nMessage("i18n_default_focused_placeholder_text")}get debounceDelay(){return this.lix.getTreatmentValue(z.LIX_KEY_SHARING_HIRING_JOB_SUGGESTION_DEBOUNCE_LIMIT.KEY)||1e3}get useStickyVisibility(){return!(this.ignoreShareboxInitializationData||this.isOrganizationActor)}constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",ae,this);(0,t.default)(this,"authenticatedUser",se,this);(0,t.default)(this,"clientSensor",le,this);(0,t.default)(this,"formatter",ce,this);(0,t.default)(this,"graphql",de,this);(0,t.default)(this,"i18n",ue,this);(0,t.default)(this,"jet",he,this);(0,t.default)(this,"lix",pe,this);(0,t.default)(this,"locale",ge,this);(0,t.default)(this,"localStorage",me,this);(0,t.default)(this,"m3Schema",be,this);(0,t.default)(this,"persistentToastManager",fe,this);(0,t.default)(this,"socialCountsService",_e,this);(0,t.default)(this,"sound",ye,this);(0,t.default)(this,"store",Te,this);(0,t.default)(this,"tracking",Se,this);(0,t.default)(this,"typeaheadTracking",Ee,this);(0,t.default)(this,"windowService",ve,this);(0,i.default)(this,"anyoneVisibilityOptionType",(0,P.buildVisibilityOptionFromConfig)(this.i18n,B.ANYONE_VISIBILITY_CONFIG));(0,i.default)(this,"controlInteractionEvents",D.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"ignoreShareboxInitializationData",!!(this.isFixedVisibility||this.args.actorsOverride&&!this.isAllowedDraftEntrypoint||!this.args.initializationData||this.isInEditMode));(0,t.default)(this,"authorizedTwitterHandle",Ie,this);(0,t.default)(this,"commentRestrictionUserSelectionType",Ce,this);(0,t.default)(this,"currentActor",Oe,this);(0,t.default)(this,"currentVisibility",Ae,this);(0,t.default)(this,"currentTargetedAudience",De,this);(0,t.default)(this,"currentCommentRestriction",Ne,this);(0,t.default)(this,"cursorRange",we,this);(0,t.default)(this,"detourButton",Re,this);(0,t.default)(this,"detourChooserMenuIsOpen",Me,this);(0,t.default)(this,"detourData",Pe,this);(0,t.default)(this,"detourManager",ke,this);(0,t.default)(this,"detourPreviewData",Le,this);(0,t.default)(this,"detourPreviewHandler",Ve,this);(0,t.default)(this,"detourStatusHandler",xe,this);(0,t.default)(this,"draftAttachmentHasChanged",Be,this);(0,t.default)(this,"draftCommentRestrictionHasChanged",Ue,this);(0,t.default)(this,"draftData",He,this);(0,t.default)(this,"draftMediaIsLoading",ze,this);(0,t.default)(this,"editedShareMedia",je,this);(0,t.default)(this,"hasActedOnCommentRestrictions",Fe,this);(0,t.default)(this,"hashtagRelevanceUrn",Ye,this);(0,t.default)(this,"initialTextAndMentions",Ge,this);(0,t.default)(this,"isNormshareRequestPending",Ke,this);(0,t.default)(this,"nonUgcSupportedDraftChangesMade",We,this);(0,t.default)(this,"originalShareContentsData",Xe,this);(0,t.default)(this,"organizationActors",qe,this);(0,t.default)(this,"postFailureErrorMessage",$e,this);(0,t.default)(this,"postingState",Ze,this);(0,t.default)(this,"preDetourCharCount",Je,this);(0,t.default)(this,"previewedUpdateV2",Qe,this);(0,t.default)(this,"protectedMediaPresentForDraft",et,this);(0,t.default)(this,"scheduledAt",tt,this);(0,t.default)(this,"shareboxState",it,this);(0,t.default)(this,"shareMentions",rt,this);(0,t.default)(this,"shareText",nt,this);(0,t.default)(this,"stickyVisibilityData",ot,this);(0,t.default)(this,"timeZoneDescriptionTVMV2",at,this);(0,t.default)(this,"visibilityScreen",st,this);(0,t.default)(this,"isTextEditorFocused",lt,this)
this.shareBoxSessionId=(0,x.generateByteString)()
this._attachBeforeUnloadListener()
this.currentActor=new E.default((0,u.get)(this.args,"actorsOverride.firstObject")||(0,u.get)(this,"authenticatedUser.miniProfile"),this.formatter)
if(this.isInEditMode){this._setupEditModeSharebox(this.args.updateV2)
this._goToCreation(!0,!1)}else{if(!this.ignoreShareboxInitializationData){const{visibilities:e,twitterAuthorized:t,draft:i,timeZoneDescription:r}=(0,u.getProperties)(this.args.initializationData,"visibilities","twitterAuthorized","draft","timeZoneDescription")
this.twitterAuthorized=t
this.stickyVisibilityData=e
this.draftData=i
this.timeZoneDescriptionTVMV2=r}this._setInitialCurrentVisibility()
this.currentCommentRestriction=new v.default(this.currentVisibility,this.commentRestrictionUserSelectionType,this.isOrganizationActor,this.isInBroadcastMode)
this.args.actorsOverride||this.isInBroadcastMode||this._getOrganizationActors()
this._setupShareboxWithInitialContent()
this.guiderManager=new S.DashGuiderManager(this.hashtagRelevanceUrn||(0,u.get)(this.args,"updateV2.updateMetadata.urn"),this.clientSensor,this.currentVisibility.containerEntity,this.shareboxHasAttachment,this.dashOrganizationActorUrn,this.shareBoxSessionId,this.shareText,this.store,this.tracking,this.typeaheadTracking,this.args.updateV2)
this.guiderManager.setInitialPrompt()
if(this.args.initialDetourType){this.shareboxState=D.SHAREBOX_STATE.DETOUR
this.detourButton=this.args.initialDetourType}else this._goToCreation(!0,!1)}if(this.args.hideCreationStateFooter){var e,r
null===(e=(r=this.args).registerPostFn)||void 0===e||e.call(r,(()=>this.publishPost()))}if(this.args.registerOnDetourCompleteFn){var n,o
null===(n=(o=this.args).registerOnDetourCompleteFn)||void 0===n||n.call(o,(e=>this.onDetourComplete(e)))}}willDestroy(){var e
super.willDestroy(...arguments)
if(null!==(e=this.detourManager)&&void 0!==e&&e.isDetourV2){this.detourManager.detourPreview.unsubscribe(this.detourPreviewHandler)
this.detourManager.detourStatus.unsubscribe(this.detourStatusHandler)}this._removeBeforeUnloadListener()}_attachBeforeUnloadListener(){b.default&&(0,m.addEventListener)(this,window,"beforeunload",this._beforeUnloadHandler)}_beforeUnloadHandler(e){if(this.promptWarningDialogBeforeClosingSharebox){const t=this._getI18nMessage("i18n_discard_draft_content")
e.preventDefault()
e.returnValue=t
return t}}_removeBeforeUnloadListener(){b.default&&(0,m.removeEventListener)(this,window,"beforeunload",this._beforeUnloadHandler)}_buildShareCreateRequest(){return(this.shareboxHasAttachment&&(0,u.get)(this,"detourManager.getShareMedia")?(0,u.get)(this,"detourManager.getShareMedia")():_.Promise.resolve()).then((e=>{if(this.isDestroying)return null
const t=(0,u.get)(this,"currentVisibility.type"),i=this.isInBroadcastMode?N.DISTRIBUTION_TYPES.CONTAINER_ONLY:void 0,r=this.currentCommentRestriction.type,n=this.postingState===N.POST_STATES.SCHEDULED?this.scheduledAt:void 0
return new I.default({m3Schema:this.m3Schema,store:this.store,jet:this.jet,currentVisibilityType:t,shareContentsData:this.shareContentsData,origin:this.args.shareOrigin,shareMedia:e,previewedUpdateV2:this.previewedUpdateV2,containerEntity:(0,u.get)(this,"currentVisibility.containerEntity"),organizationActorUrn:this.organizationActorUrn,targetAudience:this.currentTargetedAudience,distribution:i,allowedCommentersScope:r,rootBroadcastUrn:(0,u.get)(this,"detourData.rootBroadcastUrn"),postState:this.postingState,scheduledAt:n})}))}_buildShareStatusData(e,t){var i,r
const n=this.args.shareStatusCollection||[],o=new O.default(this.m3Schema,(0,u.get)(e,"status"),null==t?void 0:t.shareText,null==t?void 0:t.mentions,this.detourManager)
n.unshiftObject(o.generateShareStatusData())
null===(i=(r=this.args).updateShareStatusCollection)||void 0===i||i.call(r,n)}_createNormShareRecord(){this._buildShareCreateRequest().catch((e=>{this.jet.logError(e,["sharebox-getShareMedia-fail"],!1)
throw e})).then((e=>e.share().then((t=>this._onShareCreateSuccess(t,e))))).catch((e=>{this._onShareFailure(e)
if(!e||!e.errors)throw e})).finally((()=>{this.isDestroying||(this.isNormshareRequestPending=!1)}))}_deleteSavedDraft(){(0,C.deleteNormShare)(this.store,(0,u.get)(this.draftData,"ugcUrn")).then((()=>{(0,w.fireSharingClientSensor)(this.clientSensor,V.SharingClientSensorMetrics.DELETE_DRAFT_SUCCESS)})).catch((e=>{(0,w.fireSharingClientSensor)(this.clientSensor,V.SharingClientSensorMetrics.DELETE_DRAFT_FAILURE)
throw e}))}_fetchURLPreview(e){const t=(0,R.fetchUrlPreviewPromise)(e,this.store),i=new L.default({urlPreviewDataPromise:t,i18nService:this.i18n,isOrganizationActor:this.isOrganizationActor})
this._onDetourComplete(i)
t.then((e=>this._onUrlPreviewData(i,e))).catch((()=>{this.detourManager=null
throw new Error("Ember Data Request GET /voyager/api/contentcreation/urlPreview [sharing-v2-base/share-box]")}))}_getDraftSuccessToast(){this._renderSuccessToast({message:this._getI18nMessage(D.I18N_KEYS.SUCCESS_TOAST_DRAFT)})}_getFixedVisibilityOption(){var e
return null!==(e=this.args.fixedVisibilityType)&&void 0!==e&&e.containerEntity?(0,P.formatContainerFixedVisibilityOption)(this.args.fixedVisibilityType):this.anyoneVisibilityOptionType}_getI18nMessage(e){if(this.isDestroying)return""
if(!this.i18nCache||!this.i18nCache[e]){const t=(0,g.copy)(this.i18nCache)||{}
t[e]=this.i18n.lookupTranslation("components/sharing-v2@open-share-box",e)()
this.i18nCache=t}return this.i18nCache[e]}_getPostPostPrompt(e){(0,u.get)(e,"status")&&this.args.openPostPostPrompt({promptComponent:(0,u.get)(e,"status.promptComponent"),promptComponentV2:(0,u.get)(e,"status.promptComponentV2"),mainToastText:(0,u.get)(e,"status.mainToastText"),mainToastCtaText:(0,u.get)(e,"status.toastCtaText"),mainToastCtaUrl:(0,u.get)(e,"status.toastCtaUrl"),successIcon:(0,u.get)(e,"status.successIcon"),modalTitle:(0,u.get)(e,"status.modalTitle"),updateTrackingId:(0,u.get)(e,"status.updateV2.updateMetadata.trackingData.trackingId"),promptProviderType:(0,u.get)(e,"status.promptType")})
this._handleOnSuccessCallback(e)}_getPostSuccessToast(e){this._renderSuccessToast({message:this._getI18nMessage(D.I18N_KEYS[`SUCCESS_TOAST_${this.postingState}`]),ctaText:(0,u.get)(e,"status.toastCtaText"),ctaUrl:(0,u.get)(e,"status.toastCtaUrl")})
this._handleOnSuccessCallback(e)}_goToCreation(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
if(this.detourChooserMenuIsOpen)this.shareboxState=D.SHAREBOX_STATE.DETOUR_CHOOSER_MENU
else if(this.shareboxState!==D.SHAREBOX_STATE.CREATION){e||(this.cursorRange={})
this.initialTextAndMentions=this.shareContentsData
this.shareboxState=D.SHAREBOX_STATE.CREATION
this.isTextEditorFocused=t}}_handleDetourShareText(e){const t=this.shareContentsData,i=(0,f.generateTextAndMentionsFromTextViewModelV2)(this.store,e),r=(0,R.appendTextAndMentions)(t,i)
this.initialTextAndMentions=r
const n=e&&(!(0,h.isEmpty)((0,u.get)(e,"values"))||!(0,h.isEmpty)((0,u.get)(e,"text"))),{preDetourCharCount:o}=this
n&&o&&(this.cursorRange={startCursor:0,endCursor:o+1})}_handleOnSuccessCallback(e){try{var t,i
null===(t=(i=this.args).onShareSuccess)||void 0===t||t.call(i,(0,R.getRecordFromResponse)(e),(0,u.get)(e,"status.toastCtaUrl"));(0,w.fireSharingClientSensor)(this.clientSensor,V.SharingClientSensorMetrics.ON_SHARE_SUCCESS_CALLBACK_SUCCESS)}catch(e){(0,w.fireSharingClientSensor)(this.clientSensor,V.SharingClientSensorMetrics.ON_SHARE_SUCCESS_CALLBACK_FAILURE)
this.jet.info(e,["open-share-box-handle-onsuccess-callback"],{shouldRethrow:!1})}}_onDetourComplete(e){var t
if(null!=e&&e.isDetourV2){const t=this._onDetourPreviewDataChanged.bind(this),i=this._onDetourStatusDataChanged.bind(this)
this.detourPreviewHandler=t
this.detourStatusHandler=i
e.detourPreview.subscribe(t)
e.detourStatus.subscribe(i)}else this._setPreviewFeedComponent(e.getPreviewData())
this.detourManager=e
this.detourChooserMenuIsOpen=!1
this.isInDraftMode&&this.multiImageContentAttached&&(this.nonUgcSupportedDraftChangesMade=!0)
this.shouldSetCurrentVisibilityToAnyone&&(this.currentVisibility=this.anyoneVisibilityOptionType)
this._goToCreation()
const i=null===(t=e.getShareText)||void 0===t?void 0:t.call(e)
this._handleDetourShareText(i)}_onDetourPreviewDataChanged(e){if(e){this.detourPreviewData=e
this._setPreviewFeedComponent(e.previewComponent)}this.isInDraftMode&&(this.draftAttachmentHasChanged=!0)}_onDetourStatusDataChanged(e){e&&(this.detourData=e.detourData)}_onShareCreateSuccess(e,t){if(this.isDestroying)return
this.nonUgcSupportedDraftChangesMade&&this._deleteSavedDraft()
const i=(0,u.get)(e,"status.updateV2.socialDetail")
i&&this.socialCountsService.registerSocialCounts(i);(0,w.fireNormShareSuccessClientSensors)(this.clientSensor,this.args.shareType)
const r=(0,u.get)(e,"status.pendingModeration"),n=(0,u.get)(e,"status.mediaStatus")
n===N.SHARE_MEDIA_STATUSES.PROCESSING||n===N.SHARE_MEDIA_STATUSES.PROCESSING_FAILED||r?this._buildShareStatusData(e,t):((0,u.get)(e,"status.promptComponent")||(0,u.get)(e,"status.promptComponentV2"))&&this.args.openPostPostPrompt?this._getPostPostPrompt(e):this._getPostSuccessToast(e)}_onShareEditSuccess(e){var t,i
if(!this.isDestroying){this.socialCountsService.registerSocialCounts((0,u.get)(e,"status.updateV2.socialDetail"));(0,w.fireSharingClientSensor)(this.clientSensor,V.SharingClientSensorMetrics.SHARE_EDIT_SUCCESS)
null===(t=(i=this.args).onEditShareSuccess)||void 0===t||t.call(i,(0,u.get)(e,"status.updateV2"))
this._renderSuccessToast({message:this._getI18nMessage(D.I18N_KEYS.CHANGES_SAVED)})}}_onShareFailure(e){var t,i
if(!this.isDestroying){(0,w.fireNormShareErrorClientSensors)(this.clientSensor,e,this.args.shareType);(0,R.isDuplicatePostError)(e)?this.persistentToastManager.error({message:this._getI18nMessage(D.I18N_KEYS.DUPLICATE_SHARE_UNSUCCESSFUL)}):"imagePostFailed"===e.name?this.postFailureErrorMessage=e.message||this._getI18nMessage("i18n_share_unsuccessful"):this.postFailureErrorMessage=this._getI18nMessage("i18n_share_unsuccessful")
null===(t=(i=this.args).onShareFail)||void 0===t||t.call(i)
this.sound.play(H.Sound.Error)}}_onUrlPreviewData(e,t){if(!this.isDestroying){this.hashtagRelevanceUrn=(0,u.get)(t,"update.updateMetadata.shareMediaUrn")
this.guiderManager&&this.guiderManager.updateArticleUrn(this.hashtagRelevanceUrn||(0,u.get)(t,"update.content.urn"))
if((0,u.get)(t,"update.updateMetadata.shareUrn")){var i
this.previewedUpdateV2=(0,u.get)(t,"update")
null===(i=e.onCancel)||void 0===i||i.call(e)
this.detourManager=null
this.isInDraftMode&&(this.nonUgcSupportedDraftChangesMade=!0)}}}_postEditShare(){return(0,C.partialNormShareUpdate)({store:this.store,ugcUrn:this.args.shareUrn,degradationPemTrackingMetaData:N.DEGRADATION_TRACKING_METADATA.PARTIAL_EDIT,shareContentsData:this.newEditedCommentary,shareMedia:this.editedShareMedia}).then((e=>{e&&this._onShareEditSuccess(e)})).catch((e=>{this._onShareFailure(e)
if(!e||!e.errors)throw e})).finally((()=>{this.isDestroying||(this.isNormshareRequestPending=!1)}))}_renderSuccessToast(e){if(!this.args.disableSuccessToasts){const t=e.message
this.a11yNotification.setTextInLiveRegion(t)
this.persistentToastManager.success(e)
this.postingState!==N.POST_STATES.DRAFT&&this.sound.play(H.Sound.PostSuccess)}}_setInitialCurrentVisibility(){if(this.args.fixedVisibilityType)this.currentVisibility=this._getFixedVisibilityOption()
else if(this.useStickyVisibility){const{unknownInitialVisibilityText:e}=(0,u.getProperties)(this.args.initializationData,"unknownInitialVisibilityText")
if(e)this.currentVisibility=new M.default({type:N.VALID_VISIBILITY_TYPES.SELECT_VISIBILITY,name:(0,U.default)(e)})
else{const{selectedVisibility:e,selectedCommentControlConfig:t}=(0,P.findSelectedOptions)(this.stickyVisibilityData)
this.commentRestrictionUserSelectionType=(0,u.get)(t,"allowedCommentersScope")
this.currentVisibility=(0,P.formatSelectedStickyVisibilityItem)(e)}}else this.currentVisibility=this.anyoneVisibilityOptionType}_setPreviewFeedComponent(e){if(e){this.previewedUpdateV2=(0,k.getUpdateV2WithFeedComponent)(this.store,e)
this.guiderManager&&this.guiderManager.updateHasAttachment(!0)}}_setupEditModeSharebox(e){this.currentVisibility=(0,P.getVisibilityOptionFromUpdateV2)(e,this.i18n)
this.originalShareContentsData=(0,f.generateTextAndMentionsFromTextViewModel)((0,u.get)(e,"commentary.text"))
this.shareText=this.originalShareContentsData.text
this.shareMentions=this.originalShareContentsData.mentions;((0,u.get)(e,"content")||(0,u.get)(e,"resharedUpdate"))&&(this.previewedUpdateV2=e)}_setupShareboxWithInitialContent(){if(this.isInDraftMode){const e=(0,u.get)(this.draftData,"commentary")
if(e){this.originalShareContentsData=(0,f.generateTextAndMentionsFromTextViewModelV2)(this.store,e)
this.shareText=this.originalShareContentsData.text
this.shareMentions=this.originalShareContentsData.mentions}if(this.args.pendingDraftUpdate){this.draftMediaIsLoading=!0
this.protectedMediaPresentForDraft=!0
this.args.pendingDraftUpdate.catch((e=>{this.postFailureErrorMessage=this._getI18nMessage("i18n_draft_media__load_fail")
this.draftMediaIsLoading=!1
this.protectedMediaPresentForDraft=!1
throw e})).then((e=>{if(!this.isDestroying){this.previewedUpdateV2=(0,u.get)(e,"elements.firstObject")
this.draftMediaIsLoading=!1}}))}}const{prefilledTextTVMV2:e}=this.args
if(e){const{text:t,mentions:i}=(0,f.generateTextAndMentionsFromTextViewModelV2)(this.store,e)
this.shareText=t
this.shareMentions=i}if(this.args.hashtag&&!this.shareText&&(0,h.isEmpty)(this.shareMentions)){this.shareText=`\n${this.args.hashtag}`
this.cursorRange={startCursor:0}}this.isInReshareMode&&(this.previewedUpdateV2=this.args.updateV2)
if((0,h.isPresent)(this.args.initialDetourManager)){const e=this.args.initialDetourManager
e.isValid()&&this._onDetourComplete(e)}(0,h.isPresent)(this.args.urlToShare)&&this._fetchURLPreview(this.args.urlToShare)}_takePreDetourSnapshot(){var e
this.preDetourCharCount=null===(e=this.shareText)||void 0===e?void 0:e.length}_updateSavedDraft(){const e=(0,u.get)(this.draftData,"ugcUrn"),t=this.newEditedCommentary,i=this.draftCommentRestrictionHasChanged?this.currentCommentRestriction.type:null,r=!this.shareboxHasAttachment&&this.draftAttachmentHasChanged
return(this.shareboxHasAttachment&&(0,u.get)(this,"detourManager.getShareMedia")?(0,u.get)(this,"detourManager.getShareMedia")():_.Promise.resolve()).catch((e=>{this.jet.logError(e,["sharebox-getShareMedia-fail"],!1)
throw e})).then((n=>{if(this.isDestroying)return null
const o=this.postingState===N.POST_STATES.SCHEDULED?this.scheduledAt:void 0
return(0,C.partialNormShareUpdate)({store:this.store,ugcUrn:e,shareContentsData:t,shareMedia:n,allowedCommentersScope:i,deleteMedia:r,postState:this.postingState,degradationPemTrackingMetaData:N.DEGRADATION_TRACKING_METADATA[`PARTIAL_${this.postingState}`],scheduledAt:o}).then((e=>this._onShareCreateSuccess(e,t))).catch((e=>{this._onShareFailure(e)
if(!e||!e.errors)throw e})).finally((()=>{this.isDestroying||(this.isNormshareRequestPending=!1)}))}))}_updateGuiderManagerShareText(e){var t,i
null===(t=(i=this.args).onShareTextUpdate)||void 0===t||t.call(i,e)
this.guiderManager&&this.guiderManager.updateShareText(e)}_getOrganizationActors(){this.organizationActors=(0,P.getOrganizationActorsFromLocalStorage)(this.localStorage,this.m3Schema);(0,P.fetchOrganizationActorsFromAPI)(this.store,this.graphql,this.isGraphQLEnabled,this.isOrganizationalPagesEnabled).then((e=>{(0,w.fireSharingClientSensor)(this.clientSensor,V.SharingClientSensorMetrics.ACTOR_LIST_LOAD_SUCCESS)
const t=this.isGraphQLEnabled?e:[...(0,u.get)(e,"elements")];(0,P.updateOrganizationActorsLocalStorage)(this.localStorage,t)
this.isDestroying||(this.organizationActors=null==t?void 0:t.map((e=>new E.default(e))))})).catch((e=>{(0,w.fireSharingClientSensor)(this.clientSensor,V.SharingClientSensorMetrics.ACTOR_LIST_LOAD_FAILURE)
throw e}))}closeDetourChooserMenu(){this.detourChooserMenuIsOpen=!1
this._goToCreation()}deleteDraft(){this._deleteSavedDraft()}editDetour(){this._takePreDetourSnapshot()
this.shareboxState=D.SHAREBOX_STATE.DETOUR}goToCreation(){this._goToCreation()}goToDetourChooserMenu(){if(this.shareboxState!==D.SHAREBOX_STATE.DETOUR_CHOOSER_MENU){this.detourChooserMenuIsOpen=!0
this.shareboxState=D.SHAREBOX_STATE.DETOUR_CHOOSER_MENU}}goToVisibilityScreen(e){if(this.shareboxState!==D.SHAREBOX_STATE.VISIBILITY){this.visibilityScreen=e
this.shareboxState=D.SHAREBOX_STATE.VISIBILITY}}goToPostManager(){this.shareboxState!==D.SHAREBOX_STATE.MANAGEMENT&&(this.shareboxState=D.SHAREBOX_STATE.MANAGEMENT)}onDetourComplete(e){this._onDetourComplete(e)}onEditShareMedia(e){this.editedShareMedia=e}onFoundUrl(e){this.shareboxHasAttachment||this.args.pendingDraftUpdate||this.isInEditMode||(0,m.debounceTask)(this,"_fetchURLPreview",e,1e3)}openDetour(e){this._takePreDetourSnapshot()
this.shareboxState=D.SHAREBOX_STATE.DETOUR
this.detourButton=e}publishPost(){this.isNormshareRequestPending=!0
this.postFailureErrorMessage=""
if(this.isInEditMode)this._postEditShare()
else if(!this.scheduledAt||(0,R.isTimestampWithinBoundaries)(this.scheduledAt)){this.scheduledAt?this.postingState=N.POST_STATES.SCHEDULED:this.postingState=N.POST_STATES.PUBLISHED
this.isInDraftMode&&!this.nonUgcSupportedDraftChangesMade?this._updateSavedDraft():this._createNormShareRecord()}else{this.postFailureErrorMessage=this._getI18nMessage("i18n_schedule_out_of_bounds")
this.isNormshareRequestPending=!1}}removeDetourPreview(){const e=(0,u.get)(this,"detourManager.detourPreview")
e&&e.unsubscribe(this.detourPreviewHandler)
const t=(0,u.get)(this,"detourManager.detourStatus")
t&&t.unsubscribe(this.detourStatusHandler)
const{detourManager:i}=this
if(this.isInDraftMode&&this.protectedMediaPresentForDraft){this.protectedMediaPresentForDraft=!1
this.isReshareUrlPreview&&(this.nonUgcSupportedDraftChangesMade=!0)}if(i&&null!=i&&i.isDetourV2){var r
null===(r=i.onCancel)||void 0===r||r.call(i)
this.detourManager=null}this.postFailureErrorMessage=""
this.previewedUpdateV2=void 0
this.detourPreviewData=void 0
this.detourData=void 0
this.detourButton=void 0
this.hashtagRelevanceUrn=void 0
this.isInDraftMode&&(this.draftAttachmentHasChanged=!0)
if(this.guiderManager){this.guiderManager.updateHasAttachment(!1)
this.guiderManager.updateArticleUrn(this.hashtagRelevanceUrn)}}saveDraft(){this.postingState=N.POST_STATES.DRAFT
this.isNormshareRequestPending=!0
this.isInDraftMode&&!this.nonUgcSupportedDraftChangesMade?this.draftPostHasChanged?this._updateSavedDraft():this._getDraftSuccessToast():this._createNormShareRecord()}setTwitterAuthenticationData(e){this.twitterAuthorized=!0
this.authorizedTwitterHandle=e}tookCommentControlAction(){this.hasActedOnCommentRestrictions=!0}updateAuthorAndAudienceSettings(e){var t
if(e.actor){var i,r
null===(i=(r=this.args).onActorSelected)||void 0===i||i.call(r,e.actor)
this.currentActor=e.actor}if(e.commentRestriction){this.currentCommentRestriction=e.commentRestriction
this.isInDraftMode&&(this.draftCommentRestrictionHasChanged=!0)}(null===(t=e.visibility)||void 0===t?void 0:t.type)===N.VALID_VISIBILITY_TYPES.TARGETED?this.currentTargetedAudience=e.targetedAudience:e.visibility&&(this.currentTargetedAudience=null)
if(e.visibility){this.currentVisibility=e.visibility
if(this.isInDraftMode){this.nonUgcSupportedDraftChangesMade=!0
this.protectedMediaPresentForDraft&&this.removeDetourPreview()}}e.stickyVisibilityData&&(this.stickyVisibilityData=e.stickyVisibilityData)
e.commentRestrictionUserSelectionType&&(this.commentRestrictionUserSelectionType=e.commentRestrictionUserSelectionType)
e.actor?this.guiderManager&&this.guiderManager.updateOrganizationActor(this.dashOrganizationActorUrn,e.visibility.containerEntity):e.visibility&&this.guiderManager&&this.guiderManager.updateContainerUrn(e.visibility.containerEntity)}updateShareViewModel(e,t){this.shareText=t
this.shareMentions=e;(0,m.debounceTask)(this,"_updateGuiderManagerShareText",t,this.debounceDelay)}onScheduleSelected(e){this.scheduledAt=e}},ae=(0,r.default)(oe.prototype,"a11yNotification",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,r.default)(oe.prototype,"authenticatedUser",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,r.default)(oe.prototype,"clientSensor",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=(0,r.default)(oe.prototype,"formatter",[c.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=(0,r.default)(oe.prototype,"graphql",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=(0,r.default)(oe.prototype,"i18n",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=(0,r.default)(oe.prototype,"jet",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=(0,r.default)(oe.prototype,"lix",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=(0,r.default)(oe.prototype,"locale",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=(0,r.default)(oe.prototype,"localStorage",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=(0,r.default)(oe.prototype,"m3Schema",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=(0,r.default)(oe.prototype,"persistentToastManager",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=(0,r.default)(oe.prototype,"socialCountsService",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=(0,r.default)(oe.prototype,"sound",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=(0,r.default)(oe.prototype,"store",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=(0,r.default)(oe.prototype,"tracking",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=(0,r.default)(oe.prototype,"typeaheadTracking",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=(0,r.default)(oe.prototype,"windowService",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=(0,r.default)(oe.prototype,"authorizedTwitterHandle",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=(0,r.default)(oe.prototype,"commentRestrictionUserSelectionType",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=(0,r.default)(oe.prototype,"currentActor",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=(0,r.default)(oe.prototype,"currentVisibility",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,r.default)(oe.prototype,"currentTargetedAudience",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=(0,r.default)(oe.prototype,"currentCommentRestriction",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=(0,r.default)(oe.prototype,"cursorRange",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=(0,r.default)(oe.prototype,"detourButton",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=(0,r.default)(oe.prototype,"detourChooserMenuIsOpen",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=(0,r.default)(oe.prototype,"detourData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,r.default)(oe.prototype,"detourManager",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=(0,r.default)(oe.prototype,"detourPreviewData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=(0,r.default)(oe.prototype,"detourPreviewHandler",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=(0,r.default)(oe.prototype,"detourStatusHandler",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=(0,r.default)(oe.prototype,"draftAttachmentHasChanged",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ue=(0,r.default)(oe.prototype,"draftCommentRestrictionHasChanged",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),He=(0,r.default)(oe.prototype,"draftData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=(0,r.default)(oe.prototype,"draftMediaIsLoading",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),je=(0,r.default)(oe.prototype,"editedShareMedia",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=(0,r.default)(oe.prototype,"hasActedOnCommentRestrictions",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ye=(0,r.default)(oe.prototype,"hashtagRelevanceUrn",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=(0,r.default)(oe.prototype,"initialTextAndMentions",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=(0,r.default)(oe.prototype,"isNormshareRequestPending",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),We=(0,r.default)(oe.prototype,"nonUgcSupportedDraftChangesMade",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xe=(0,r.default)(oe.prototype,"originalShareContentsData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{text:"",mentions:[]}}}),qe=(0,r.default)(oe.prototype,"organizationActors",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=(0,r.default)(oe.prototype,"postFailureErrorMessage",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ze=(0,r.default)(oe.prototype,"postingState",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=(0,r.default)(oe.prototype,"preDetourCharCount",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=(0,r.default)(oe.prototype,"previewedUpdateV2",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),et=(0,r.default)(oe.prototype,"protectedMediaPresentForDraft",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=(0,r.default)(oe.prototype,"scheduledAt",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=(0,r.default)(oe.prototype,"shareboxState",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=(0,r.default)(oe.prototype,"shareMentions",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=(0,r.default)(oe.prototype,"shareText",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=(0,r.default)(oe.prototype,"stickyVisibilityData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=(0,r.default)(oe.prototype,"timeZoneDescriptionTVMV2",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=(0,r.default)(oe.prototype,"visibilityScreen",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=(0,r.default)(oe.prototype,"isTextEditorFocused",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(oe.prototype,"closeDetourChooserMenu",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"closeDetourChooserMenu"),oe.prototype),(0,r.default)(oe.prototype,"deleteDraft",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"deleteDraft"),oe.prototype),(0,r.default)(oe.prototype,"editDetour",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"editDetour"),oe.prototype),(0,r.default)(oe.prototype,"goToCreation",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"goToCreation"),oe.prototype),(0,r.default)(oe.prototype,"goToDetourChooserMenu",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"goToDetourChooserMenu"),oe.prototype),(0,r.default)(oe.prototype,"goToVisibilityScreen",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"goToVisibilityScreen"),oe.prototype),(0,r.default)(oe.prototype,"goToPostManager",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"goToPostManager"),oe.prototype),(0,r.default)(oe.prototype,"onDetourComplete",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"onDetourComplete"),oe.prototype),(0,r.default)(oe.prototype,"onEditShareMedia",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"onEditShareMedia"),oe.prototype),(0,r.default)(oe.prototype,"onFoundUrl",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"onFoundUrl"),oe.prototype),(0,r.default)(oe.prototype,"openDetour",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"openDetour"),oe.prototype),(0,r.default)(oe.prototype,"publishPost",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"publishPost"),oe.prototype),(0,r.default)(oe.prototype,"removeDetourPreview",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"removeDetourPreview"),oe.prototype),(0,r.default)(oe.prototype,"saveDraft",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"saveDraft"),oe.prototype),(0,r.default)(oe.prototype,"setTwitterAuthenticationData",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"setTwitterAuthenticationData"),oe.prototype),(0,r.default)(oe.prototype,"tookCommentControlAction",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"tookCommentControlAction"),oe.prototype),(0,r.default)(oe.prototype,"updateAuthorAndAudienceSettings",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"updateAuthorAndAudienceSettings"),oe.prototype),(0,r.default)(oe.prototype,"updateShareViewModel",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"updateShareViewModel"),oe.prototype),(0,r.default)(oe.prototype,"onScheduleSelected",[u.action],Object.getOwnPropertyDescriptor(oe.prototype,"onScheduleSelected"),oe.prototype),oe)
e.default=dt;(0,o.setComponentTemplate)(ct,dt)}))
define("sharing-v2/components/post-action-bar",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","sharing-v2/utils/sharing-constants","image-view-model/utils/system-image","@ember/debug","sharing-v2/utils/norm-share-utils","@ember/service","@glimmer/tracking","@ember/object"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,f,_,y,T,S,E,v,I,C
const O=(0,s.createTemplateFactory)({id:"I7PPTdwN",block:'[[[10,0],[14,0,"display-flex align-items-center pl4 mr2"],[12],[1,"\\n"],[41,[30,1],[[[1,"    "],[10,0],[14,0,"display-flex align-items-center t-14 t-black--light"],[12],[1,"\\n"],[41,[30,0,["contextualIcon"]],[[[1,"        "],[8,[39,1],[[24,0,"mr2"]],[["@name","@size"],[[30,0,["contextualIcon","name"]],[30,0,["contextualIcon","size"]]]],null],[1,"\\n"]],[]],null],[1,"      "],[10,0],[12],[1,"\\n        "],[8,[39,2],null,[["@tvm"],[[30,1]]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[37,3],[[30,0,["deleteRequestPending"]]],null],[[[1,"    "],[8,[39,4],[[16,"aria-label",[28,[37,5],["i18n_delete_post","sharing-v2/components/post-action-bar"],null]],[4,[38,6],[[30,3]],null]],[["@class","@type","@size","@circle","@color","@icon","@click"],["mlA","tertiary",2,true,"muted",[30,2],[30,0,["showDeletePrompt"]]]],null],[1,"\\n"]],[]],[[[1,"    "],[8,[39,7],[[24,0,"mla mr4"],[16,"aria-label",[28,[37,5],["i18m_request_pending","sharing-v2/components/post-action-bar"],null]]],[["@size"],["xsmall"]],null],[1,"\\n"]],[]]],[1,"\\n  "],[8,[39,4],[[16,"aria-label",[28,[37,5],["i18n_reschedule_post","sharing-v2/components/post-action-bar"],null]],[4,[38,6],[[30,8]],null]],[["@type","@size","@circle","@color","@icon","@click"],["tertiary",2,true,"muted",[30,4],[28,[37,8],[[30,5],[30,6],[30,7,["scheduledAt"]],[30,0,["shareUrn"]]],null]]],null],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,9],null,[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape"],[[30,0,["showDeletePostConfirmationModal"]],[28,[37,5],["i18n_delete_confirm_title","sharing-v2/components/post-action-bar"],null],[28,[37,5],["i18n_delete_confirm_content","sharing-v2/components/post-action-bar"],null],[28,[37,5],["i18n_delete_confirm_delete","sharing-v2/components/post-action-bar"],null],[28,[37,5],["i18n_delete_confirm_cancel","sharing-v2/components/post-action-bar"],null],[30,0,["deletePost"]],[30,0,["cancelDelete"]],[30,0,["cancelDelete"]]]],null]],["@contextualDescription","@deleteIcon","@deleteControlName","@rescheduleIcon","@rescheduleAction","@goBackAction","@sharePreview","@rescheduleControlName"],false,["if","hue-web-icons@icon","text-view-model@text-view-model-v2","global-helpers@not","artdeco-button@artdeco-button","t","ember-cli-pemberly-tracking@track-interaction","artdeco-loader@artdeco-loader","fn","artdeco-modal@artdeco-confirmation-dialog"]]',moduleName:"sharing-v2/components/post-action-bar.hbs",isStrictMode:!1})
let A=(b=(0,p.inject)("i18n"),f=(0,p.inject)("persistent-toast-manager@persistent-toast-manager"),_=(0,p.inject)("store"),y=(C=new WeakSet,class extends l.default{get contextualIcon(){return(0,d.getSystemImageIcon)(this.args.contextualIcon)}constructor(){super(...arguments)
C.add(this);(0,t.default)(this,"i18n",T,this);(0,t.default)(this,"persistentToastManager",S,this);(0,t.default)(this,"store",E,this);(0,t.default)(this,"deleteRequestPending",v,this);(0,t.default)(this,"showDeletePostConfirmationModal",I,this)
this.shareUrn=(0,m.get)(this.args,"sharePreview.miniUpdate.metadata.backendUrn")}cancelDelete(){this.showDeletePostConfirmationModal=!1}deletePost(){this.deleteRequestPending=!0
this.showDeletePostConfirmationModal=!1
return(0,h.deleteNormShare)(this.store,this.shareUrn).then((()=>{if(!this.isDestroying){var e,t
this.store.unloadAll(c.SHARE_PREVIEWS_CACHE_MODEL_NAME)
this.persistentToastManager.success({message:(0,r.default)(this,C,D).call(this,"i18n_deletion-success")})
null===(e=(t=this.args).onDeleteSuccess)||void 0===e||e.call(t)}})).catch((e=>{this.persistentToastManager.error({message:(0,r.default)(this,C,D).call(this,"i18n_deletion-failed")})
throw e})).finally((()=>{this.deleteRequestPending=!1}))}showDeletePrompt(){this.showDeletePostConfirmationModal=!0}}),T=(0,n.default)(y.prototype,"i18n",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(y.prototype,"persistentToastManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(y.prototype,"store",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,n.default)(y.prototype,"deleteRequestPending",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=(0,n.default)(y.prototype,"showDeletePostConfirmationModal",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(y.prototype,"cancelDelete",[m.action],Object.getOwnPropertyDescriptor(y.prototype,"cancelDelete"),y.prototype),(0,n.default)(y.prototype,"deletePost",[m.action],Object.getOwnPropertyDescriptor(y.prototype,"deletePost"),y.prototype),(0,n.default)(y.prototype,"showDeletePrompt",[m.action],Object.getOwnPropertyDescriptor(y.prototype,"showDeletePrompt"),y.prototype),y)
e.default=A
function D(e){return this.i18n.lookupTranslation("components/sharing-v2@post-action-bar",e)()}(0,a.setComponentTemplate)(O,A)}))
define("sharing-v2/components/post-detail-view",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","sharing-v2/utils/sharing-constants","@ember/object"],(function(e,t,i,r,n,o,a,s,l,c,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,h,p,g,m
const b=(0,a.createTemplateFactory)({id:"2lGFeNq8",block:'[[[11,0],[4,[38,0],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,1],[[53,"outletState"],"render.name"],null],[28,[37,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[44,[[28,[37,4],[[30,0,["fetchShareDetail"]]],null]],[[[41,[30,1,["isLoading"]],[[[1,"      "],[8,[39,6],null,null,null],[1,"\\n"]],[]],[[[41,[30,1,["isError"]],[[[1,"      "],[8,[39,7],[[24,0,"pv9 mv7"]],[["@headline","@message","@actionText","@onButtonClick","@buttonType","@illustration","@mercadoSize"],[[28,[37,8],["i18n_error-state-headline","sharing-v2/components/post-detail-view"],null],[28,[37,8],["i18n_error-state-message","sharing-v2/components/post-detail-view"],null],[28,[37,8],["i18n_error-state-action","sharing-v2/components/post-detail-view"],null],[30,2],"secondary","error-server",1]],null],[1,"\\n"]],[]],[[[41,[30,1,["isLoaded"]],[[[1,"      "],[10,0],[14,0,"m2"],[12],[1,"\\n        "],[8,[39,9],null,[["@sharePreview","@contextualDescription","@contextualIcon","@deleteIcon","@deleteControlName","@onDeleteSuccess","@rescheduleAction","@goBackAction","@rescheduleIcon","@rescheduleControlName"],[[30,3],[30,1,["value","contextualDescription"]],[30,1,["value","contextualIcon"]],"trash-icon",[30,0,["controlInteractionEvents","SCHEDULE_DETAIL_DELETE"]],[30,4],[30,5],[28,[37,10],[[30,6],[30,3]],null],"clock",[30,0,["controlInteractionEvents","SCHEDULE_DETAIL_PICKER_OPEN"]]]],null],[1,"\\n      "],[13],[1,"\\n      "],[8,[39,11],null,[["@commentaryClass","@isDetailView","@isPreviewMode","@preventCommentaryLink","@update"],["ph4",true,true,true,[30,1,["value","updateContent"]]]],null],[1,"\\n    "]],[]],null]],[]]]],[]]]],[1]]],[13],[1,"\\n"],[8,[39,12],null,[["@secondaryAction","@secondaryButtonKey","@secondaryControlName"],[[30,4],"BACK",[30,0,["controlInteractionEvents","SCHEDULE_DETAIL_BACK"]]]],null]],["shareDetailResult","@reloadView","@sharePreview","@onBackClick","@goToDatePickerForRescheduling","@goToPostDetail"],false,["ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","let","global-helpers@load","if","artdeco-loader@artdeco-loader","artdeco-empty-state@artdeco-empty-state","t","sharing-v2@post-action-bar","fn","update-components@mini-update-v2","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/post-detail-view.hbs",isStrictMode:!1})
let f=(u=(0,l.inject)("store"),h=(0,l.inject)("i18n"),p=class extends s.default{get fetchShareDetail(){const e=(0,d.get)(this.args,"sharePreview.miniUpdate.metadata.backendUrn")
return e?this.store.queryURL("/voyager/api/voyagerContentcreationShareDetails",{params:{q:"shareUrn",shareUrn:e},cacheKey:`${c.SHARE_DETAIL_CACHE_KEY_BASE}|${e}`}).then((e=>this.isDestroying?null:(0,d.get)(e,"elements.firstObject"))):Promise.reject()}constructor(){var e,r
super(...arguments);(0,t.default)(this,"store",g,this);(0,t.default)(this,"i18n",m,this);(0,i.default)(this,"controlInteractionEvents",c.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"pageKey",c.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.POST_DETAIL_VIEW)
null===(e=(r=this.args).updateModalConfig)||void 0===e||e.call(r,{modalHeader:this.i18n.lookupTranslation("components/sharing-v2@post-detail-view","i18n_scheduled-post-detail-title")(),controlName:this.controlInteractionEvents.SCHEDULE_DETAIL_EXIT,shouldFocusOnHeader:!0})}},g=(0,r.default)(p.prototype,"store",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=(0,r.default)(p.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p)
e.default=f;(0,o.setComponentTemplate)(b,f)}))
define("sharing-v2/components/post-list-view",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","tracked-built-ins","@ember/service","sharing-v2/utils/sharing-constants","@glimmer/tracking","@ember/object","detour-framework/utils/detour-constants"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,b,f,_,y,T,S,E,v
const I=(0,s.createTemplateFactory)({id:"C6kVIGbD",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@headerType","@titleText"],[[30,2],[28,[37,2],["i18n_scheduled-post-title","sharing-v2/components/post-list-view"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[11,0],[16,0,[52,[30,3],"share-box-modal-content__container"]],[4,[38,3],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,4],[[53,"outletState"],"render.name"],null],[28,[37,4],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[44,[[28,[37,7],[[30,0,["getInitialSharePreviews"]]],null]],[[[41,[30,4,["isLoading"]],[[[1,"      "],[10,0],[14,0,"pv5"],[12],[1,"\\n        "],[8,[39,8],null,null,null],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[41,[30,4,["isError"]],[[[1,"      "],[8,[39,9],[[24,0,"pv9 mv7"]],[["@headline","@message","@actionText","@onButtonClick","@buttonType","@illustration","@mercadoSize"],[[28,[37,2],["i18n_error-state-headline","sharing-v2/components/post-list-view"],null],[28,[37,2],["i18n_error-state-message","sharing-v2/components/post-list-view"],null],[28,[37,2],["i18n_error-state-action","sharing-v2/components/post-list-view"],null],[30,5],"secondary","error-server",1]],null],[1,"\\n"]],[]],[[[41,[30,4,["isLoaded"]],[[[1,"      "],[8,[39,10],null,[["@isDisabled","@onTrigger","@items","@resultType"],[[28,[37,11],[[30,0,["canInfiniteScroll"]]],null],[30,0,["onInfiniteScroll"]],[30,0,["sharePreviewList"]],[28,[37,2],["i18n_scheduled-post-title","sharing-v2/components/post-list-view"],null]]],[["content","empty"],[[[[1,"\\n          "],[10,"ul"],[14,0,"artdeco-list"],[12],[1,"\\n"],[42,[28,[37,13],[[28,[37,13],[[30,7]],null]],null],null,[[[1,"              "],[10,"li"],[14,0,"artdeco-list__item pt2"],[12],[1,"\\n                "],[8,[30,6],null,[["@index"],[[30,9]]],[["default"],[[[[1,"\\n                  "],[8,[39,14],null,[["@sharePreview","@contextualDescription","@contextualIcon","@onDeleteSuccess","@deleteIcon","@deleteControlName","@rescheduleAction","@goBackAction","@rescheduleIcon","@rescheduleControlName"],[[30,8],[30,8,["contextualDescription"]],[30,8,["contextualIcon"]],[28,[37,15],[[30,0,["onDeleteSuccess"]],[30,9]],null],"trash-icon",[30,0,["controlInteractionEvents","SCHEDULE_POST_LIST_DELETE"]],[30,10],[30,11],"clock",[30,0,["controlInteractionEvents","SCHEDULE_POST_LIST_PICKER_OPEN"]]]],null],[1,"\\n                  "],[11,"button"],[24,0,"text-align-left"],[16,"aria-label",[28,[37,2],["i18n_a11y_button_preview","sharing-v2/components/post-list-view"],null]],[16,"onclick",[28,[37,15],[[30,12],[30,8]],null]],[24,4,"button"],[4,[38,16],[[30,0,["controlInteractionEvents","SCHEDULE_POST_LIST_SELECT"]]],null],[12],[1,"\\n                    "],[8,[39,17],null,[["@miniUpdate","@hideActor","@hideContextualDescription"],[[30,8,["miniUpdate"]],true,true]],null],[1,"\\n                  "],[13],[1,"\\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n"]],[8,9]],null],[1,"          "],[13],[1,"\\n        "]],[6,7]],[[[1,"\\n          "],[8,[39,9],[[24,0,"pv9 mv7"]],[["@headline","@message","@actionText","@onButtonClick","@buttonType","@illustration","@mercadoSize"],[[28,[37,2],["i18n_empty-state-headline","sharing-v2/components/post-list-view"],null],[28,[37,2],["i18n_empty-state-message","sharing-v2/components/post-list-view"],null],[28,[37,2],["i18n_empty-state-action","sharing-v2/components/post-list-view"],null],[30,13],"secondary","empty-room",1]],null],[1,"\\n        "]],[]]]]],[1,"\\n    "]],[]],null]],[]]]],[]]]],[4]]],[13],[1,"\\n"],[8,[39,18],null,[["@secondaryAction","@secondaryButtonKey","@secondaryControlName"],[[30,13],[30,0,["footerSecondaryButtonKeys","BACK"]],[30,0,["controlInteractionEvents","SCHEDULE_POST_LIST_BACK"]]]],null]],["@showInlineHeader","@headerType","@isInModal","promise","@reloadView","ItemContainer","items","sharePreview","index","@goToDatePickerForRescheduling","@goToPostList","@goToPostDetail","@goToDatePicker"],false,["if","detour-framework@title-bar","t","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","let","global-helpers@load","artdeco-loader@artdeco-loader","artdeco-empty-state@artdeco-empty-state","scaffold-finite-scroll@finite-scroll","global-helpers@not","each","-track-array","sharing-v2@post-action-bar","fn","ember-cli-pemberly-tracking@track-interaction","mini-update@mini-update-base","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/post-list-view.hbs",isStrictMode:!1}),C=10
let O=(m=(0,d.inject)("i18n"),b=(0,d.inject)("store"),f=(v=new WeakSet,class extends l.default{get getInitialSharePreviews(){return(0,r.default)(this,v,A).call(this).then((e=>{this.isDestroying||this.sharePreviewList.push(...e)}))}constructor(){var e,r
super(...arguments)
v.add(this);(0,t.default)(this,"i18n",_,this);(0,t.default)(this,"store",y,this);(0,i.default)(this,"controlInteractionEvents",u.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"pageKey",u.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.POST_VIEW_LIST);(0,i.default)(this,"footerSecondaryButtonKeys",g.SHARE_BOX_FOOTER_SECONDARY_KEYS);(0,t.default)(this,"canInfiniteScroll",T,this);(0,t.default)(this,"sharePreviewList",S,this);(0,t.default)(this,"paginationStart",E,this)
null===(e=(r=this.args).updateModalConfig)||void 0===e||e.call(r,{modalHeader:this.i18n.lookupTranslation("components/sharing-v2@post-list-view","i18n_scheduled-post-title")(),controlName:this.controlInteractionEvents.SCHEDULE_POST_LIST_EXIT,shouldFocusOnHeader:!0})}onInfiniteScroll(){return(0,r.default)(this,v,A).call(this,this.paginationStart).then((e=>{!this.isDestroying&&(null==e?void 0:e.length)>0&&this.sharePreviewList.push(...e)}))}onDeleteSuccess(e){this.sharePreviewList.splice(e,1)}}),_=(0,n.default)(f.prototype,"i18n",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,n.default)(f.prototype,"store",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,n.default)(f.prototype,"canInfiniteScroll",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=(0,n.default)(f.prototype,"sharePreviewList",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c.TrackedArray}}),E=(0,n.default)(f.prototype,"paginationStart",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,n.default)(f.prototype,"onInfiniteScroll",[p.action],Object.getOwnPropertyDescriptor(f.prototype,"onInfiniteScroll"),f.prototype),(0,n.default)(f.prototype,"onDeleteSuccess",[p.action],Object.getOwnPropertyDescriptor(f.prototype,"onDeleteSuccess"),f.prototype),f)
e.default=O
function A(){var e=this
let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0
return this.store.queryURL("/voyager/api/voyagerContentcreationDashSharePreviews",{params:{recipe:"com.linkedin.voyager.dash.deco.contentcreation.SharePreviewsByLifeCycleState",q:"shareLifeCycleState",shareLifeCycleState:"SCHEDULED",start:t,count:C}}).then((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if(!e.isDestroying){const i=(0,p.get)(t,"elements")||[]
e.paginationStart+=null==i?void 0:i.length
e.canInfiniteScroll=(0,p.get)(t,"paging.total")>e.paginationStart&&(null==i?void 0:i.length)>=C
return i}return[]}))}(0,a.setComponentTemplate)(I,O)}))
define("sharing-v2/components/post-manager",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","sharing-v2/utils/sharing-constants","@ember/runloop","@ember/object","@glimmer/tracking","@ember/service"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,m,b,f,_,y,T,S,E
const v=(0,s.createTemplateFactory)({id:"WFhFcQQ1",block:'[[[41,[28,[37,1],[[30,0,["viewState"]],"DATE_PICKER"],null],[[[1,"  "],[8,[39,2],null,[["@canBeScheduled","@goBackAction","@goToPostList","@onNextClick","@shareUrn","@timestamp","@timeZoneDescription","@updateModalConfig"],[[30,1],[30,0,["goBackAction"]],[30,0,["goToPostList"]],[30,2],[30,0,["shareUrn"]],[30,0,["timestamp"]],[30,3],[30,4]]],null],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["viewState"]],"POST_LIST"],null],[[[1,"  "],[8,[39,3],null,[["@goToDatePicker","@goToDatePickerForRescheduling","@goToPostDetail","@goToPostList","@isInModal","@onDelete","@reloadView","@showInlineHeader","@updateModalConfig"],[[30,0,["goToDatePicker"]],[30,0,["goToDatePickerForRescheduling"]],[30,0,["goToPostDetail"]],[30,0,["goToPostList"]],[30,5],[30,0,["onDelete"]],[30,0,["reloadView"]],[30,6],[30,4]]],null],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["viewState"]],"POST_DETAIL"],null],[[[1,"  "],[8,[39,4],null,[["@goToDatePickerForRescheduling","@goToPostDetail","@isInModal","@onBackClick","@reloadView","@sharePreview","@showInlineHeader","@updateModalConfig"],[[30,0,["goToDatePickerForRescheduling"]],[30,0,["goToPostDetail"]],[30,5],[30,0,["goToPostList"]],[30,0,["reloadView"]],[30,0,["sharePreview"]],[30,6],[30,4]]],null],[1,"\\n"]],[]],null]],[]]]],[]]]],["@canBeScheduled","@onScheduleSelected","@timeZoneDescription","@updateModalConfig","@isInModal","@showInlineHeader"],false,["if","global-helpers@eq","sharing-v2@date-time-picker","sharing-v2@post-list-view","sharing-v2@post-detail-view"]]',moduleName:"sharing-v2/components/post-manager.hbs",isStrictMode:!1}),I="POST_DETAIL",C="POST_LIST",O="DATE_PICKER"
let A=(g=(0,p.inject)("store"),m=(E=new WeakSet,class extends l.default{constructor(){super(...arguments)
E.add(this);(0,t.default)(this,"store",b,this);(0,t.default)(this,"goBackAction",f,this);(0,t.default)(this,"sharePreview",_,this);(0,t.default)(this,"shareUrn",y,this);(0,t.default)(this,"timestamp",T,this);(0,t.default)(this,"viewState",S,this);(0,r.default)(this,E,D).call(this,this.args.goToCreation,this.args.timestamp)}willDestroy(){this.isDestroyed||this.store.unloadAll(c.SHARE_PREVIEWS_CACHE_MODEL_NAME)}goToDatePickerForRescheduling(e,t,i){(0,r.default)(this,E,D).call(this,e,t,i)}goToDatePicker(){(0,r.default)(this,E,D).call(this,this.args.goToCreation,this.args.timestamp)}goToPostList(){this.viewState=C}goToPostDetail(e){this.sharePreview=e
this.viewState=I}reloadView(){const e=this.viewState
this.viewState=null;(0,d.next)((()=>{this.viewState=e}))}}),b=(0,n.default)(m.prototype,"store",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,n.default)(m.prototype,"goBackAction",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,n.default)(m.prototype,"sharePreview",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,n.default)(m.prototype,"shareUrn",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,n.default)(m.prototype,"timestamp",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(m.prototype,"viewState",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(m.prototype,"goToDatePickerForRescheduling",[u.action],Object.getOwnPropertyDescriptor(m.prototype,"goToDatePickerForRescheduling"),m.prototype),(0,n.default)(m.prototype,"goToDatePicker",[u.action],Object.getOwnPropertyDescriptor(m.prototype,"goToDatePicker"),m.prototype),(0,n.default)(m.prototype,"goToPostList",[u.action],Object.getOwnPropertyDescriptor(m.prototype,"goToPostList"),m.prototype),(0,n.default)(m.prototype,"goToPostDetail",[u.action],Object.getOwnPropertyDescriptor(m.prototype,"goToPostDetail"),m.prototype),(0,n.default)(m.prototype,"reloadView",[u.action],Object.getOwnPropertyDescriptor(m.prototype,"reloadView"),m.prototype),m)
e.default=A
function D(e,t,i){this.viewState=O
this.shareUrn=i
this.goBackAction=e
this.timestamp=t}(0,a.setComponentTemplate)(v,A)}))
define.alias("ember-finite-scroll/components/sentinel","sharing-v2/components/sentinel")
define("sharing-v2/components/share-box-inline-callout",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@glimmer/tracking","@glimmer/component"],(function(e,t,i,r,n,o,a,s,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,u
const h=(0,a.createTemplateFactory)({id:"uBjU7l3P",block:'[[[1,"\\n"],[41,[30,0,["isVisible"]],[[[1,"  "],[11,0],[24,0,"share-inline-callout__main-wrapper mh5 p4"],[4,[38,1],null,[["onRender","routeName","currentRoute"],[[30,0,["onImpression"]],[28,[37,2],[[53,"outletState"],"render.name"],null],[28,[37,2],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n    "],[10,2],[14,0,"t-black t-14"],[12],[1,"\\n"],[41,[28,[37,4],[[30,1],"CONNECTIONS_ONLY"],null],[[[1,"        "],[1,[28,[35,5],["i18n_educational_message_connections","sharing-v2/components/share-box-inline-callout"],null]],[1,"\\n"]],[]],[[[41,[28,[37,4],[[30,1],"CONTAINER"],null],[[[1,"        "],[1,[28,[35,5],["i18n_educational_message_group","sharing-v2/components/share-box-inline-callout"],null]],[1,"\\n      "]],[]],null]],[]]],[1,"    "],[13],[1,"\\n    "],[10,0],[12],[1,"\\n      "],[8,[39,6],null,[["@type","@icon","@circle","@class","@click","@color","@size","@aria-label"],["tertiary","close","{true}","share-inline-callout__dismiss-button artdeco-modal__dismiss",[30,0,["onDismiss"]],"muted",1,[28,[37,5],["dismiss_button_text","sharing-v2/components/share-box-inline-callout"],null]]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],["@visibilityType"],false,["if","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","global-helpers@eq","t","artdeco-button@artdeco-button"]]',moduleName:"sharing-v2/components/share-box-inline-callout.hbs",isStrictMode:!1})
let p=(d=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"isVisible",u,this)}onDismiss(){this.isVisible=!1}},u=(0,r.default)(d.prototype,"isVisible",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),(0,r.default)(d.prototype,"onDismiss",[s.action],Object.getOwnPropertyDescriptor(d.prototype,"onDismiss"),d.prototype),d)
e.default=p;(0,o.setComponentTemplate)(h,p)}))
define("sharing-v2/components/share-box-v2",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/tracking","@ember/service","sharing-v2/components/open-share-box","@ember/runloop","@ember/object","sharing-v2/utils/sharing-constants","global-utils/utils/keyboard-utils","sharing-shared/utils/sharing-shared-constants"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,b,f,_,y,T,S
const E=(0,a.createTemplateFactory)({id:"cpOh/f36",block:'[[[11,0],[17,1],[12],[1,"\\n  "],[8,[39,0],null,[["@modalClasses","@size","@isOpen","@headerId","@dismissModal","@testId","@setPreventScroll","@returnFocusTo"],["share-box-v2__modal","medium",true,"share-to-linkedin-modal__header",[30,0,["onCloseModal"]],"sharebox",[30,0,["setPreventScroll"]],[30,2]]],[["default"],[[[[1,"\\n    "],[8,[30,3,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n      "],[11,"h2"],[24,1,"share-to-linkedin-modal__header"],[24,"tabindex","-1"],[4,[38,1],null,[["when"],[[30,0,["shouldFocusOnHeader"]]]]],[12],[1,"\\n        "],[1,[30,0,["modalHeader"]]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,3,["artdeco-modal-content"]],null,[["@classNames"],["p0"]],[["default"],[[[[1,"\\n      "],[10,0],[14,0,"share-box"],[12],[1,"\\n"],[41,[28,[37,3],[[30,0,["shareboxState"]],"CREATION"],null],[[[1,"          "],[8,[39,4],null,[["@autoFocusTexteditor","@canBeScheduled","@chooserMenuButtons","@currentActor","@currentCommentRestriction","@currentVisibility","@cursorRange","@customPrimaryButtonText","@detourPreviewEditControlInteractionEventName","@detourPreviewError","@detourPreviewRemoveControlInteractionEventName","@detourPreviewStatusData","@editDetour","@editedShareHasChanged","@goToDetourChooserMenu","@goToVisibilityScreen","@goToPostManager","@groupId","@guiderManager","@hasActedOnCommentRestrictions","@hashtagRelevanceUrn","@hideCreationStateFooter","@initialHeader","@initialTextAndMentions","@isInBroadcastMode","@isOrganizationActor","@isNormshareRequestPending","@isScheduledPostsEnabled","@isShareboxInModal","@isShareboxV2","@isShowingDetourPreview","@onEditShareMedia","@onFoundUrl","@openDetour","@onScheduleSelected","@publishPost","@postFailureErrorMessage","@previewedUpdateV2","@removeDetourPreview","@scheduledDate","@shareboxHasAttachment","@shareboxHasValidContent","@shareBoxSessionId","@shareContentsData","@shareType","@showActorToggle","@showDetourPreviewEditButton","@showDetourPreviewError","@showDetourPreviewLoading","@showDetourPreviewRemoveButton","@showInlineHeader","@textInputI18nPlaceholderText","@tookCommentControlAction","@updateModalConfig","@updateShareViewModel","@updateV2","@usingStickyVisibility","@removeFocus"],[[30,0,["autoFocusTexteditor"]],[30,0,["canBeScheduled"]],[30,0,["chooserMenuDetourButtons"]],[30,0,["currentActor"]],[30,0,["currentCommentRestriction"]],[30,0,["currentVisibility"]],[30,0,["cursorRange"]],[30,0,["customPrimaryButtonText"]],[30,0,["detourPreviewEditControlInteractionEventName"]],[30,0,["detourPreviewError"]],[30,0,["detourPreviewRemoveControlInteractionEventName"]],[30,0,["detourPreviewStatusData"]],[30,0,["editDetour"]],[30,0,["editedShareHasChanged"]],[30,0,["goToDetourChooserMenu"]],[30,0,["goToVisibilityScreen"]],[30,0,["goToPostManager"]],[30,4],[30,0,["guiderManager"]],[30,0,["hasActedOnCommentRestrictions"]],[30,0,["hashtagRelevanceUrn"]],[30,5],[30,6],[30,0,["initialTextAndMentions"]],[30,0,["isInBroadcastMode"]],[30,0,["isOrganizationActor"]],[30,0,["isNormshareRequestPending"]],[30,0,["isScheduledPostsEnabled"]],[30,7],true,[30,0,["isShowingDetourPreview"]],[30,0,["onEditShareMedia"]],[30,0,["onFoundUrl"]],[30,0,["openDetour"]],[30,0,["onScheduleSelected"]],[30,0,["publishPost"]],[30,0,["postFailureErrorMessage"]],[30,0,["previewedUpdateV2"]],[30,0,["removeDetourPreview"]],[30,0,["scheduledDate"]],[30,0,["shareboxHasAttachment"]],[30,0,["shareboxHasValidContent"]],[30,0,["shareBoxSessionId"]],[30,0,["shareContentsData"]],[30,8],[30,0,["showActorToggle"]],[30,0,["showDetourPreviewEditButton"]],[30,0,["showDetourPreviewError"]],[30,0,["showDetourPreviewLoading"]],[30,0,["showDetourPreviewRemoveButton"]],[30,9],[30,0,["textInputI18nPlaceholderText"]],[30,0,["tookCommentControlAction"]],[30,0,["updateModalConfig"]],[30,0,["updateShareViewModel"]],[30,10],[30,0,["useStickyVisibility"]],[30,0,["removeFocus"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[37,3],[[30,0,["shareboxState"]],"DETOUR"],null],[[[44,[[50,[28,[37,7],[[30,0,["detourPath"]]],null],0,null,null]],[[[1,"            "],[8,[30,11],null,[["@onDetourComplete","@goToCreation","@shouldShowBackButton","@shouldShowCancelButton","@closeSharebox","@class","@detourData","@organizationActorUrn","@organizationActor","@updateShareboxModalConfig","@isInModal"],[[30,0,["onDetourComplete"]],[30,0,["goToCreation"]],[28,[37,8],[[30,12]],null],[52,[30,12],true,false],[30,0,["onCloseModal"]],"full-height",[30,0,["detourData"]],[30,0,["organizationActorUrn"]],[52,[30,0,["isOrganizationActor"]],[30,0,["currentActor"]]],[30,0,["updateModalConfig"]],[30,7]]],null],[1,"\\n"]],[11]]]],[]],null],[41,[28,[37,3],[[30,0,["shareboxState"]],"VISIBILITY"],null],[[[1,"          "],[8,[39,9],null,[["@authorAndAudienceSettings","@authorizedTwitterHandle","@availableActors","@eventContentVisibilityRestriction","@goToCreation","@isFixedVisibility","@isInBroadcastMode","@isInEditMode","@isInModal","@protectedMediaPresentForDraft","@isInReshareMode","@setTwitterAuthenticationData","@shareboxHasAttachment","@showInlineHeader","@twitterAuthorized","@updateAuthorAndAudienceSettings","@updateModalConfig","@visibilityScreen"],[[30,0,["authorAndAudienceSettings"]],[30,0,["authorizedTwitterHandle"]],[30,0,["availableActors"]],[30,0,["eventContentVisibilityRestriction"]],[30,0,["goToCreation"]],[30,0,["isFixedVisibility"]],[30,0,["isInBroadcastMode"]],[30,0,["isInEditMode"]],[30,7],[30,0,["protectedMediaPresentForDraft"]],[30,0,["isInReshareMode"]],[30,0,["setTwitterAuthenticationData"]],[30,0,["shareboxHasAttachment"]],[30,9],[30,0,["twitterAuthorized"]],[30,0,["updateAuthorAndAudienceSettings"]],[30,0,["updateModalConfig"]],[30,0,["visibilityScreen"]]]],null],[1,"\\n"]],[]],null],[41,[28,[37,3],[[30,0,["shareboxState"]],"DETOUR_CHOOSER_MENU"],null],[[[1,"          "],[8,[39,10],null,[["@chooserMenuButtons","@closeDetourChooserMenu","@openDetour","@isInModal","@updateModalConfig","@showInlineHeader"],[[30,0,["chooserMenuDetourButtons"]],[30,0,["closeDetourChooserMenu"]],[30,0,["openDetour"]],[30,7],[30,0,["updateModalConfig"]],[30,9]]],null],[1,"\\n"]],[]],null],[41,[28,[37,3],[[30,0,["shareboxState"]],"MANAGEMENT"],null],[[[1,"          "],[8,[39,11],null,[["@canBeScheduled","@goToCreation","@isInModal","@onScheduleSelected","@showInlineHeader","@timestamp","@timeZoneDescription","@updateModalConfig"],[[30,0,["canBeScheduled"]],[30,0,["goToCreation"]],[30,7],[30,0,["onScheduleSelected"]],[30,9],[30,0,["scheduledAt"]],[30,0,["timeZoneDescriptionTVMV2"]],[30,0,["updateModalConfig"]]]],null],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[3]]]]],[1,"\\n"],[1,"  "],[8,[39,12],null,[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@primaryControlName","@secondaryControlName","@onEscape","@testId","@setPreventScroll","@returnFocusTo"],[[30,0,["isWarningDialogOpen"]],[28,[37,13],[[30,0,["confirmationModalTextConfig","title"]],"sharing-v2/components/share-box-v2"],null],[28,[37,13],[[30,0,["confirmationModalTextConfig","content"]],"sharing-v2/components/share-box-v2"],null],[28,[37,13],[[30,0,["confirmationModalTextConfig","primaryActionText"]],"sharing-v2/components/share-box-v2"],null],[28,[37,13],[[30,0,["confirmationModalTextConfig","secondaryActionText"]],"sharing-v2/components/share-box-v2"],null],[30,0,["confirmationModalTextConfig","primaryAction"]],[30,0,["confirmationModalTextConfig","secondaryAction"]],[30,0,["confirmationModalTextConfig","primaryControlName"]],[30,0,["confirmationModalTextConfig","secondaryControlName"]],[30,0,["onEscapeWarningDialog"]],[30,0,["confirmationModalTextConfig","testId"]],[30,0,["setPreventScroll"]],[30,2]]],null],[1,"\\n"],[13]],["&attrs","@returnFocusTo","modal","@groupId","@hideCreationStateFooter","@initialHeader","@isShareboxInModal","@shareType","@showInlineHeader","@updateV2","DetourComponent","@initialDetourType"],false,["artdeco-modal@artdeco-modal","global-modifiers@focus","if","global-helpers@eq","sharing-v2@creation-state","let","component","ember-holy-futuristic-template-namespacing-batman-translate-dynamic-2","global-helpers@is-empty","sharing-v2@visibility/visibility-manager","sharing-v2@detour-chooser-menu","sharing-v2@post-manager","artdeco-modal@artdeco-confirmation-dialog","t"]]',moduleName:"sharing-v2/components/share-box-v2.hbs",isStrictMode:!1})
let v=(m=(0,l.inject)("tracking"),b=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",f,this);(0,t.default)(this,"isWarningDialogOpen",_,this);(0,t.default)(this,"modalHeader",y,this);(0,t.default)(this,"shareboxCloseControlName",T,this);(0,t.default)(this,"shouldFocusOnHeader",S,this)}_handleCloseShareboxModal(){var e,t
null===(e=(t=this.args).onCloseShareboxModal)||void 0===e||e.call(t)}_onShareEditSuccess(){super._onShareEditSuccess(...arguments)
this._handleCloseShareboxModal()}_getDraftSuccessToast(){super._getDraftSuccessToast()
this._handleCloseShareboxModal()}_getPostSuccessToast(){super._getPostSuccessToast(...arguments)
this._handleCloseShareboxModal()}_getPostPostPrompt(){super._getPostPostPrompt(...arguments)
this._handleCloseShareboxModal()}_buildShareStatusData(){super._buildShareStatusData(...arguments)
this._handleCloseShareboxModal()}_updateModalConfig(e){const{modalHeader:t,controlName:i,shouldFocusOnHeader:r=!1}=e;(0,d.scheduleOnce)("afterRender",(()=>{this.modalHeader=t
this.shareboxCloseControlName=i
this.shouldFocusOnHeader=r}))}_onCloseModal(){this.tracking.fireInteractionEvent(this.shareboxCloseControlName,"SHORT_PRESS")
if(this.isInDraftMode&&!this.shareboxHasValidContent){var e,t
super.deleteDraft()
null===(e=(t=this.args).onCancelSharebox)||void 0===e||e.call(t)
this._handleCloseShareboxModal()}else if(this.promptWarningDialogBeforeClosingSharebox)this.isWarningDialogOpen=!0
else{var i,r
null===(i=(r=this.args).onCancelSharebox)||void 0===i||i.call(r)
this._handleCloseShareboxModal()}}get confirmationModalTextConfig(){const e=super.canBeSavedAsDraft,t=super.isInEditMode
let i,r
if(e){i="i18n_save_draft_prompt_header"
r=this.draftConfirmationModalContentI18nKey}else if(t){i="i18n_discard_edit_header"
r="i18n_discard_edit_content"}else{i="i18n_discard_draft_header"
r="i18n_discard_draft_content"}return{title:i,content:r,primaryActionText:e?"i18n_save_draft_confirm":"i18n_discard",secondaryActionText:e?"i18n_discard":"i18n_go_back",primaryControlName:e?this.controlInteractionEvents.DRAFT_DIALOG_SAVE:this.controlInteractionEvents.WARNING_DIALOG_DISCARD,secondaryControlName:e?this.controlInteractionEvents.DRAFT_DIALOG_DISCARD:this.controlInteractionEvents.WARNING_DIALOG_BACK,primaryAction:e?this.saveDraft:this.closeWarningDialogAndSharebox,secondaryAction:e?this.closeWarningDialogAndSharebox:this.onDismissWarningDialog,testId:e?"draft-dialog":"warning-dialog"}}get draftConfirmationModalContentI18nKey(){if(this.args.shareOrigin===g.SHARE_ORIGIN.ORGANIZATION){const e=super.currentTargetedAudience,t=super.currentCommentRestriction
if(e&&t.type===g.VALID_COMMENT_RESTRICTION_TYPES.NONE)return"i18n_save_pages_draft_prompt_content_targeting_and_comments"
if(e)return"i18n_save_pages_draft_prompt_content_targeting"
if(t.type===g.VALID_COMMENT_RESTRICTION_TYPES.NONE)return"i18n_save_pages_draft_prompt_content_comments"}return"i18n_save_draft_prompt_content"}updateModalConfig(e){this._updateModalConfig(e)}onCloseModal(){this._onCloseModal()}closeWarningDialogAndSharebox(){var e,t
super.isInDraftMode&&super.deleteDraft()
this.isWarningDialogOpen=!1
null===(e=(t=this.args).onCancelSharebox)||void 0===e||e.call(t)
this._handleCloseShareboxModal()}onDismissWarningDialog(){this.isWarningDialogOpen=!1}saveDraft(){this.isWarningDialogOpen=!1
super.saveDraft()}onEscapeWarningDialog(){this.tracking.fireInteractionEvent(h.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.WARNING_DIALOG_EXIT,"SHORT_PRESS")
this.isWarningDialogOpen=!1}removeFocus(e){(0,p.isEscapeKey)(e)&&e.stopPropagation()}},f=(0,r.default)(b.prototype,"tracking",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,r.default)(b.prototype,"isWarningDialogOpen",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=(0,r.default)(b.prototype,"modalHeader",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,r.default)(b.prototype,"shareboxCloseControlName",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,r.default)(b.prototype,"shouldFocusOnHeader",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(b.prototype,"updateModalConfig",[u.action],Object.getOwnPropertyDescriptor(b.prototype,"updateModalConfig"),b.prototype),(0,r.default)(b.prototype,"onCloseModal",[u.action],Object.getOwnPropertyDescriptor(b.prototype,"onCloseModal"),b.prototype),(0,r.default)(b.prototype,"closeWarningDialogAndSharebox",[u.action],Object.getOwnPropertyDescriptor(b.prototype,"closeWarningDialogAndSharebox"),b.prototype),(0,r.default)(b.prototype,"onDismissWarningDialog",[u.action],Object.getOwnPropertyDescriptor(b.prototype,"onDismissWarningDialog"),b.prototype),(0,r.default)(b.prototype,"saveDraft",[u.action],Object.getOwnPropertyDescriptor(b.prototype,"saveDraft"),b.prototype),(0,r.default)(b.prototype,"onEscapeWarningDialog",[u.action],Object.getOwnPropertyDescriptor(b.prototype,"onEscapeWarningDialog"),b.prototype),(0,r.default)(b.prototype,"removeFocus",[u.action],Object.getOwnPropertyDescriptor(b.prototype,"removeFocus"),b.prototype),b)
e.default=v;(0,o.setComponentTemplate)(E,v)}))
define.alias("ember-cloud-filepicker/components/slideshare-file-picker","sharing-v2/components/slideshare-file-picker")
define("sharing-v2/components/state-change-button",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","sharing-v2/utils/state-change-button-config","sharing-v2/utils/sharing-constants"],(function(e,t,i,r,n,o,a,s,l,c,d,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,p,g
const m=(0,a.createTemplateFactory)({id:"av35Z14N",block:'[[[11,"button"],[16,0,[29,["share-state-change-button__button artdeco-button artdeco-button--muted artdeco-button--",[30,0,["toggleConfig","buttonSize"]],"\\n    artdeco-button--",[30,0,["toggleConfig","buttonType"]],"\\n    mr1"]]],[16,"aria-label",[30,0,["toggleConfig","ariaLabel"]]],[16,"disabled",[30,1]],[24,4,"button"],[4,[38,0],[[30,0,["toggleConfig","controlName"]]],null],[4,[38,1],["click",[30,0,["onButtonClick"]]],null],[12],[1,"\\n"],[41,[30,0,["toggleConfig","iconType"]],[[[1,"    "],[1,[28,[35,3],null,[["class","type","size"],["share-state-change-button__icon",[30,0,["toggleConfig","iconType"]],"small"]]]],[1,"\\n"]],[]],null],[1,"  "],[10,1],[14,0,"ph1"],[12],[1,"\\n    "],[1,[28,[35,4],[[30,0,["toggleConfig","label"]]],[["length"],[40]]]],[1,"\\n  "],[13],[1,"\\n"],[41,[30,0,["toggleConfig","showCaretIcon"]],[[[1,"    "],[1,[28,[35,3],null,[["class","type","size"],["share-state-change-button__icon","caret","small"]]]],[1,"\\n"]],[]],null],[13]],["@disabled"],false,["ember-cli-pemberly-tracking@track-interaction","on","if","artdeco-icons-web@li-icon","global-helpers@truncate-text"]]',moduleName:"sharing-v2/components/state-change-button.hbs",isStrictMode:!1})
let b=(h=(0,c.inject)("i18n"),p=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",g,this)}get isCommentRestrictionToggleMode(){return"comment-restriction"===this.toggleConfig.type}get isActorToggleMode(){return"actor"===this.toggleConfig.type}get isVisibilityMode(){return"visibility"===this.toggleConfig.type}get toggleConfig(){return new d.default(this.args.stateChangeButton,this.i18n,"sharing-v2@state-change-button")}get visibilityScreen(){return this.isActorToggleMode?u.VISIBILITY_SCREEN.ACTOR_TOGGLE:this.isCommentRestrictionToggleMode?u.VISIBILITY_SCREEN.COMMENT_CONTROLS:u.VISIBILITY_SCREEN.VISIBILITY_OPTIONS}onButtonClick(){var e,t
null===(e=(t=this.args).goToVisibilityScreen)||void 0===e||e.call(t,this.visibilityScreen)}},g=(0,r.default)(p.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(p.prototype,"onButtonClick",[l.action],Object.getOwnPropertyDescriptor(p.prototype,"onButtonClick"),p.prototype),p)
e.default=b;(0,o.setComponentTemplate)(m,b)}))
define("sharing-v2/components/visibility/actor-toggle",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@glimmer/tracking","@ember/object","sharing-v2/utils/sharing-constants","sharing-shared/utils/generic-list-item","sharing-shared/utils/text-view-model-helpers"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,m,b,f
const _=(0,a.createTemplateFactory)({id:"Jk0vn7j6",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@headerType","@titleText"],[[30,2],[28,[37,2],["i18n_posting_as","sharing-v2/components/visibility/actor-toggle"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[11,0],[16,0,[52,[30,3],"share-box-modal-content__container"]],[4,[38,3],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,4],[[53,"outletState"],"render.name"],null],[28,[37,4],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[41,[30,0,["actorToggleDisabled"]],[[[1,"    "],[8,[39,6],null,[["@linkText","@type","@onClick","@message","@class"],[[28,[37,2],["i18n_go_back","sharing-v2/components/visibility/actor-toggle"],null],"error",[30,4],[28,[37,2],["i18n_actor_toggle_error","sharing-v2/components/visibility/actor-toggle"],null],"ph5 pv3"]],null],[1,"\\n"]],[]],null],[1,"\\n  "],[10,"fieldset"],[14,0,"share-visibility__fieldset"],[12],[1,"\\n    "],[10,"legend"],[14,0,"visually-hidden"],[12],[1,"\\n      "],[1,[28,[35,2],["i18n_actor_btn_a11y_label","sharing-v2/components/visibility/actor-toggle"],[["label"],[[30,0,["currentActor","name"]]]]]],[1,"\\n    "],[13],[1,"\\n    "],[8,[39,7],null,[["@listItems","@currentSelectionId","@setItem","@useVectorImage","@isInModal","@isDisabled"],[[30,0,["listItems"]],[30,0,["currentActor","urn"]],[30,0,["onActorSelect"]],true,[30,3],[30,0,["actorToggleDisabled"]]]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,8],null,[["@showBackButton","@onBackClick","@backButtonControlName","@showSaveButton","@disableSaveButton","@onSaveClick","@saveButtonControlName"],[true,[30,4],[30,0,["controlInteractionEvents","ACTOR_SELECT_BACK"]],true,[30,0,["disableSaveButton"]],[30,0,["onSave"]],[30,0,["controlInteractionEvents","ACTOR_SELECT_SAVE"]]]],null]],["@showInlineHeader","@headerType","@isInModal","@goToCreation"],false,["if","detour-framework@title-bar","t","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","artdeco-inline-feedback@artdeco-inline-feedback","sharing-shared@detour-generic-list","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/visibility/actor-toggle.hbs",isStrictMode:!1})
let y=(g=(0,l.inject)("i18n"),m=class extends s.default{get disableSaveButton(){return(0,d.get)(this.args,"initialActor.urn")===this.currentActor.urn}get currentActor(){return this.selectedActor??this.args.initialActor}get listItems(){return this.args.availableActors.map((e=>new h.default({entityImageShape:e.lockupImageShape,itemId:e.urn,image:e.image,controlName:this.controlInteractionEvents.ACTOR_SELECT,text:(0,p.createTextViewModelV2)(e.name),imageAltText:e.name,ghostIconType:e.imageGhostType})))}get actorToggleDisabled(){return!this.args.isInReshareMode&&this.args.shareboxHasAttachment}constructor(){var e,r
super(...arguments);(0,t.default)(this,"i18n",b,this);(0,i.default)(this,"controlInteractionEvents",u.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"pageKey",u.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.ACTOR_TOGGLE);(0,t.default)(this,"selectedActor",f,this)
null===(e=(r=this.args).updateModalConfig)||void 0===e||e.call(r,{modalHeader:this.i18n.lookupTranslation("components/sharing-v2@visibility/actor-toggle","i18n_posting_as")(),controlName:this.controlInteractionEvents.ACTOR_SELECT_EXIT,shouldFocusOnHeader:!0})}onActorSelect(e){this.selectedActor=this.args.availableActors.find((t=>t.urn===e))}onSave(){var e,t
null===(e=(t=this.args).onActorSelected)||void 0===e||e.call(t,this.currentActor)}},b=(0,r.default)(m.prototype,"i18n",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,r.default)(m.prototype,"selectedActor",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(m.prototype,"onActorSelect",[d.action],Object.getOwnPropertyDescriptor(m.prototype,"onActorSelect"),m.prototype),(0,r.default)(m.prototype,"onSave",[d.action],Object.getOwnPropertyDescriptor(m.prototype,"onSave"),m.prototype),m)
e.default=y;(0,o.setComponentTemplate)(_,y)}))
define("sharing-v2/components/visibility/comment-controls",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/debug","@glimmer/component","@ember/object","@glimmer/tracking","@ember/service","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","sharing-shared/utils/text-view-model-helpers","sharing-shared/utils/generic-list-item","image-view-model/utils/artdeco-icon","sharing-v2/utils/sharing-utils","detour-framework/utils/detour-constants"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g,m,b,f,_,y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var T,S,E,v,I,C,O,A,D,N,w,R
const M=(0,s.createTemplateFactory)({id:"wRHrgDmn",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@headerType","@titleText"],[[30,2],[28,[37,2],["i18n_who_can_comment","sharing-v2/components/visibility/comment-controls"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[11,0],[16,0,[52,[30,3],"share-box-modal-content__container"]],[4,[38,3],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,4],[[53,"outletState"],"render.name"],null],[28,[37,4],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[41,[30,0,["showCommentControlsFeedbackMessage"]],[[[1,"    "],[8,[39,6],null,[["@type","@message","@class"],["note",[28,[37,2],["i18n_sticky_comment_controls_message","sharing-v2/components/visibility/comment-controls"],null],"share-visibility__comment-controls-initialization-msg"]],null],[1,"\\n"]],[]],null],[1,"\\n  "],[10,"fieldset"],[14,0,"share-visibility__fieldset"],[12],[1,"\\n    "],[10,"legend"],[14,0,"visually-hidden"],[12],[1,[28,[35,2],["i18n_who_can_comment","sharing-v2/components/visibility/comment-controls"],null]],[13],[1,"\\n    "],[8,[39,7],null,[["@listItems","@currentSelectionId","@setItem","@isInModal"],[[30,0,["listItems"]],[30,0,["currentSelection"]],[30,0,["setCurrentSelection"]],[30,3]]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,8],null,[["@primaryAction","@primaryControlName","@primaryButtonKey","@isPrimaryDisabled","@secondaryAction","@secondaryControlName","@secondaryButtonKey"],[[30,0,["onSaveButtonClick"]],[30,0,["controlInteractionEvents","COMMENT_CONTROLS_SELECT_SAVE"]],[30,0,["footerPrimaryButtonKeys","SAVE"]],[30,0,["isSaveButtonDisabled"]],[30,4],[30,0,["controlInteractionEvents","COMMENT_CONTROLS_SELECT_BACK"]],[30,0,["footerSecondaryButtonKeys","BACK"]]]],null]],["@showInlineHeader","@headerType","@isInModal","@goToCreation"],false,["if","detour-framework@title-bar","t","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","artdeco-inline-feedback@artdeco-inline-feedback","sharing-shared@detour-generic-list","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/visibility/comment-controls.hbs",isStrictMode:!1})
let P=(T=(0,h.inject)("i18n"),S=(0,h.inject)("lego@resolver"),E=(0,h.inject)("lego@tracking"),v=(N=new WeakSet,w=new WeakSet,R=new WeakSet,class extends c.default{get listItems(){return this.args.currentCommentControlsList?this.args.currentCommentControlsList.map((e=>{const t=(0,d.get)(e,"menuItem")
return new b.default({itemId:(0,d.get)(e,"allowedCommentersScope"),controlName:(0,d.get)(t,"controlName"),text:(0,d.get)(t,"title"),subtext:(0,d.get)(t,"description"),ghostIconType:(0,f.getLIIcon)((0,d.get)(t,"iconName")).name,entityImageShape:"square"})})):this.args.isOrganizationActor?[(0,r.default)(this,N,k).call(this,p.COMMENT_RESTRICTION_CONFIGS.ALL),(0,r.default)(this,N,k).call(this,p.COMMENT_RESTRICTION_CONFIGS.NONE)]:this.args.currentVisibility.containerEntity?[(0,r.default)(this,N,k).call(this,p.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.ENABLED),(0,r.default)(this,N,k).call(this,p.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.DISABLED)]:this.args.currentVisibility.type===g.VALID_VISIBILITY_TYPES.CONNECTIONS?[(0,r.default)(this,N,k).call(this,p.COMMENT_RESTRICTION_CONFIGS.CONNECTIONS_ONLY),(0,r.default)(this,N,k).call(this,p.COMMENT_RESTRICTION_CONFIGS.NONE)]:[(0,r.default)(this,N,k).call(this,p.COMMENT_RESTRICTION_CONFIGS.ALL),(0,r.default)(this,N,k).call(this,p.COMMENT_RESTRICTION_CONFIGS.CONNECTIONS_ONLY),(0,r.default)(this,N,k).call(this,p.COMMENT_RESTRICTION_CONFIGS.NONE)]}get isInModal(){return this.args.isInModal??!1}get isSaveButtonDisabled(){return this.args.initialCommentRestrictionSetting.type===this.currentSelection}constructor(){var e,n
super(...arguments)
R.add(this)
w.add(this)
N.add(this);(0,t.default)(this,"i18n",I,this);(0,t.default)(this,"legoResolver",C,this);(0,t.default)(this,"legoTracking",O,this);(0,i.default)(this,"controlInteractionEvents",p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"pageKey",p.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.COMMENT_CONTROLS);(0,i.default)(this,"footerPrimaryButtonKeys",y.SHARE_BOX_FOOTER_PRIMARY_KEYS);(0,i.default)(this,"footerSecondaryButtonKeys",y.SHARE_BOX_FOOTER_SECONDARY_KEYS);(0,t.default)(this,"currentSelection",A,this);(0,t.default)(this,"showCommentControlsFeedbackMessage",D,this)
null===(e=(n=this.args).updateModalConfig)||void 0===e||e.call(n,{modalHeader:this.getLocalizedString(this.args.currentVisibility.containerEntity?"i18n_commenting_for_post":"i18n_who_can_comment"),controlName:p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.COMMENTS_CONTROLS_SELECT_EXIT,shouldFocusOnHeader:!0})
this.args.currentCommentControlsList&&(0,r.default)(this,w,L).call(this)
this.currentSelection=this.args.initialCommentRestrictionSetting.type}getLocalizedString(e){return this.i18n.lookupTranslation("components/sharing-v2@visibility/comment-controls",e)()}onSaveButtonClick(){this.args.onCommentRestrictionSelected(this.currentSelection)}setCurrentSelection(e){this.currentSelection=e}}),I=(0,n.default)(v.prototype,"i18n",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,n.default)(v.prototype,"legoResolver",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,n.default)(v.prototype,"legoTracking",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.default)(v.prototype,"currentSelection",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,n.default)(v.prototype,"showCommentControlsFeedbackMessage",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(v.prototype,"onSaveButtonClick",[d.action],Object.getOwnPropertyDescriptor(v.prototype,"onSaveButtonClick"),v.prototype),(0,n.default)(v.prototype,"setCurrentSelection",[d.action],Object.getOwnPropertyDescriptor(v.prototype,"setCurrentSelection"),v.prototype),v)
e.default=P
function k(e){return new b.default({itemId:e.TYPE,controlName:e.CONTROL_NAME,text:(0,m.createTextViewModelV2)(this.getLocalizedString(e.I18N_TEXT_KEY)),subtext:(0,m.createTextViewModelV2)(this.getLocalizedString(e.I18N_SUBTEXT_KEY)),ghostIconType:e.ICON_NAME,entityImageShape:"square"})}function L(){(0,_.fireLegoRequestHelper)(this.legoResolver,{pageKey:"feed_share",slotId:"sticky_visibility_inline_feedback",groupId:"sticky_visibility_inline_feedback",widgetId:"sharing:_show_sticky_vis_inline_feedback_com"},(e=>(0,r.default)(this,R,V).call(this,null==e?void 0:e.trackingToken)))}function V(e){this.showCommentControlsFeedbackMessage=!0
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}(0,a.setComponentTemplate)(M,P)}))
define("sharing-v2/components/visibility/dash-containers-list",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@glimmer/tracking","@ember/object","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","sharing-shared/utils/visibility-utils","sharing-v2/utils/visibility/visibility-option","sharing-shared/utils/client-sensor-constants","sharing-shared/utils/client-sensor-utils"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g,m,b,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,y,T,S,E,v,I,C,O,A,D
const N=(0,s.createTemplateFactory)({id:"O2pW2JUV",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@headerType","@titleText"],[[30,2],[30,0,["containerHeader"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[11,0],[16,0,[52,[30,3],"share-box-modal-content__container"]],[4,[38,2],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,3],[[53,"outletState"],"render.name"],null],[28,[37,3],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[10,"h3"],[14,0,"share-visibility__subheader"],[12],[1,"\\n    "],[1,[30,4,["subheader"]]],[1,"\\n  "],[13],[1,"\\n"],[41,[30,0,["hasContainersListError"]],[[[1,"    "],[10,0],[14,0,"ph5 pv3"],[12],[1,"\\n      "],[8,[39,5],null,[["@message","@role","@type"],[[28,[37,6],["i18n_containers_error","sharing-v2/components/visibility/dash-containers-list"],null],"status","error"]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"\\n    "],[10,0],[15,0,[28,[37,7],["share-visibility__containers-list-loader ",[52,[30,0,["containerListLoaded"]],"visually-hidden"]],null]],[12],[1,"\\n      "],[8,[39,8],null,[["@size"],["small"]],null],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,"fieldset"],[14,0,"share-visibility__fieldset"],[12],[1,"\\n      "],[10,"legend"],[14,0,"visually-hidden"],[12],[1,[30,0,["containerHeader"]]],[13],[1,"\\n"],[41,[30,0,["containerListLoaded"]],[[[1,"        "],[8,[39,9],null,[["@currentSelectionId","@isInModal","@listItems","@setItem"],[[30,0,["currentVisibility","containerEntity"]],[30,3],[30,0,["containerListItems"]],[30,0,["setItem"]]]],null],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"]],[]]],[13],[1,"\\n\\n"],[8,[39,10],null,[["@showBackButton","@backButtonControlName","@onBackClick","@showSaveButton","@saveButtonControlName","@disableSaveButton","@onSaveClick","@errorState","@showRetryButton","@retryButtonControlName","@onRetryClick"],[true,[30,4,["backControlName"]],[30,5],[52,[51,[30,0,["hasContainersListError"]]],true,false],[30,4,["saveControlName"]],[30,0,["disableSaveButton"]],[30,0,["onSave"]],[30,0,["hasContainersListError"]],[52,[30,0,["hasContainersListError"]],true,false],[30,4,["retryControlName"]],[30,0,["tryAgain"]]]],null]],["@showInlineHeader","@headerType","@isInModal","@dashContainerMetadata","@goToPreviousPage"],false,["if","detour-framework@title-bar","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","artdeco-inline-feedback@artdeco-inline-feedback","t","concat","artdeco-loader@artdeco-loader","sharing-shared@detour-generic-list","detour-framework@share-box-footer","unless"]]',moduleName:"sharing-v2/components/visibility/dash-containers-list.hbs",isStrictMode:!1})
let w=(_=(0,c.inject)("store"),y=(0,c.inject)("client-sensor-web@client-sensor"),T=(A=new WeakSet,D=new WeakSet,class extends l.default{get disableSaveButton(){return!this.currentVisibility||!this.containerOptions.some((e=>(0,u.get)(e,"containerEntity")===this.currentVisibility.containerEntity))||this.currentVisibility.containerEntity===(0,u.get)(this.args,"initialVisibility.containerEntity")}get currentVisibility(){return this.selectedVisibility??this.args.initialVisibility}constructor(){var e,n,o,a,s
super(...arguments)
D.add(this)
A.add(this);(0,t.default)(this,"store",S,this);(0,t.default)(this,"clientSensor",E,this);(0,i.default)(this,"pageKey",h.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.CONTAINER_MENU);(0,t.default)(this,"containerListLoaded",v,this);(0,t.default)(this,"hasContainersListError",I,this);(0,t.default)(this,"selectedVisibility",C,this);(0,t.default)(this,"containerOptions",O,this)
this.containerHeader=null===(e=this.args.dashContainerMetadata)||void 0===e?void 0:e.header
this.containerTypeUrn=null===(n=this.args.dashContainerMetadata)||void 0===n?void 0:n.containerTypeUrn
null===(o=(a=this.args).updateModalConfig)||void 0===o||o.call(a,{modalHeader:this.containerHeader,controlName:null===(s=this.args.dashContainerMetadata)||void 0===s?void 0:s.exitControlName});(0,r.default)(this,A,R).call(this)}setItem(e){const t=this.containerOptions.find((t=>(0,u.get)(t,"containerEntity")===e))
this.selectedVisibility=(0,r.default)(this,D,M).call(this,t)}tryAgain(){this.containerListLoaded=!1;(0,r.default)(this,A,R).call(this)}onSave(){var e,t
null===(e=(t=this.args).onOptionSelected)||void 0===e||e.call(t,this.selectedVisibility)}}),S=(0,n.default)(T.prototype,"store",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(T.prototype,"clientSensor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,n.default)(T.prototype,"containerListLoaded",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=(0,n.default)(T.prototype,"hasContainersListError",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,n.default)(T.prototype,"selectedVisibility",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,n.default)(T.prototype,"containerOptions",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,n.default)(T.prototype,"setItem",[u.action],Object.getOwnPropertyDescriptor(T.prototype,"setItem"),T.prototype),(0,n.default)(T.prototype,"tryAgain",[u.action],Object.getOwnPropertyDescriptor(T.prototype,"tryAgain"),T.prototype),(0,n.default)(T.prototype,"onSave",[u.action],Object.getOwnPropertyDescriptor(T.prototype,"onSave"),T.prototype),T)
e.default=w
function R(){this.hasContainersListError=!1
return(0,g.getDashContainersList)(this.store,this.args.dashContainerMetadata.containerTypeUrn,0,100).then((e=>{var t
if(!this.isDestroying&&this.args.dashContainerMetadata.containerTypeUrn===this.containerTypeUrn){(0,f.fireSharingClientSensor)(this.clientSensor,b.SharingClientSensorMetrics.CONTAINER_LIST_LOAD_SUCCESS)
this.containerOptions=(0,u.get)(e,"elements.content")??[]
this.containerListItems=(0,g.createGenericListItemsFromContainers)(this.containerOptions,null===(t=this.args.dashContainerMetadata)||void 0===t?void 0:t.selectionControlName)}})).catch((e=>{if(!this.isDestroying){(0,f.fireSharingClientSensor)(this.clientSensor,b.SharingClientSensorMetrics.CONTAINER_LIST_LOAD_FAILURE)
if(!e)throw e
this.hasContainersListError=!0}})).finally((()=>{this.isDestroying||(this.containerListLoaded=!0)}))}function M(e){return new m.default({type:p.VALID_VISIBILITY_TYPES.CONTAINER,name:(0,u.get)(e,"name"),logo:(0,u.get)(e,"logo"),iconName:this.args.containerIconType,controlName:this.args.dashContainerMetadata.selectionControlName,containerTypeUrn:this.containerTypeUrn,containerEntity:(0,u.get)(e,"containerEntity"),selectedDescription:(0,u.get)(e,"selectionDescription")})}(0,a.setComponentTemplate)(N,w)}))
define("sharing-v2/components/visibility/media-remove-warn-dialog",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","sharing-v2/utils/sharing-constants"],(function(e,t,i,r,n,o,a,s,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,u,h
const p=(0,a.createTemplateFactory)({id:"ERd6yHQI",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@headerType","@titleText"],[[30,2],[28,[37,2],["i18n_change_setting","sharing-v2/components/visibility/media-remove-warn-dialog"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[11,0],[16,0,[52,[30,3],"share-box-modal-content__container"]],[4,[38,3],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,4],[[53,"outletState"],"render.name"],null],[28,[37,4],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[10,2],[14,0,"ph5 pv3 t-14 t-black"],[12],[1,"\\n    "],[1,[28,[35,2],["i18n_are_you_sure_dialog","sharing-v2/components/visibility/media-remove-warn-dialog"],null]],[1,"\\n  "],[13],[1,"\\n\\n"],[13],[1,"\\n"],[8,[39,6],null,[["@showCancelButton","@onCancelClick","@cancelButtonControlName","@showChangeVisibilityButton","@onChangeVisibilityClick","@visibilityButtonControlName"],[true,[30,4],[30,0,["controlInteractionEvents","MEDIA_REMOVE_WARN_DIALOG_CANCEL"]],true,[30,5],[30,0,["controlInteractionEvents","MEDIA_REMOVE_WARN_DIALOG_CONFIRM"]]]],null]],["@showInlineHeader","@headerType","@isInModal","@onCancel","@goToMainVisibilityScreen"],false,["if","detour-framework@title-bar","t","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/visibility/media-remove-warn-dialog.hbs",isStrictMode:!1})
let g=(d=(0,l.inject)("i18n"),u=class extends s.default{constructor(){var e,r
super(...arguments);(0,i.default)(this,"pageKey",c.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.MEDIA_REMOVE_WARN_DIALOG);(0,i.default)(this,"controlInteractionEvents",c.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,t.default)(this,"i18n",h,this)
null===(e=(r=this.args).updateModalConfig)||void 0===e||e.call(r,{modalHeader:this.i18n.lookupTranslation("components/sharing-v2@visibility/media-remove-warn-dialog","i18n_change_setting")(),controlName:this.controlInteractionEvents.MEDIA_REMOVE_WARN_DIALOG_EXIT,shouldFocusOnHeader:!0})}},h=(0,r.default)(u.prototype,"i18n",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=g;(0,o.setComponentTemplate)(p,g)}))
define("sharing-v2/components/visibility/targeting-audience",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/service","@ember/object","organization-targeting-audience/utils/targeting-modal-helpers","sharing-v2/utils/visibility/visibility-utils","sharing-v2/utils/sharing-constants","data-layer/utils/organization/models/target","sharing-v2/utils/visibility/visibility-option-configs"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,f,_,y,T,S,E,v,I
const C=(0,a.createTemplateFactory)({id:"e+btvJkG",block:'[[[11,0],[24,0,"full-height display-flex flex-column flex-grow-1"],[4,[38,0],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,1],[[53,"outletState"],"render.name"],null],[28,[37,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[41,[30,1],[[[1,"    "],[8,[39,4],null,[["@headerType","@titleText"],[[30,2],[28,[37,5],["i18n_targeting_audience_settings","sharing-v2/components/visibility/targeting-audience"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n  "],[8,[39,6],null,[["@dashOrganizationUrn","@targetAudience","@isTargetAudienceError","@numMembersTargeted","@onTargetAudienceChange","@isEstimatedTargetAudienceLoading","@isTargetedAudienceTooBroad","@isTargetedAudienceTooNarrow","@minTargetedFollowers","@class"],[[30,3],[30,0,["targetAudienceDraft"]],[30,0,["isTargetAudienceError"]],[30,4],[30,0,["onTargetAudienceChange"]],[30,5],[30,0,["isAudienceTooBroad"]],[30,0,["isAudienceTooNarrow"]],[30,0,["minTargetedFollowers"]],[52,[30,6],"share-box-modal-content__container","share-targeting-audience__targeting-container"]]],null],[1,"\\n  "],[8,[39,7],null,[["@showBackButton","@onBackClick","@backButtonControlName","@showSaveButton","@disableSaveButton","@onSaveClick","@saveButtonControlName"],[true,[30,7],[30,0,["controlInteractionEvents","NEW_TARGETING_BACK"]],true,[30,0,["disableSaveButton"]],[30,0,["onSave"]],[30,0,["controlInteractionEvents","NEW_TARGETING_SAVE"]]]],null],[1,"\\n"],[13]],["@showInlineHeader","@headerType","@dashOrganizationUrn","@numMembersTargeted","@isEstimatedTargetAudienceLoading","@isInModal","@goToPreviousPage"],false,["ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","if","detour-framework@title-bar","t","organization-targeting-audience@targeting-audience","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/visibility/targeting-audience.hbs",isStrictMode:!1}),O=Object.freeze({ADD:"add",REMOVE:"remove"})
let A=(b=(0,c.inject)("store"),f=(0,c.inject)("i18n"),_=class extends s.default{get isAudienceTooBroad(){return-1===this.args.numMembersTargeted}get isAudienceTooNarrow(){const{numMembersTargeted:e}=this.args
return e>=0&&e<300}get disableSaveButton(){return!this.hasChangedSettings||this.isAudienceTooBroad||this.isAudienceTooNarrow}constructor(){var e,r
super(...arguments);(0,t.default)(this,"store",y,this);(0,t.default)(this,"i18n",T,this);(0,i.default)(this,"pageKey",p.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.TARGETING);(0,i.default)(this,"targetedVisibilityOptionTypeV2",(0,h.buildVisibilityOptionFromConfig)(this.i18n,m.TARGETED_VISIBILITY_CONFIG));(0,t.default)(this,"hasChangedSettings",S,this);(0,t.default)(this,"isTargetAudienceError",E,this);(0,t.default)(this,"numMembersTargeted",v,this);(0,t.default)(this,"targetAudienceDraft",I,this);(0,i.default)(this,"minTargetedFollowers",300)
null===(e=(r=this.args).updateModalConfig)||void 0===e||e.call(r,{modalHeader:this.i18n.lookupTranslation("components/sharing-v2@visibility/targeting-audience","i18n_targeting_audience_settings")(),controlName:p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.NEW_TARGETING_EXIT,shouldFocusOnHeader:!0})
const{targetAudience:n}=this.args
this.targetAudienceDraft=(0,u.createDraftVersionForTargetAudience)(n,this.store)
this.controlInteractionEvents=p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS}onTargetAudienceChange(e,t,i,r,n){switch(i){case O.ADD:n===g.TARGET_AUDIENCE_SEGMENTS.countryGroups?(0,d.set)(this,`targetAudienceDraft.${t}`,e):this.targetAudienceDraft[t].pushObject(e)
break
case O.REMOVE:this.targetAudienceDraft[t].removeObject(e)}if("locations"!==t||i===O.REMOVE||"locations"===t&&!r){this.isTargetAudienceError=!1
this.args.updateTargetedSettings((0,u.convertLocalTargetAudienceToTargetModelForm)(this.targetAudienceDraft))
this.hasChangedSettings||(this.hasChangedSettings=!0)}else this.isTargetAudienceError=!0}onSave(){var e,t
const i=(0,u.convertLocalTargetAudienceToTargetModelForm)(this.targetAudienceDraft),r=this.store.createRecord("com.linkedin.voyager.organization.content.Target",i)
null===(e=(t=this.args).onTargetingSelected)||void 0===e||e.call(t,this.targetedVisibilityOptionTypeV2,r)}},y=(0,r.default)(_.prototype,"store",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,r.default)(_.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,r.default)(_.prototype,"hasChangedSettings",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=(0,r.default)(_.prototype,"isTargetAudienceError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=(0,r.default)(_.prototype,"numMembersTargeted",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,r.default)(_.prototype,"targetAudienceDraft",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(_.prototype,"onTargetAudienceChange",[d.action],Object.getOwnPropertyDescriptor(_.prototype,"onTargetAudienceChange"),_.prototype),(0,r.default)(_.prototype,"onSave",[d.action],Object.getOwnPropertyDescriptor(_.prototype,"onSave"),_.prototype),_)
e.default=A;(0,o.setComponentTemplate)(C,A)}))
define("sharing-v2/components/visibility/visibility-manager",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/service","@ember/object","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","sharing-v2/utils/visibility/visibility-utils","sharing-v2/utils/visibility/comment-restriction","sharing-v2/utils/visibility/visibility-option-configs"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,f,_,y,T,S,E,v,I,C,O,A
const D=(0,a.createTemplateFactory)({id:"FyvXIq+R",block:'[[[10,0],[14,0,"share-visibility__manager"],[12],[1,"\\n"],[41,[28,[37,1],[[30,0,["currentScreen"]],"VISIBILITY_OPTIONS"],null],[[[1,"    "],[8,[39,2],null,[["@authorizedTwitterHandle","@excludedVisibilityTypes","@goToCreation","@goToDashContainersList","@goToTargetedAudience","@headerType","@initialVisibility","@isFixedVisibility","@isInBroadcastMode","@isInModal","@isOrganizationActor","@onVisibilityOptionSelected","@setTwitterAuthenticationData","@showInlineHeader","@twitterAuthorized","@updateModalConfig","@usingStickyVisibility","@visibilityOptions"],[[30,1],[30,2],[30,3],[30,0,["goToDashContainersList"]],[30,0,["goToTargetedAudience"]],[30,4],[30,0,["currentVisibility"]],[30,5],[30,6],[30,7],[30,0,["isOrganizationActor"]],[30,0,["updateVisibilityOptionSelected"]],[30,8],[30,9],[30,10],[30,11],[30,0,["usingStickyVisibility"]],[30,0,["visibilityOptions"]]]],null],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"MEDIA_WARN_DIALOG"],null],[[[1,"    "],[8,[39,3],null,[["@onCancel","@goToMainVisibilityScreen","@isInModal","@updateModalConfig"],[[30,3],[30,0,["goToMainVisibilityScreen"]],[30,7],[30,11]]],null],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"DASH_CONTAINERS_LIST"],null],[[[1,"    "],[8,[39,4],null,[["@containerIconType","@dashContainerMetadata","@goToCreation","@goToPreviousPage","@headerType","@initialVisibility","@isInModal","@onOptionSelected","@showInlineHeader","@updateModalConfig"],[[30,0,["containerIconType"]],[30,0,["dashContainerMetadata"]],[30,3],[30,0,["goToMainVisibilityScreen"]],[30,4],[30,0,["currentVisibility"]],[30,7],[30,0,["updateVisibilityOptionSelected"]],[30,9],[30,11]]],null],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"TARGETED_AUDIENCE"],null],[[[1,"    "],[8,[39,5],null,[["@followedCompanyUrn","@targetAudience"],[[30,0,["organizationActorUrn"]],[30,0,["currentTargetedAudience"]]]],[["default"],[[[[1,"\\n      "],[8,[39,6],null,[["@dashOrganizationUrn","@goToCreation","@goToPreviousPage","@headerType","@isEstimatedTargetAudienceLoading","@isInModal","@numMembersTargeted","@onTargetingSelected","@showInlineHeader","@targetAudience","@updateModalConfig","@updateTargetedSettings","@class"],[[30,0,["dashOrganizationUrn"]],[30,3],[30,0,["goToMainVisibilityScreen"]],[30,4],[30,12,["state","isEstimatedTargetAudienceLoading"]],[30,7],[30,12,["state","numMembersTargeted"]],[30,0,["updateVisibilityOptionSelected"]],[30,9],[30,0,["currentTargetedAudience"]],[30,11],[30,12,["actions","updateTargetedSettings"]],"full-height display-flex flex-column flex-grow-1"]],null],[1,"\\n    "]],[12]]]]],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"ACTOR_TOGGLE"],null],[[[1,"    "],[8,[39,7],null,[["@availableActors","@goToCreation","@headerType","@initialActor","@isInModal","@isInReshareMode","@onActorSelected","@shareboxHasAttachment","@showInlineHeader","@updateModalConfig"],[[30,13],[30,3],[30,4],[30,0,["currentActor"]],[30,7],[30,14],[30,0,["updateActorSelection"]],[30,15],[30,9],[30,11]]],null],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"COMMENT_CONTROLS"],null],[[[1,"    "],[8,[39,8],null,[["@currentCommentControlsList","@currentVisibility","@goToCreation","@headerType","@initialCommentRestrictionSetting","@isInBroadcastMode","@isInModal","@isOrganizationActor","@onCommentRestrictionSelected","@showInlineHeader","@updateModalConfig"],[[30,0,["currentCommentControlsList"]],[30,0,["currentVisibility"]],[30,3],[30,4],[30,0,["currentCommentRestriction"]],[30,6],[30,7],[30,0,["isOrganizationActor"]],[30,0,["updateCommentRestrictionSelected"]],[30,9],[30,11]]],null],[1,"\\n  "]],[]],null]],[]]]],[]]]],[]]]],[]]]],[]]],[13]],["@authorizedTwitterHandle","@excludedVisibilityTypes","@goToCreation","@headerType","@isFixedVisibility","@isInBroadcastMode","@isInModal","@setTwitterAuthenticationData","@showInlineHeader","@twitterAuthorized","@updateModalConfig","container","@availableActors","@isInReshareMode","@shareboxHasAttachment"],false,["if","global-helpers@eq","sharing-v2@visibility/visibility-options-menu","sharing-v2@visibility/media-remove-warn-dialog","sharing-v2@visibility/dash-containers-list","organization-targeting-audience@targeted-settings-container","sharing-v2@visibility/targeting-audience","sharing-v2@visibility/actor-toggle","sharing-v2@visibility/comment-controls"]]',moduleName:"sharing-v2/components/visibility/visibility-manager.hbs",isStrictMode:!1})
let N=(b=(0,c.inject)("store"),f=(0,c.inject)("i18n"),_=class extends s.default{get currentCommentControlsList(){if(this.usingStickyVisibility){const[e]=this.stickyVisibilityData.filter((e=>(0,d.get)(e,"visibilityDataUnion.visibilityType")===this.currentVisibility.type||(0,d.get)(e,"visibilityDataUnion.containerVisibility.containerTypeUrn")))
return(0,d.get)(e,"commentControls")}}get dashOrganizationUrn(){return this.isOrganizationActor?this.currentActor.dashCompanyUrn:null}get isOrganizationActor(){return this.currentActor.actorType===u.ACTOR_TYPES.company}get organizationActorUrn(){return this.isOrganizationActor?this.currentActor.urn:null}get visibilityOptions(){return this._getVisibilityOptionsMenu()}get usingStickyVisibility(){return!(!this.stickyVisibilityData||this.isOrganizationActor)}constructor(){super(...arguments);(0,t.default)(this,"store",y,this);(0,t.default)(this,"i18n",T,this);(0,i.default)(this,"anyoneVisibilityOptionType",(0,p.buildVisibilityOptionFromConfig)(this.i18n,m.ANYONE_VISIBILITY_CONFIG));(0,i.default)(this,"defaultOrganizationActorVisibilityOptions",(0,p.buildVisibilityOptionsFromConfigs)(this.i18n,m.DEFAULT_ORGANIZATION_ACTOR_VISIBILITY_CONFIGS));(0,i.default)(this,"defaultFallbackVisibilityOptions",(0,p.buildVisibilityOptionsFromConfigs)(this.i18n,m.FALLBACK_INITIALIZATION_VISIBILITY_CONFIGS));(0,t.default)(this,"containerIconType",S,this);(0,t.default)(this,"currentActor",E,this);(0,t.default)(this,"currentCommentRestriction",v,this);(0,t.default)(this,"currentScreen",I,this);(0,t.default)(this,"currentVisibility",C,this);(0,t.default)(this,"currentTargetedAudience",O,this);(0,t.default)(this,"stickyVisibilityData",A,this)
this.currentActor=this.args.authorAndAudienceSettings.actor
this.currentVisibility=this.args.authorAndAudienceSettings.visibility
this.currentTargetedAudience=this.args.authorAndAudienceSettings.targetedAudience
this.stickyVisibilityData=this.args.authorAndAudienceSettings.stickyVisibilityData
this.currentCommentRestriction=this.args.authorAndAudienceSettings.commentRestriction
this.stickyVisibilityData&&(this.dashContainersMetadata=(0,p.getDashContainersMetadata)(this.stickyVisibilityData))
this.args.protectedMediaPresentForDraft&&this.args.visibilityScreen===u.VISIBILITY_SCREEN.VISIBILITY_OPTIONS?this.currentScreen=u.VISIBILITY_SCREEN.MEDIA_WARN_DIALOG:this.currentScreen=this.args.visibilityScreen}_formatStickyVisibilityData(){return this.stickyVisibilityData.map((e=>(0,p.formatStickyVisibilityItem)(e)))}_getVisibilityOptionsMenu(){if(this.args.isFixedVisibility||this.args.isInEditMode)return[this.currentVisibility]
if(this.isOrganizationActor)return this.defaultOrganizationActorVisibilityOptions
if(!this.stickyVisibilityData)return this.args.eventContentVisibilityRestriction?[this.defaultFallbackVisibilityOptions.firstObject]:this.defaultFallbackVisibilityOptions
const e=this._formatStickyVisibilityData()
return this.args.eventContentVisibilityRestriction?[e.firstObject]:e}_getSelectedDashContainerMetadata(e){var t
const[i]=null===(t=this.dashContainersMetadata)||void 0===t?void 0:t.filter((t=>t.containerTypeUrn===e.containerTypeUrn))
return i}_updateAndSaveVisibilitiesToAPI(){const e=(0,p.selectVisibilityAndCommentControlsPayload)(this.stickyVisibilityData,this.currentVisibility,this.currentCommentRestriction.type);(0,p.saveVisibilityAndCommentControlsPayload)(e,this.store)
return e}_updateCommentRestrictionType(e){return this.currentVisibility.type!==h.VALID_VISIBILITY_TYPES.CONNECTIONS&&this.currentVisibility.type!==h.VALID_VISIBILITY_TYPES.CONTAINER||!e.type.includes("ANYONE")||this.args.authorAndAudienceSettings.commentRestrictionUserSelectionType!==h.VALID_COMMENT_RESTRICTION_TYPES.CONNECTIONS_ONLY?this.args.authorAndAudienceSettings.commentRestrictionUserSelectionType:u.DEFAULT_COMMENT_RESTRICTION_TYPE}updateActorSelection(e){this.currentActor=e
if(e.actorType===u.ACTOR_TYPES.member&&this.stickyVisibilityData){const{selectedVisibility:e,selectedCommentControlConfig:t}=(0,p.findSelectedOptions)(this.stickyVisibilityData)
this.currentVisibility=(0,p.formatSelectedStickyVisibilityItem)(e)
this.currentCommentRestriction=new g.default(this.currentVisibility,(0,d.get)(t,"allowedCommentersScope"),this.isOrganizationActor,this.args.isInBroadcastMode)}else this.currentVisibility=this.anyoneVisibilityOptionType
this.currentCommentRestriction=new g.default(this.currentVisibility,this.args.authorAndAudienceSettings.commentRestrictionUserSelectionType,this.isOrganizationActor,this.args.isInBroadcastMode)
this.args.updateAuthorAndAudienceSettings({actor:this.currentActor,commentRestriction:this.currentCommentRestriction,visibility:this.currentVisibility})
this.args.goToCreation()}updateCommentRestrictionSelected(e){this.currentCommentRestriction=new g.default(this.currentVisibility,e,this.isOrganizationActor,this.args.isInBroadcastMode)
this.stickyVisibilityData&&!this.isOrganizationActor&&this._updateAndSaveVisibilitiesToAPI()
this.args.updateAuthorAndAudienceSettings({commentRestriction:this.currentCommentRestriction,commentRestrictionUserSelectionType:e,stickyVisibilityData:this.stickyVisibilityData})
this.args.goToCreation()}updateVisibilityOptionSelected(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null
const i=this._updateCommentRestrictionType(e)
this.currentVisibility=e
this.currentTargetAudience=t
this.currentCommentRestriction=new g.default(this.currentVisibility,i,this.isOrganizationActor,this.args.isInBroadcastMode)
this.usingStickyVisibility&&(this.stickyVisibilityData=this._updateAndSaveVisibilitiesToAPI())
this.args.updateAuthorAndAudienceSettings({commentRestriction:this.currentCommentRestriction,commentRestrictionUserSelectionType:i,stickyVisibilityData:this.stickyVisibilityData,targetedAudience:this.currentTargetAudience,visibility:this.currentVisibility})
this.args.goToCreation()}goToDashContainersList(e){this.dashContainerMetadata=this._getSelectedDashContainerMetadata(e)
this.currentScreen=u.VISIBILITY_SCREEN.DASH_CONTAINERS_LIST
this.containerIconType=e.iconName}goToMainVisibilityScreen(){this.currentScreen=u.VISIBILITY_SCREEN.VISIBILITY_OPTIONS}goToTargetedAudience(){this.currentScreen=u.VISIBILITY_SCREEN.TARGETED_AUDIENCE}},y=(0,r.default)(_.prototype,"store",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,r.default)(_.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,r.default)(_.prototype,"containerIconType",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=(0,r.default)(_.prototype,"currentActor",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,r.default)(_.prototype,"currentCommentRestriction",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,r.default)(_.prototype,"currentScreen",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,r.default)(_.prototype,"currentVisibility",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(_.prototype,"currentTargetedAudience",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(_.prototype,"stickyVisibilityData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(_.prototype,"updateActorSelection",[d.action],Object.getOwnPropertyDescriptor(_.prototype,"updateActorSelection"),_.prototype),(0,r.default)(_.prototype,"updateCommentRestrictionSelected",[d.action],Object.getOwnPropertyDescriptor(_.prototype,"updateCommentRestrictionSelected"),_.prototype),(0,r.default)(_.prototype,"updateVisibilityOptionSelected",[d.action],Object.getOwnPropertyDescriptor(_.prototype,"updateVisibilityOptionSelected"),_.prototype),(0,r.default)(_.prototype,"goToDashContainersList",[d.action],Object.getOwnPropertyDescriptor(_.prototype,"goToDashContainersList"),_.prototype),(0,r.default)(_.prototype,"goToMainVisibilityScreen",[d.action],Object.getOwnPropertyDescriptor(_.prototype,"goToMainVisibilityScreen"),_.prototype),(0,r.default)(_.prototype,"goToTargetedAudience",[d.action],Object.getOwnPropertyDescriptor(_.prototype,"goToTargetedAudience"),_.prototype),_)
e.default=N;(0,o.setComponentTemplate)(D,N)}))
define("sharing-v2/components/visibility/visibility-options-menu",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@glimmer/tracking","@ember/object","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","sharing-v2/utils/visibility/visibility-utils","sharing-v2/utils/sharing-utils","sharing-shared/utils/generic-list-item","text-view-model/utils/generator"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g,m,b,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,y,T,S,E,v,I,C,O,A,D,N,w,R,M,P,k,L,V,x
const B=(0,s.createTemplateFactory)({id:"gkCoox0/",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@headerType","@titleText"],[[30,2],[30,0,["headerText"]]]],null],[1,"\\n"]],[]],null],[11,0],[16,0,[52,[30,3],"share-box-modal-content__container"]],[4,[38,2],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,3],[[53,"outletState"],"render.name"],null],[28,[37,3],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[10,"h3"],[14,0,"share-visibility__subheader"],[12],[1,"\\n    "],[1,[30,0,["subheaderText"]]],[1,"\\n  "],[13],[1,"\\n"],[41,[30,0,["showStickyVisibilityInlineFeedbackMessage"]],[[[1,"    "],[8,[39,5],null,[["@type","@message","@class"],["note",[28,[37,6],["i18n_sticky_visibility_message","sharing-v2/components/visibility/visibility-options-menu"],null],"share-visibility__options-menu-initialization-msg"]],null],[1,"\\n"]],[]],null],[1,"\\n  "],[10,"fieldset"],[14,0,"share-visibility__fieldset"],[12],[1,"\\n    "],[10,"legend"],[14,0,"visually-hidden"],[12],[1,[30,0,["headerText"]]],[13],[1,"\\n    "],[8,[39,7],null,[["@listItems","@currentSelectionId","@setItem","@isInModal"],[[30,0,["listItems"]],[30,0,["selectedOptionType"]],[30,0,["setItem"]],[30,3]]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n"],[8,[39,8],null,[["@showBackButton","@onBackClick","@backButtonControlName","@showSaveButton","@disableSaveButton","@onSaveClick","@saveButtonControlName"],[true,[30,4],[30,0,["controlInteractionEvents","VISIBILITY_BACK"]],true,[30,0,["disableSaveButton"]],[30,0,["onSave"]],[30,0,["controlInteractionEvents","VISIBILITY_SAVE"]]]],null]],["@showInlineHeader","@headerType","@isInModal","@goToCreation"],false,["if","detour-framework@title-bar","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","artdeco-inline-feedback@artdeco-inline-feedback","t","sharing-shared@detour-generic-list","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/visibility/visibility-options-menu.hbs",isStrictMode:!1})
let U=(_=(0,c.inject)("locale"),y=(0,c.inject)("sharing-v2@twitter-tether"),T=(0,c.inject)("i18n"),S=(0,c.inject)("lego@resolver"),E=(0,c.inject)("lego@tracking"),v=(P=new WeakSet,k=new WeakSet,L=new WeakSet,V=new WeakSet,x=new WeakSet,class extends l.default{get currentVisibility(){var e
return this.selectedVisibility??(null===(e=this.args)||void 0===e?void 0:e.initialVisibility)}get disableSaveButton(){var e,t,i
return(null===(e=this.args)||void 0===e||null===(t=e.initialVisibility)||void 0===t?void 0:t.type)===(null===(i=this.currentVisibility)||void 0===i?void 0:i.type)||this.twitterAuthenticationInProgress}get fixedVisibilityIsContainer(){var e
return this.args.isFixedVisibility&&(null===(e=this.currentVisibility)||void 0===e?void 0:e.containerEntity)}get listItems(){return this.fixedVisibilityIsContainer?[(0,r.default)(this,k,z).call(this)]:this.args.usingStickyVisibility?this.stickyVisibilityListItemsV2:(0,r.default)(this,P,H).call(this)}get selectedOptionType(){var e
return null===(e=this.currentVisibility)||void 0===e?void 0:e.type}get headerText(){return this.args.isInBroadcastMode?this.i18n.lookupTranslation("components/sharing-v2@visibility/visibility-options-menu","i18n_who_can_see_this_broadcast")():this.i18n.lookupTranslation("components/sharing-v2@visibility/visibility-options-menu","i18n_who_can_see_this_post")()}get subheaderText(){return this.args.isInBroadcastMode?this.i18n.lookupTranslation("components/sharing-v2@visibility/visibility-options-menu","i18n_post_settings_broadcast_subtext")():this.i18n.lookupTranslation("components/sharing-v2@visibility/visibility-options-menu","i18n_post_settings_subtext")()}get stickyVisibilityListItems(){return this.visibilityOptions.map((e=>{if(e.containerTypeUrn&&this.currentVisibility.containerTypeUrn===e.containerTypeUrn)return new b.default({itemId:this.currentVisibility.type,image:this.currentVisibility.logo,controlName:e.controlName,text:(0,u.get)(this.currentVisibility,"name.text"),imageAltText:e.type,ghostIconType:e.iconName,showChevron:e.showChevron,entityImageShape:"square",subtext:e.selectedDescription})
const t=this.currentVisibility.type===e.type&&e.selectedDescription?e.selectedDescription:e.description,i=(0,u.get)(e,"name.text")
return new b.default({itemId:e.type,image:e.logo?e.logo:null,controlName:e.controlName,text:e.twitterHandle?`${i} ${e.twitterHandle}`:i,subtext:t,imageAltText:(0,f.default)(e.type),ghostIconType:e.iconName,entityImageShape:"square",showChevron:e.showChevron})}))}get stickyVisibilityListItemsV2(){return this.visibilityOptions.map((e=>{if(e.containerTypeUrn&&this.currentVisibility.containerTypeUrn===e.containerTypeUrn)return new b.default({itemId:this.currentVisibility.type,image:this.currentVisibility.logo,controlName:e.controlName,text:this.currentVisibility.name,imageAltText:e.type,ghostIconType:e.iconName,showChevron:e.showChevron,entityImageShape:"square",subtext:e.selectedDescription,useTVMV2:!0})
const t=this.currentVisibility.type===e.type&&e.selectedDescription?e.selectedDescription:e.description,i=(0,u.get)(e,"name.text")
return new b.default({itemId:e.type,image:e.logo?e.logo:null,controlName:e.controlName,text:e.twitterHandle?(0,f.default)(`${i} ${e.twitterHandle}`,!0):e.name,subtext:t,imageAltText:(0,f.default)(e.type,!0),ghostIconType:e.iconName,entityImageShape:"square",showChevron:e.showChevron,useTVMV2:!0})}))}constructor(){var e,n
super(...arguments)
x.add(this)
V.add(this)
L.add(this)
k.add(this)
P.add(this);(0,t.default)(this,"locale",I,this);(0,t.default)(this,"twitterTether",C,this);(0,t.default)(this,"i18n",O,this);(0,t.default)(this,"legoResolver",A,this);(0,t.default)(this,"legoTracking",D,this);(0,i.default)(this,"controlInteractionEvents",h.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"eligibilityMap",{[p.VALID_VISIBILITY_TYPES.TWITTER]:"cn"!==(0,u.get)(this,"locale.requestIpCountryCode")});(0,i.default)(this,"pageKey",h.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.VISIBILITY);(0,t.default)(this,"selectedVisibility",N,this);(0,t.default)(this,"showStickyVisibilityInlineFeedbackMessage",w,this);(0,t.default)(this,"twitterAuthenticationInProgress",R,this);(0,t.default)(this,"visibilityOptions",M,this)
null===(e=(n=this.args).updateModalConfig)||void 0===e||e.call(n,{modalHeader:this.headerText,controlName:this.controlInteractionEvents.VISIBILITY_EXIT,shouldFocusOnHeader:!0})
const o=this.args.excludedVisibilityTypes||[]
this.visibilityOptions=(0,g.getFilteredVisibilityOptions)(this.args.visibilityOptions,this.eligibilityMap,o)
this.args.usingStickyVisibility&&(0,r.default)(this,V,F).call(this)
this.args.authorizedTwitterHandle&&this.visibilityOptions.forEach((e=>{e.type===p.VALID_VISIBILITY_TYPES.TWITTER&&(e.twitterHandle=this.args.authorizedTwitterHandle)}))}setItem(e){const t=this.visibilityOptions.find((t=>t.type===e))
if(t.type!==p.VALID_VISIBILITY_TYPES.TWITTER||this.args.twitterAuthorized)this.twitterAuthenticationInProgress=!1
else{this.twitterAuthenticationInProgress=!0
this.twitterTether.bindTwitterAccount().then((0,r.default)(this,L,j).bind(this)).finally((()=>{this.isDestroying||this.args.twitterAuthorized&&(this.twitterAuthenticationInProgress=!1)}))}if(t.type===p.VALID_VISIBILITY_TYPES.TARGETED){var i,n
null===(i=(n=this.args).goToTargetedAudience)||void 0===i||i.call(n)}if(t.containerTypeUrn){var o,a
null===(o=(a=this.args).goToDashContainersList)||void 0===o||o.call(a,t)}else this.selectedVisibility=t}onSave(){var e,t
null===(e=(t=this.args).onVisibilityOptionSelected)||void 0===e||e.call(t,this.selectedVisibility)}}),I=(0,n.default)(v.prototype,"locale",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,n.default)(v.prototype,"twitterTether",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,n.default)(v.prototype,"i18n",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.default)(v.prototype,"legoResolver",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,n.default)(v.prototype,"legoTracking",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,n.default)(v.prototype,"selectedVisibility",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,n.default)(v.prototype,"showStickyVisibilityInlineFeedbackMessage",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,n.default)(v.prototype,"twitterAuthenticationInProgress",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,n.default)(v.prototype,"visibilityOptions",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(v.prototype,"setItem",[u.action],Object.getOwnPropertyDescriptor(v.prototype,"setItem"),v.prototype),(0,n.default)(v.prototype,"onSave",[u.action],Object.getOwnPropertyDescriptor(v.prototype,"onSave"),v.prototype),v)
e.default=U
function H(){return this.visibilityOptions.map((e=>new b.default({itemId:e.type,image:e.logo?e.logo:null,controlName:e.controlName,text:e.name,subtext:e.description,imageAltText:(0,u.get)(e,"name.text"),ghostIconType:e.iconName,entityImageShape:"square",useTVMV2:!0})))}function z(){return new b.default({itemId:this.currentVisibility.type,image:this.currentVisibility.logo,ghostIconType:this.currentVisibility.iconName,entityImageShape:"square",text:this.currentVisibility.name,imageAltText:(0,u.get)(this.currentVisibility,"name.text")})}function j(e){if(e){this.twitterAuthenticationInProgress=!1
this.visibilityOptions=this.visibilityOptions.map((t=>{const i=(0,u.get)(t,"name.text")
if(t.type===p.VALID_VISIBILITY_TYPES.TWITTER&&!i.includes(e)){t.twitterHandle=`(@${e})`
this.args.setTwitterAuthenticationData(t.twitterHandle)}return t}))}}function F(){(0,m.fireLegoRequestHelper)(this.legoResolver,{pageKey:"feed_share",slotId:"sticky_visibility_inline_feedback",groupId:"sticky_visibility_inline_feedback",widgetId:"sharing:_show_sticky_vis_inline_feedback_vis"},(e=>(0,r.default)(this,x,Y).call(this,null==e?void 0:e.trackingToken)))}function Y(e){this.showStickyVisibilityInlineFeedbackMessage=!0
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}(0,a.setComponentTemplate)(B,U)}))
define("sharing-v2/config/environment",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="sharing-v2/config/environment",i=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(i))}catch(e){t={}}var i=t
e.default=i}))
define.alias("ember-number-formatting/helpers/abbreviate-number","sharing-v2/helpers/abbreviate-number")
define.alias("ember-truth-helpers/helpers/and","sharing-v2/helpers/and")
define.alias("artdeco-datepicker/helpers/artdeco-adjust-date-for-timezone","sharing-v2/helpers/artdeco-adjust-date-for-timezone")
define.alias("artdeco-datepicker/helpers/artdeco-is-between-dates","sharing-v2/helpers/artdeco-is-between-dates")
define.alias("ember-media-player/helpers/autoplay-media","sharing-v2/helpers/autoplay-media")
define.alias("artdeco-datepicker/helpers/cal-dates-equal","sharing-v2/helpers/cal-dates-equal")
define.alias("ember-element-helper/helpers/element","sharing-v2/helpers/element")
define.alias("ember-holy-futuristic-template-namespacing-batman/helpers/-translate-dynamic-2","sharing-v2/helpers/ember-holy-futuristic-template-namespacing-batman-translate-dynamic-2")
define("sharing-v2/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})}))
define.alias("ember-truth-helpers/helpers/eq","sharing-v2/helpers/eq")
define.alias("ember-media-player/helpers/format-autoplay","sharing-v2/helpers/format-autoplay")
define.alias("ember-cli-pemberly-i18n/helpers/format-number","sharing-v2/helpers/format-number")
define.alias("ember-semaphore/helpers/format-title","sharing-v2/helpers/format-title")
define.alias("hue-web-icons/helpers/get-asset-url","sharing-v2/helpers/get-asset-url")
define.alias("ember-truth-helpers/helpers/gt","sharing-v2/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","sharing-v2/helpers/gte")
define.alias("ember-truth-helpers/helpers/is-array","sharing-v2/helpers/is-array")
define.alias("ember-truth-helpers/helpers/is-empty","sharing-v2/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","sharing-v2/helpers/is-equal")
define.alias("artdeco-icons-web/helpers/li-icon","sharing-v2/helpers/li-icon")
define.alias("ember-async-data/helpers/load","sharing-v2/helpers/load")
define.alias("ember-number-formatting/helpers/localized-format-currency","sharing-v2/helpers/localized-format-currency")
define.alias("ember-number-formatting/helpers/localized-format-number","sharing-v2/helpers/localized-format-number")
define.alias("ember-truth-helpers/helpers/lt","sharing-v2/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","sharing-v2/helpers/lte")
define.alias("ember-truth-helpers/helpers/not-eq","sharing-v2/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","sharing-v2/helpers/not")
define.alias("ember-truth-helpers/helpers/or","sharing-v2/helpers/or")
define("sharing-v2/helpers/ref-to",["exports","ember-ref-bucket/helpers/ref-to"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"refTo",{enumerable:!0,get:function(){return t.default}})}))
define.alias("ember-app-scheduler/helpers/route-idle","sharing-v2/helpers/route-idle")
define.alias("ember-media-player/helpers/seek-media","sharing-v2/helpers/seek-media")
define.alias("ember-set-helper/helpers/set","sharing-v2/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t","sharing-v2/helpers/t")
define.alias("ember-cli-pemberly-litms/helpers/tag-manager-test-helper","sharing-v2/helpers/tag-manager-test-helper")
define.alias("ember-number-formatting/helpers/trim-fractional-numbers","sharing-v2/helpers/trim-fractional-numbers")
define.alias("ember-truth-helpers/helpers/xor","sharing-v2/helpers/xor")
define.alias("ember-uuid","sharing-v2/index")
define("sharing-v2/initializers/artdeco",["exports","artdeco-eyeglass"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.initialize=n
const i=[t.default.contextClasses,t.default.floatingLabel,t.default.focusOutline]
function r(e,t){const r=e[t]
e[t]=function(){i.forEach((e=>e&&"function"==typeof e.teardown&&e.teardown()))
r&&"function"==typeof r&&r.call(e)}}function n(e){if("undefined"!=typeof document){i.forEach((e=>e.install()))
"function"==typeof e.willDestroy?r(e,"willDestroy"):"function"==typeof e.destroy&&r(e,"destroy")}}var o={name:"artdeco",initialize:n}
e.default=o}))
define("sharing-v2/initializers/ember-faker",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.initialize=t
function t(){}var i={name:"ember-faker",initialize:t}
e.default=i}))
define("sharing-v2/initializers/icons",["exports","artdeco-icons-web/src/icons","sharing-v2/config/environment"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function r(e){throw e}var n={name:"icons",initialize:function(){const{environment:e,APP:n}=i.default
let o,a
n&&({artdecoCustomSpriteUrl:o,artdecoCustomSpriteName:a}=n)
const s="test"!==e
t.default.load(s,o,a).catch(r)}}
e.default=n}))
define.alias("ember-cli-pemberly-lix/initializers/lix","sharing-v2/initializers/lix")
define.alias("ember-m3/initializers/m3-store","sharing-v2/initializers/m3-store")
define.alias("video/instance-initializers/media-plugins","sharing-v2/instance-initializers/media-plugins")
define.alias("artdeco-datepicker/modifiers/artdeco-calendar-click-watcher","sharing-v2/modifiers/artdeco-calendar-click-watcher")
define.alias("ember-ref-bucket/modifiers/create-ref","sharing-v2/modifiers/create-ref")
define.alias("ember-css-transitions/modifiers/css-transition","sharing-v2/modifiers/css-transition")
define.alias("@ember/render-modifiers/modifiers/did-insert","sharing-v2/modifiers/did-insert")
define.alias("ember-scroll-modifiers/modifiers/did-intersect","sharing-v2/modifiers/did-intersect")
define.alias("ember-resize-modifier/modifiers/did-resize","sharing-v2/modifiers/did-resize")
define.alias("@ember/render-modifiers/modifiers/did-update","sharing-v2/modifiers/did-update")
define.alias("ember-finite-scroll/modifiers/ember-finite-scroll/focus","sharing-v2/modifiers/ember-finite-scroll/focus")
define.alias("image-editor/modifiers/fabric","sharing-v2/modifiers/fabric")
define.alias("ember-prop-modifier","sharing-v2/modifiers/prop")
define.alias("ember-scroll-modifiers/modifiers/scroll-into-view","sharing-v2/modifiers/scroll-into-view")
define.alias("@ember/render-modifiers/modifiers/will-destroy","sharing-v2/modifiers/will-destroy")
define.alias("ember-cloud-filepicker/providers/base-provider","sharing-v2/providers/base-provider")
define.alias("ember-cloud-filepicker/providers/dropbox-provider","sharing-v2/providers/dropbox-provider")
define.alias("ember-cloud-filepicker/providers/onedrive-provider","sharing-v2/providers/onedrive-provider")
define("sharing-v2/providers/slideshare-provider",["exports","ember-cloud-filepicker/providers/slideshare-provider"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define.alias("@embroider/util/services/ensure-registered","sharing-v2/services/-ensure-registered")
define.alias("artdeco-hoverables/services/artdeco-hoverable","sharing-v2/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","sharing-v2/services/artdeco-modal")
define.alias("artdeco-toast/services/artdeco-toast","sharing-v2/services/artdeco-toast")
define.alias("client-sensor-web/services/client-sensor","sharing-v2/services/client-sensor")
define.alias("ember-date-service/services/date","sharing-v2/services/date")
define.alias("@linkedin/ember-restli-graphql/services/graphql","sharing-v2/services/graphql")
define.alias("image-editor/services/image-editor-loader","sharing-v2/services/image-editor-loader")
define.alias("@linkedin/ember-pem/services/internal-event-utils","sharing-v2/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","sharing-v2/services/internal-pem-tracking")
define.alias("ember-cli-pemberly-lix/services/lix","sharing-v2/services/lix")
define.alias("ember-m3/services/m3-schema-manager","sharing-v2/services/m3-schema-manager")
define.alias("ember-media-player/services/media-player","sharing-v2/services/media-player")
define.alias("ember-number-formatting/services/number-formatter","sharing-v2/services/number-formatter")
define.alias("ember-number-formatting/services/number-locale","sharing-v2/services/number-locale")
define.alias("@linkedin/ember-pem/services/pem-tracking","sharing-v2/services/pem-tracking")
define.alias("persistent-toast-manager/services/persistent-toast-manager","sharing-v2/services/persistent-toast-manager")
define.alias("@linkedin/ember-qualtrics/services/qualtrics-surveys","sharing-v2/services/qualtrics-surveys")
define.alias("ember-cli-realtime/services/realtime-api","sharing-v2/services/realtime-api")
define.alias("ember-session-record/services/scheduled-session-recorder","sharing-v2/services/scheduled-session-recorder")
define.alias("ember-session-record/services/session-recorder","sharing-v2/services/session-recorder")
define.alias("ember-media-player/services/static-asset-loader","sharing-v2/services/static-asset-loader")
define.alias("ember-cli-pemberly-m3/services/store","sharing-v2/services/store")
define.alias("ember-cli-pemberly-litms/services/tag-manager","sharing-v2/services/tag-manager")
define.alias("ember-cli-pemberly-litms/services/tracking-adapter-for-tag-manager","sharing-v2/services/tracking-adapter-for-tag-manager")
define("sharing-v2/services/twitter-tether",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","rsvp","@ember/service","genie-oauth/utils/genie-oauth-util","voyager-web/config/environment","@ember/object"],(function(e,t,i,r,n,o,a,s,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,u,h,p,g,m,b
const f={provider:"TWITTER",protocol:"OAUTH1",scopes:["READ","WRITE","DIRECT_MESSAGES"]}
let _=(d=(0,a.inject)("authentication@authenticated-user"),u=(0,a.inject)("profile-services@identity-store"),h=(0,a.inject)("store"),p=class extends a.default{constructor(){super(...arguments);(0,i.default)(this,"authenticationPopupLaunched",!1);(0,t.default)(this,"authenticatedUser",g,this);(0,t.default)(this,"identityStore",m,this);(0,t.default)(this,"store",b,this)}fetchPrimaryTwitterHandleName(){return this._fetchProfileContactInfo().then((e=>(0,c.get)(e,"primaryTwitterHandle.name")))}bindTwitterAccount(){return new o.Promise(((e,t)=>{if(this.authenticationPopupLaunched)t()
else{this.authenticationPopupLaunched=!0
const i=this._getGenieOAuthUtil(),{identityStore:r}=this
i.bindAuth().then((t=>{if(t.handle){const i=(0,c.get)(this,"authenticatedUser.memberId"),n=r.getVersionTag()
return this.store.adapterFor("-ember-m3").ajax(...this._updateTwitterSettingsAjax(t.handle,n,i)).then(e(t.handle))}throw new Error("result from the OAuthUtil did not contain a handle")})).then((t=>r.reloadVersionTag().then(e(t)))).catch((()=>{this.authenticationPopupLaunched=!1
t()}))}}))}_getGenieOAuthUtil(){return new s.default(f)}_fetchProfileContactInfo(){const e=(0,c.get)(this,"authenticatedUser.memberId")
return this.identityStore.findRecord("com.linkedin.voyager.identity.profile.ProfileContactInfo",e)}_updateTwitterSettingsAjax(e,t,i){return[`/${l.default.namespace}/identity/profiles/${i}/profileContactInfo?action=updateTwitterSettings`,"POST",{data:{twitterHandleName:e,versionTag:t}}]}},g=(0,r.default)(p.prototype,"authenticatedUser",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=(0,r.default)(p.prototype,"identityStore",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,r.default)(p.prototype,"store",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p)
e.default=_}))
define.alias("ember-singularity/services/unified-event-handler","sharing-v2/services/unified-event-handler")
define.alias("artdeco-datepicker/templates/components/artdeco-calendar","sharing-v2/templates/components/artdeco-calendar")
define.alias("artdeco-datepicker/templates/components/artdeco-datepicker-embedded-cal","sharing-v2/templates/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/templates/components/artdeco-datepicker","sharing-v2/templates/components/artdeco-datepicker")
define.alias("artdeco-datepicker/templates/components/artdeco-daterange-embedded-cal","sharing-v2/templates/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/templates/components/artdeco-daterange","sharing-v2/templates/components/artdeco-daterange")
define.alias("ember-async-data/tracked-async-data","sharing-v2/tracked-async-data")
define("sharing-v2/utils/asset-utils",["exports","ember-cloud-filepicker/utils/asset-utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define.alias("ember-highcharts/utils/build-options","sharing-v2/utils/build-options")
define.alias("ember-cli-realtime/utils/eventsource-polyfill","sharing-v2/utils/eventsource-polyfill")
define("sharing-v2/utils/file-error",["exports","ember-cloud-filepicker/utils/file-error"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define("sharing-v2/utils/file-result",["exports","ember-cloud-filepicker/utils/file-result"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define("sharing-v2/utils/get-app-config",["exports","ember-cloud-filepicker/utils/get-app-config"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define.alias("ember-cli-artdeco-tabs/utils/get-box-model-width","sharing-v2/utils/get-box-model-width")
define("sharing-v2/utils/guider/dash-guider-manager",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","ember-cli-pemberly-tracking/utils/tracking","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","@ember/object","@glimmer/tracking","sharing-shared/utils/typeahead-tracking-helper","sharing-v2/utils/guider/guider-tracking","global-utils/utils/is-browser","ember-lifeline","sharing-shared/utils/client-sensor-constants","sharing-shared/utils/client-sensor-utils"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g,m,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.DashGuiderManager=void 0
var f,_,y,T,S,E,v
function I(e){return{name:(0,c.get)(e,"displayText"),trackingControlName:(0,c.get)(e,"trackingControlName"),textToInsert:(0,c.get)(e,"clickBehaviorUnion.textToInsert"),detourType:(0,c.get)(e,"clickBehaviorUnion.detourType"),hashtagTrackingData:(0,c.get)(e,"customTrackingDataUnion.hashtagTrackingData"),trackingPromptType:(0,c.get)(e,"trackingData.trackingPromptType")}}let C=(f=(T=new WeakSet,S=new WeakSet,E=new WeakSet,v=new WeakSet,class{constructor(e,r,n,o,a,s,l,c,d,u,h){v.add(this)
E.add(this)
S.add(this)
T.add(this);(0,t.default)(this,"headerPrompt",_,this);(0,t.default)(this,"prompts",y,this);(0,i.default)(this,"impressedHashtags",[])
this.articleUrn=e
this.clientSensor=r
this.containerUrn=n
this.hasAttachment=o
this.organizationActorUrn=a
this.shareBoxSessionId=s
this.shareText=l
this.store=c
this.tracking=d
this.typeaheadTracking=u
this.update=h}updateShareText(e){this.shareText=e
return(0,r.default)(this,v,N).call(this)}updateHasAttachment(e){this.hasAttachment=e
return(0,r.default)(this,v,N).call(this)}updateArticleUrn(e){this.articleUrn=e
return(0,r.default)(this,v,N).call(this)}updateOrganizationActor(e,t){this.organizationActorUrn=e
this.containerUrn=t
return(0,r.default)(this,v,N).call(this)}updateContainerUrn(e){this.containerUrn=e
return(0,r.default)(this,v,N).call(this)}setInitialPrompt(){(0,r.default)(this,v,N).call(this)}fireHashtagSuggestionActionEvent(e,t){const i=(0,u.createHashtagResultHit)((0,c.get)(e,"hashtagTrackingData.backendUrn"),t,(0,c.get)(e,"hashtagTrackingData.recommendationTrackingId"))
this.typeaheadTracking.trackHashtagSuggestionActionEvent(this.hashtagWorkflowId,s.CUSTOM_ACTION_EVENTS.SELECT,this.shareText,s.HASHTAG_SOURCE_TYPES.SUGGESTED,i)}fireGuiderPromptClickTracking(e){(0,h.fireShareboxGuiderPromptClickEventTracking)(this.guiderPromptWorkflowId,e,this.tracking)}fireHashtagSuggestionImpressionEvent(){const e=(0,r.default)(this,E,D).call(this),t=(i=e,n=this.prompts,i.map((e=>({entity:(0,c.get)(n.objectAt(e.dataset.index),"hashtagTrackingData.backendUrn"),index:Number(e.dataset.index),trackingId:(0,c.get)(n.objectAt(e.dataset.index),"hashtagTrackingData.recommendationTrackingId")}))).filter((e=>e.entity&&e.trackingId)))
var i,n
if(t.length){this.typeaheadTracking.trackHashtagSuggestionImpressionEvent(t,this.hashtagWorkflowId,s.HASHTAG_SOURCE_TYPES.SUGGESTED,this.shareText)
this.impressedHashtags=this.impressedHashtags.concat(e.map((e=>e.innerText)))}}}),_=(0,n.default)(f.prototype,"headerPrompt",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{trackingPromptType:""}}}),y=(0,n.default)(f.prototype,"prompts",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f)
e.DashGuiderManager=C
function O(){this.hashtagWorkflowId=(0,a.generateTrackingId)()
const e=(0,u.createHashtagSuggestionStartEventPayload)(s.HASHTAG_SOURCE_TYPES.SUGGESTED,this.hashtagWorkflowId,this.tracking.generateControlUrn(l.SHARE_TYPES.SHARE),(0,c.get)(this,"update.updateMetadata.urn"))
this.typeaheadTracking.trackHashtagSuggestionStartEvent(e,this.shareText)}function A(e){this.guiderPromptWorkflowId=(0,a.generateTrackingId)();(0,h.fireShareboxGuiderPromptStartEventTracking)(this.guiderPromptWorkflowId,e,this.tracking)}function D(){if(p.default){var e
const t=null===(e=document.querySelector(".share-creation-state__additional-toolbar"))||void 0===e?void 0:e.getBoundingClientRect().right
return[...document.querySelectorAll(".share-guider-custom-carousel-prompt__slide")].filter((e=>e.getBoundingClientRect().right<t&&!this.impressedHashtags.includes(e.innerText)))}return[]}function N(){const e={commentary:this.shareText,hasAttachment:this.hasAttachment,q:"highestPriorityTriggeredPrompt",shareBoxSessionId:this.shareBoxSessionId}
this.organizationActorUrn&&(e.organizationActorUrn=this.organizationActorUrn)
this.containerUrn&&(e.containerUrn=this.containerUrn)
this.articleUrn&&(e.mediaUrn=this.articleUrn)
return this.store.queryURL("voyagerContentcreationDashGuiderPrompts",{params:{recipe:"com.linkedin.voyager.dash.deco.contentcreation.GuiderPrompt",...e}}).then((e=>{(0,b.fireSharingClientSensor)(this.clientSensor,m.SharingClientSensorMetrics.GUIDER_PROMPT_LOAD_SUCCESS)
if(e){const t=(0,c.get)(e,"elements.content.0.header")||{},i=(0,c.get)(t,"customTrackingDataUnion.hashtagTrackingData"),n=(0,c.get)(t,"trackingData.trackingPromptType")
i&&(0,g.runTask)(this,this.fireHashtagSuggestionImpressionEvent)
if(n!==this.headerPrompt.trackingPromptType){i&&(0,r.default)(this,T,O).call(this)
n&&(0,r.default)(this,S,A).call(this,n)}this.headerPrompt=I(t)
const o=(0,c.get)(e,"elements.content.0.items")||[]
this.prompts=o.map(I)}})).catch((e=>{(0,b.fireSharingClientSensor)(this.clientSensor,m.SharingClientSensorMetrics.GUIDER_PROMPT_LOAD_FAILURE)
throw e}))}}))
define("sharing-v2/utils/guider/guider-tracking",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.fireShareboxGuiderPromptClickEventTracking=function(e,t,i){const r={guiderPromptWorkflowId:e,promptType:t}
i.fireTrackingPayload("ShareboxGuiderPromptClickEvent",r)}
e.fireShareboxGuiderPromptStartEventTracking=function(e,t,i){const r={guiderPromptWorkflowId:e,promptType:t}
i.fireTrackingPayload("ShareboxGuiderPromptStartEvent",r)}}))
define.alias("client-sensor-web/utils/helpers","sharing-v2/utils/helpers")
define("sharing-v2/utils/lix",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.LIX_KEY_SHARING_HIRING_JOB_SUGGESTION_DEBOUNCE_LIMIT=void 0
const t=Object.freeze({KEY:"voyager.web.sharing-hiring-post-job-suggestion-debounce-limit"})
e.LIX_KEY_SHARING_HIRING_JOB_SUGGESTION_DEBOUNCE_LIMIT=t}))
define("sharing-v2/utils/mime-type-utils",["exports","ember-cloud-filepicker/utils/mime-type-utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define("sharing-v2/utils/norm-share-utils",["exports","sharing-shared/utils/text-view-model-helpers","@ember/debug","sharing-shared/utils/sharing-shared-constants"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.deleteNormShare=function(e,t){const i=`/voyager/api/contentcreation/normShares/${t}`
return e.adapterFor("-ember-m3").ajax(i,"DELETE")}
e.partialNormShareUpdate=function(e){let{store:i,ugcUrn:n,shareContentsData:o,shareMedia:a,allowedCommentersScope:s,deleteMedia:l=!1,postState:c,degradationPemTrackingMetaData:d,scheduledAt:u}=e
const h={}
if(o){const{text:e,mentions:i}=o
h.commentaryV2=(0,t.generateTVMFromTextAndMentions)(e,i)}a&&a.length&&(h.media=a)
s&&(h.allowedCommentersScope=s)
c&&c!==r.POST_STATES.DRAFT&&(h.postState=c)
u&&(h.scheduledAt=u)
return function(e,t,i,r,n){const o=["media"],a=i
let s
if(n){s={degradations:[n]}
s.degradedEntityIDsToRemove=[]}if(r)return e.queryURL(...function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}
return[`/voyager/api/contentcreation/normShares/${e}`,{method:"POST",adapterOptions:i,params:{patch:{$set:t,$delete:r}}}]}(t,a,s,o))
return e.queryURL(...function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0
return[`/voyager/api/contentcreation/normShares/${e}`,{method:"POST",adapterOptions:i,params:{patch:{$set:t}}}]}(t,a,s))}(i,n,h,l,d)}}))
define("sharing-v2/utils/share-preview-utils",["exports","@ember/debug","@ember/object"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.getUpdateV2WithFeedComponent=function(e,t){const r=Math.floor(Math.random()*Math.floor(1e3)),n=i.default.create({$type:"com.linkedin.voyager.feed.render.UpdateMetadata",urn:`urn:li:fakeUpdate:${r}`,trackingData:{$type:"com.linkedin.voyager.feed.TrackingData",trackingId:`trackingId${r}`,requestId:`requestId${r}`,urn:`urn:li:fakeUpdate:${r}`}}),o=e.createRecord("com.linkedin.voyager.feed.render.UpdateV2",{entityUrn:`urn:li:fs_fakeEntityUrn:${r}`,highlightedComments:[],updateMetadata:n});(0,i.set)(o,"content",t)
return o}}))
define("sharing-v2/utils/share-status-helper",["exports","@ember/object","sharing-shared/utils/text-view-model-helpers"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,r,n,o,a){this.m3Schema=e
this.urn=(0,t.get)(r,"urn")
this.status=r
this.commentary=this.m3Schema.buildModel("com.linkedin.voyager.feed.render.TextComponent",{text:(0,i.generateTVMFromTextAndMentions)(n,o)})
this.detourManager=a}generateShareStatusData(){const e=this.m3Schema.buildModel("com.linkedin.voyager.feed.render.UpdateMetadata",{shareUrn:this.urn,urn:this.urn,trackingData:{$type:"com.linkedin.voyager.feed.TrackingData",trackingId:this.urn}}),i=t.default.create(this.m3Schema.buildModel("com.linkedin.voyager.feed.render.UpdateV2",{isSponsored:!1,entityUrn:this.urn,updateMetadata:e,commentary:this.commentary})),r=this.videoMediaData&&this.videoMediaData.customThumbnailImage;(0,t.setProperties)(i,{customThumbnailUrl:r,canShowPreview:!!(r||this.mediaData&&this.mediaData.dataUri),value:{},status:this.status,mediaContent:this.mediaData,mediaType:this.mediaType,detourManager:this.detourManager})
return i}}}))
define("sharing-v2/utils/sharing-constants",["exports","sharing-shared/utils/sharing-shared-constants"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.VISIBILITY_SCREEN=e.UPLOAD_LIMITS=e.SHARE_PREVIEWS_CACHE_MODEL_NAME=e.SHARE_DETAIL_CACHE_KEY_BASE=e.SHARE_AUDIENCE_VISIBILITY=e.SHAREBOX_TRACKING=e.SHAREBOX_STATE=e.SESSION_REPLAY=e.NOTIFICATION_DURATION=e.MENTION_ENTITY_TYPES=e.LOCAL_STORAGE_KEYS=e.LIX_TREATMENTS=e.KEYS_NAMES=e.I18N_KEYS=e.HASHTAG_SOURCE_TYPES=e.HASHTAG_PREFIX=e.EXTERNAL_DETOURS=e.ERRORS=e.DEFAULT_COMMENT_RESTRICTION_TYPE=e.CUSTOM_ACTION_EVENTS=e.COMMENT_RESTRICTION_TYPE_ICONS=e.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS=e.COMMENT_RESTRICTION_CONFIGS=e.ACTOR_TYPES=void 0
const i=Object.freeze({CREATION:"CREATION",DETOUR:"DETOUR",VISIBILITY:"VISIBILITY",DETOUR_CHOOSER_MENU:"DETOUR_CHOOSER_MENU",MANAGEMENT:"MANAGEMENT"})
e.SHAREBOX_STATE=i
const r=Object.freeze({ESCAPE_KEY_NAME:"Escape",ESC_KEY_NAME:"Esc",TAB_KEY_NAME:"Tab"})
e.KEYS_NAMES=r
e.HASHTAG_PREFIX="#"
const n=Object.freeze({TYPEAHEAD:"TYPEAHEAD",SUGGESTED:"SUGGESTED"})
e.HASHTAG_SOURCE_TYPES=n
const o=Object.freeze({SELECT:"SELECT",DELETE:"DELETE",DISMISS:"DISMISS",PERSONALIZE:"PERSONALIZE"})
e.CUSTOM_ACTION_EVENTS=o
e.NOTIFICATION_DURATION=4e3
const a=Object.freeze({NONTWITTER_CHAR_LIMIT:3e3,TWITTER_CHAR_LIMIT:255,MENTIONS_LIMIT:40})
e.UPLOAD_LIMITS=a
const s=Object.freeze({member:"member",company:"company",organizationalPage:"organizationalPage"})
e.ACTOR_TYPES=s
const l=Object.freeze({ENABLED:"enabled",CONTROL:"control"})
e.LIX_TREATMENTS=l
const c=Object.freeze({ACTOR_TOGGLE:"ACTOR_TOGGLE",COMMENT_CONTROLS:"COMMENT_CONTROLS",DASH_CONTAINERS_LIST:"DASH_CONTAINERS_LIST",TARGETED_AUDIENCE:"TARGETED_AUDIENCE",VISIBILITY_OPTIONS:"VISIBILITY_OPTIONS",MEDIA_WARN_DIALOG:"MEDIA_WARN_DIALOG"})
e.VISIBILITY_SCREEN=c
const d=Object.freeze({PUBLIC:"PUBLIC",CONNECTIONS:"CONNECTIONS",GROUP:"GROUP",EMPLOYEES:"EMPLOYEES",PUBLIC_GROUP:"PUBLIC_GROUP"})
e.SHARE_AUDIENCE_VISIBILITY=d
e.EXTERNAL_DETOURS=["SERVICE_MARKETPLACE","JOB","EVENTS"]
const u=Object.freeze({SUCCESS_TOAST_PUBLISHED:"i18n_share_posted",SUCCESS_TOAST_SCHEDULED:"i18n_share_scheduled",SUCCESS_TOAST_DRAFT:"i18n_draft_saved",SHARE_UNSUCCESSFUL:"i18n_share_unsuccessful",DUPLICATE_SHARE_UNSUCCESSFUL:"duplicate_share_unsuccessful",CHANGES_SAVED:"i18n_changes_saved",GENERIC_PREVIEW_ERROR:"i18n_detour_preview_default_error_temp"})
e.I18N_KEYS=u
const h=Object.freeze({DUPLICATE_SHARE_ERROR_CODE:"409"})
e.ERRORS=h
const p=Object.freeze({PAGEVIEW_EVENTS:{SHARE:"flagship3_feed_share",RESHARE:"flagship3_feed_reshare_share",EDIT:"flagship3_feed_share_edit",DRAFT:"flagship3_feed_share_draft",VISIBILITY:"flagship3_feed_share_distribution",TARGETING:"flagship3_feed_share_targeting",ACTOR_TOGGLE:"flagship3_feed_share_actor_menu",CONTAINER_MENU:"flagship3_feed_share_container_menu",COMMENT_CONTROLS:"flagship3_feed_share_comment_controls",DETOUR_CHOOSER_MENU:"flagship3_feed_share_detour_chooser_menu",MEDIA_REMOVE_WARN_DIALOG:"flagship3_feed_share_media_remove_dialog_warn",DATE_TIME_PICKER:"flagship3_feed_share_schedule_picker",POST_VIEW_LIST:"flagship3_feed_share_schedule_list",POST_DETAIL_VIEW:"flagship3_feed_share_schedule_detail"},CONTROL_INTERACTION_EVENTS:{UNFOCUS_SHAREBOX:"share_close",ADD_COMMENTARY:"share_add_commentary",SHOW_MORE_HASHTAGS:"share_show_more_hashtags",REMOVE_PREVIEW_PREFIX:"share_remove_preview_",EDIT_PREVIEW_PREFIX:"share_edit_preview_",POST_BTN:"share_post",SAVE_BTN:"share_save",VISIBILITY_BTN:"share_visibility_button",CUSTOM_URL_PREVIEW_BTN:"share_change_article_preview",ACTOR_SELECT:"share_actor_select",ACTOR_SELECT_OPEN:"share_actor_select_open",ACTOR_SELECT_BACK:"share_actor_select_back",ACTOR_SELECT_SAVE:"share_actor_select_save",ACTOR_SELECT_EXIT:"share_actor_select_exit",COMMENT_CONTROLS_OPEN:"share_comment_controls_open",COMMENT_CONTROLS_SELECT_ALL:"share_select_comment_controls_all",COMMENT_CONTROLS_SELECT_CONNECTIONS:"share_select_comment_controls_connections",COMMENT_CONTROLS_SELECT_NONE:"share_select_comment_controls_none",COMMENT_CONTROLS_SELECT_BACK:"share_select_comment_controls_settings_back",COMMENT_CONTROLS_SELECT_SAVE:"share_select_comment_controls_settings_save",COMMENTS_CONTROLS_SELECT_EXIT:"share_select_comment_controls_settings_exit",DRAFT_DIALOG_SAVE:"share_save_draft",DRAFT_DIALOG_DISCARD:"share_discard_draft",DETOUR_CHOOSER_MENU_SELECT_EXIT:"share_select_detour_chooser_menu_exit",DETOUR_CHOOSER_MENU_SELECT_BACK:"share_select_detour_chooser_menu_back",SCHEDULE_POST:"schedule_post",SCHEDULE_PICKER_OPEN:"schedule_picker_open",SCHEDULE_EDIT_OPEN:"schedule_edit_open",SCHEDULE_OPEN_POST_LIST:"schedule_open_mgmnt",SCHEDULE_DATE_TIME_CLEAR:"schedule_date_time_clear",SCHEDULE_DATE_TIME_NEXT:"schedule_date_time_next",SCHEDULE_DATE_TIME_SAVE:"schedule_date_time_save",SCHEDULE_DATE_TIME_BACK:"schedule_date_time_back",SCHEDULE_DATE_TIME_EXIT:"schedule_date_time_exit",SCHEDULE_POST_LIST_BACK:"schedule_mgmnt_back",SCHEDULE_POST_LIST_EXIT:"schedule_mgmnt_exit",SCHEDULE_POST_LIST_SELECT:"schedule_mgmnt_select",SCHEDULE_POST_LIST_DELETE:"schedule_mgmnt_delete",SCHEDULE_POST_LIST_PICKER_OPEN:"schedule_mgmnt_picker_open",SCHEDULE_POST_LIST_CREATE_SCHEDULE:"schedule_mgmnt_create_schedule",SCHEDULE_DETAIL_BACK:"schedule_detail_back",SCHEDULE_DETAIL_EXIT:"schedule_detail_exit",SCHEDULE_DETAIL_DELETE:"schedule_detail_delete",SCHEDULE_DETAIL_PICKER_OPEN:"schedule_detail_picker_open",VISIBILITY_BACK:"share_change_visibility_back",VISIBILITY_EXIT:"share_change_visibility_exit",VISIBILITY_SAVE:"share_change_visibility_save",VISIBILITY_TYPE_ANYONE:"share_change_visibility_public",VISIBILITY_TYPE_CONNECTIONS:"share_change_visibility_connections_only",VISIBILITY_TYPE_TWITTER:"share_change_visibility_twitter",VISIBILITY_TYPE_TARGETED:"share_change_visibility_targeted_audience",MEDIA_REMOVE_WARN_DIALOG_CANCEL:"share_select_media_warn_dialog_cancel",MEDIA_REMOVE_WARN_DIALOG_CONFIRM:"share_select_media_warn_dialog_confirm",MEDIA_REMOVE_WARN_DIALOG_EXIT:"share_select_media_warn_dialog_exit",NEW_TARGETING_BACK:"share_change_visibility_target_audience_back",NEW_TARGETING_EXIT:"share_change_visibility_target_audience_exit",NEW_TARGETING_SAVE:"share_change_visibility_target_audience_save",WARNING_DIALOG_BACK:"share_draft_goback",WARNING_DIALOG_DISCARD:"share_draft_discard",WARNING_DIALOG_EXIT:"share_draft_exit"},FAE:{SHARE:{actionCategory:"SHARE",actionType:"submitShare"}}})
e.SHAREBOX_TRACKING=p
const g=t.VALID_COMMENT_RESTRICTION_TYPES.ALL
e.DEFAULT_COMMENT_RESTRICTION_TYPE=g
const m=Object.freeze({ALL:"globe-americas",ENABLED:"comment",DISABLED:"comment-off",NONE:"comment-off",CONNECTIONS_ONLY:"people"})
e.COMMENT_RESTRICTION_TYPE_ICONS=m
const b={ALL:{TYPE:t.VALID_COMMENT_RESTRICTION_TYPES.ALL,ICON_NAME:m.ALL,CONTROL_NAME:p.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_ALL,I18N_TEXT_KEY:"i18n_anyone",I18N_SUBTEXT_KEY:"i18n_anyone_desc"},CONNECTIONS_ONLY:{TYPE:t.VALID_COMMENT_RESTRICTION_TYPES.CONNECTIONS_ONLY,ICON_NAME:m.CONNECTIONS_ONLY,CONTROL_NAME:p.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_CONNECTIONS,I18N_TEXT_KEY:"i18n_connections_only",I18N_SUBTEXT_KEY:"i18n_connections_only_desc"},NONE:{TYPE:t.VALID_COMMENT_RESTRICTION_TYPES.NONE,ICON_NAME:m.NONE,CONTROL_NAME:p.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_NONE,I18N_TEXT_KEY:"i18n_no_one",I18N_SUBTEXT_KEY:"i18n_no_one_desc"}}
e.COMMENT_RESTRICTION_CONFIGS=b
const f={ENABLED:{TYPE:t.VALID_COMMENT_RESTRICTION_TYPES.ALL,DISPLAY_TYPE:"ENABLED",ICON_NAME:m.ENABLED,CONTROL_NAME:p.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_ALL,I18N_TEXT_KEY:"i18n_comments_enabled",I18N_SUBTEXT_KEY:"i18n_comments_enabled_desc"},DISABLED:{TYPE:t.VALID_COMMENT_RESTRICTION_TYPES.NONE,DISPLAY_TYPE:"DISABLED",ICON_NAME:m.NONE,CONTROL_NAME:p.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_NONE,I18N_TEXT_KEY:"i18n_comments_disabled",I18N_SUBTEXT_KEY:"i18n_comments_disabled_desc"}}
e.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS=f
e.MENTION_ENTITY_TYPES={EXPLICIT:"EXPLICIT",HASHTAG:"HASHTAG"}
const _=Object.freeze({ORGANIZATION_ACTORS:"sharing-organization-actors"})
e.LOCAL_STORAGE_KEYS=_
const y=Object.freeze({INTERVAL:1e4,PRODUCT:"FLAGSHIP",SHARE_BOX:"share_box"})
e.SESSION_REPLAY=y
e.SHARE_PREVIEWS_CACHE_MODEL_NAME="com.linkedin.deco.collectioncom.linkedin.voyager.dash.deco.contentcreation.share-previews-by-life-cycle-state"
e.SHARE_DETAIL_CACHE_KEY_BASE="SHARE_DETAIL_CACHE"}))
define("sharing-v2/utils/sharing-utils",["exports","@ember/utils","@ember/object","sharing-v2/utils/sharing-constants","global-utils/utils/api-compat","feed-utils/utils/error-parsing","sharing-shared/utils/sharing-shared-constants"],(function(e,t,i,r,n,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.appendTextAndMentions=function(e,i){if((0,t.isEmpty)(e.text)&&(0,t.isEmpty)(i.text))return{text:"",mentions:[]}
if((0,t.isEmpty)(e.text))return i
if((0,t.isEmpty)(i.text))return e
const r=e.text.length+1,n={text:e.text.concat(" ",i.text),mentions:e.mentions||[]}
i.mentions.forEach((e=>{e.match.start+=r
n.mentions.push(e)}))
return n}
e.areTextAndMentionsEqual=function(e,t){const r=e.text===t.text
let n=!1
void 0!==e.mentions&&void 0!==t.mentions&&(n=e.mentions.length===t.mentions.length)
let o=!1
if(n){o=!0
for(let r=0;r<e.mentions.length;r++)(0,i.get)(e.mentions[r].entity,"entityUrn")!==(0,i.get)(t.mentions[r].entity,"entityUrn")&&(o=!1)}return r&&o}
e.fetchUrlPreviewPromise=function(e,t){const i=encodeURIComponent(e)
return t.queryURL(`contentcreation/urlPreview/${i}`,{cacheKey:i,reload:!0})}
e.fireLegoRequestHelper=function(e,t,i){const{pageKey:r,slotId:n,groupId:o,widgetId:a}=t
e.clearSlotCache(r,n).fireLegoCall({pageKey:r,slotId:n,groupId:o,widgetId:a}).then((e=>{(null==e?void 0:e.widgetId)===a&&i(e)}))}
e.generateDefaultDatePickerDate=function(){const e=new Date
e.setMinutes(e.getMinutes()+65)
e.setMinutes(30*Math.ceil(e.getMinutes()/30),0,0)
return e}
e.getRecordFromResponse=function(e){return(0,i.get)(e,"status.pendingModeration")||"com.linkedin.voyager.contentcreation.NormShare"!==(0,n.classNameOf)(e)?e:(0,i.get)(e,"status.updateV2")||(0,i.get)(e,"status.update")}
e.isDuplicatePostError=function(e){return(0,o.getStatusCode)(e)===r.ERRORS.DUPLICATE_SHARE_ERROR_CODE}
e.isTimestampWithinBoundaries=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.TIME_VALUES.ONE_HOUR_MS,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.TIME_VALUES.NINTY_DAYS_MS
const r=(new Date).getTime()
return e>=r+t&&e<=r+i}}))
define("sharing-v2/utils/state-change-button-config",["exports","@ember/debug","sharing-v2/utils/visibility/share-box-actor","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","@ember/object","sharing-v2/utils/visibility/comment-restriction","sharing-v2/utils/visibility/visibility-option"],(function(e,t,i,r,n,o,a,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,t,l){this.buttonType="secondary"
this.buttonSize="1"
this.showCaretIcon=!0
if(e instanceof s.default){this.type="visibility"
this.label=(0,o.get)(e.name,"text")
this.iconType=e.iconName
this.ariaLabel=t.lookupTranslation(`components/${l}`,"i18n_visibility_btn_a11y_label")([{label:this.label}])
this.controlName=r.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.VISIBILITY_BTN}else if(e instanceof i.default){this.type="actor"
this.label=e.name
this.iconType="person"
this.ariaLabel=t.lookupTranslation(`components/${l}`,"i18n_actor_btn_a11y_label")([{label:this.label}])
this.controlName=r.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.ACTOR_SELECT_OPEN}else if(e instanceof a.default){this.type="comment-restriction"
this.label=t.lookupTranslation(`components/${l}`,"i18n_comment_restriction_options")([{commentRestrictionSelection:e.displayType}])
this.iconType=e.type===n.VALID_COMMENT_RESTRICTION_TYPES.NONE?r.COMMENT_RESTRICTION_TYPE_ICONS.DISABLED:r.COMMENT_RESTRICTION_TYPE_ICONS.ENABLED
this.ariaLabel=t.lookupTranslation(`components/${l}`,"i18n_comment-restriction-type_btn_a11y_label")([{label:this.label}])
this.showCaretIcon=!1
this.buttonType="tertiary"
this.controlName=r.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_OPEN}}}}))
define("sharing-v2/utils/uuid-generator",["exports","ember-uuid/utils/uuid-generator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}})
Object.defineProperty(e,"unparse",{enumerable:!0,get:function(){return t.unparse}})
Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.v1}})
Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return t.v4}})}))
define("sharing-v2/utils/validation-helpers",["exports","ember-cloud-filepicker/utils/validation-helpers"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define.alias("ember-vector-images/utils/vector-url","sharing-v2/utils/vector-url")
define("sharing-v2/utils/visibility/comment-restriction",["exports","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,r,n,o){e.containerEntity?o?this.setRestrictions(i.VALID_COMMENT_RESTRICTION_TYPES.NONE):this.setRestrictionsForContainers(r):r===i.VALID_COMMENT_RESTRICTION_TYPES.NONE?this.setRestrictions(i.VALID_COMMENT_RESTRICTION_TYPES.NONE):n?this.setRestrictions(i.VALID_COMMENT_RESTRICTION_TYPES.ALL):e.type===i.VALID_VISIBILITY_TYPES.CONNECTIONS?this.setRestrictions(i.VALID_COMMENT_RESTRICTION_TYPES.CONNECTIONS_ONLY):r?this.setRestrictions(r):this.setRestrictions(t.DEFAULT_COMMENT_RESTRICTION_TYPE)}setRestrictionsForContainers(e){if(e===i.VALID_COMMENT_RESTRICTION_TYPES.NONE){this.type=t.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.DISABLED.TYPE
this.displayType=t.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.DISABLED.DISPLAY_TYPE
this.iconName=t.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.DISABLED.ICON_NAME}else{this.type=t.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.ENABLED.TYPE
this.displayType=t.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.ENABLED.DISPLAY_TYPE
this.iconName=t.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.ENABLED.ICON_NAME}}setRestrictions(e){this.type=e
this.displayType=e
this.iconName=t.COMMENT_RESTRICTION_TYPE_ICONS[e]}}}))
define("sharing-v2/utils/visibility/container-type-metadata",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e){let{containerTypeUrn:t,header:i,subheader:r,retryControlName:n,saveControlName:o,backControlName:a,exitControlName:s,selectionControlName:l}=e
Object.assign(this,{containerTypeUrn:t,header:i,subheader:r})
this.retryControlName=`share_${n}`
this.saveControlName=`share_${o}`
this.backControlName=`share_${a}`
this.exitControlName=`share_${s}`
this.selectionControlName=`share_${l}`}}}))
define("sharing-v2/utils/visibility/share-box-actor",["exports","@ember/debug","@ember/object","@ember/utils","global-utils/utils/api-compat","global-utils/utils/urn-converter","sharing-v2/utils/sharing-constants","dash-interop-helper/utils/get-graphql-value-with-dash-fallback"],(function(e,t,i,r,n,o,a,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,t){const r=(0,n.classNameOf)(e)
this.actorType=function(e){switch(e){case"com.linkedin.voyager.entities.shared.MiniCompany":case"com.linkedin.voyager.organization.Company":case"com.linkedin.voyager.dash.organization.Company":return a.ACTOR_TYPES.company
case"com.linkedin.voyager.dash.organization.OrganizationalPage":return a.ACTOR_TYPES.organizationalPage
case"com.linkedin.voyager.identity.shared.MiniProfile":return a.ACTOR_TYPES.member
default:return}}(r)
this.name=function(e,t,r){switch(t){case a.ACTOR_TYPES.organizationalPage:return(0,i.get)(e,"localizedName")
case a.ACTOR_TYPES.company:return(0,i.get)(e,"name")
case a.ACTOR_TYPES.member:return r.formatName((0,i.getProperties)(e,"firstName","maidenName","lastName"),"full")
default:return}}(e,this.actorType,t)
this.lockupImageShape=function(e){switch(e){case a.ACTOR_TYPES.company:case a.ACTOR_TYPES.organizationalPage:return"square"
default:return"circle"}}(this.actorType)
this.image=function(e,t){if(t)switch(e){case a.ACTOR_TYPES.organizationalPage:return(0,i.get)(t,"logo")
case a.ACTOR_TYPES.company:return(0,s.getGraphQlValueWithDashFallback)(t,"logoResolutionResult.vectorImage")||(0,i.get)(t,"logo")
case a.ACTOR_TYPES.member:return(0,i.get)(t,"picture")
default:return}}(this.actorType,e)
this.urn=function(e,t){switch(e){case a.ACTOR_TYPES.organizationalPage:return(0,i.get)(t,"entityUrn")
case a.ACTOR_TYPES.company:return(0,o.convertUrnType)("organization/company",(0,i.get)(t,"entityUrn"))
case a.ACTOR_TYPES.member:return(0,i.get)(t,"entityUrn")
default:return}}(this.actorType,e)
this.actorType===a.ACTOR_TYPES.company&&(this.dashCompanyUrn=function(e,t){return"com.linkedin.voyager.dash.organization.Company"===e?(0,i.get)(t,"entityUrn"):(0,i.get)(t,"dashEntityUrn")||(0,i.get)(t,"dashCompanyUrn")}(r,e))
this.imageGhostType="person"
this.imageEntityClass=`EntityPhoto-${this.lockupImageShape}-2`
this.iconType="person-speech-bubble-icon"}}}))
define("sharing-v2/utils/visibility/visibility-option-configs",["exports","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.TARGETED_VISIBILITY_CONFIG=e.FALLBACK_INITIALIZATION_VISIBILITY_CONFIGS=e.DEFAULT_ORGANIZATION_ACTOR_VISIBILITY_CONFIGS=e.CONNECTIONS_ONLY_VISIBILITY_CONFIG=e.ANYONE_VISIBILITY_CONFIG=void 0
const r=Object.freeze({type:i.VALID_VISIBILITY_TYPES.ANYONE,nameI18nLabelKey:"i18n_anyone_visibility_options_name",descriptionI18nLabelKey:"i18n_anyone_visibility_options_description",iconName:"globe-americas",controlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.VISIBILITY_TYPE_ANYONE})
e.ANYONE_VISIBILITY_CONFIG=r
const n=Object.freeze({type:i.VALID_VISIBILITY_TYPES.CONNECTIONS,nameI18nLabelKey:"i18n_connections_visibility_options_name",descriptionI18nLabelKey:"i18n_connections_visibility_options_description",iconName:"people",controlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.VISIBILITY_TYPE_CONNECTIONS})
e.CONNECTIONS_ONLY_VISIBILITY_CONFIG=n
const o=Object.freeze({type:i.VALID_VISIBILITY_TYPES.TARGETED,nameI18nLabelKey:"i18n_targeted_visibility_options_name",descriptionI18nLabelKey:"i18n_targeted_visibility_options_description",iconName:"radar-screen",controlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.VISIBILITY_TYPE_TARGETED,showChevron:!0})
e.TARGETED_VISIBILITY_CONFIG=o
const a=[r,o]
e.DEFAULT_ORGANIZATION_ACTOR_VISIBILITY_CONFIGS=a
const s=[r,n]
e.FALLBACK_INITIALIZATION_VISIBILITY_CONFIGS=s}))
define("sharing-v2/utils/visibility/visibility-option",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e){let{type:t,name:i,description:r,selectedDescription:n,logo:o,iconName:a,controlName:s,containerTypeUrn:l,containerEntity:c,twitterHandle:d,showChevron:u=!1}=e
Object.assign(this,{type:t,name:i,description:r,iconName:a,controlName:s,showChevron:u})
n&&(this.selectedDescription=n)
o&&(this.logo=o)
l&&(this.containerTypeUrn=l)
c&&(this.containerEntity=c)
d&&(this.twitterHandle=d)}}}))
define("sharing-v2/utils/visibility/visibility-utils",["exports","rsvp","@ember/object","@ember/utils","graphql-queries/queries/service-marketplace/admin-widget.graphql","graphql-queries/queries/organizations/admin-widget-organizational-pages.graphql","image-view-model/utils/artdeco-icon","image-view-model/utils/image-view-model-create","sharing-shared/utils/sharing-shared-constants","sharing-v2/utils/sharing-constants","sharing-v2/utils/visibility/container-type-metadata","sharing-v2/utils/visibility/share-box-actor","sharing-v2/utils/visibility/visibility-option","sharing-v2/utils/visibility/visibility-option-configs","text-view-model/utils/generator"],(function(e,t,i,r,n,o,a,s,l,c,d,u,h,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.buildEmployeesVisibilityOptionForEditMode=m
e.buildGroupVisibilityOptionFromUpdateV2=b
e.buildVisibilityOptionFromConfig=f
e.buildVisibilityOptionsFromConfigs=function(e,t){return t.map((t=>f(e,t)))}
e.checkEligibility=_
e.fetchOrganizationActorsFromAPI=function(e,r,a,s){if(a){const e=r.executeQuery(n.default,{count:100,viewerPermissions:{canCreateOrganicShare:!0}},{reload:!0}).then((e=>[...(0,i.get)(e,"data.organizationDashCompaniesByViewerPermissions.elements")])),a=s?r.executeQuery(o.default,{count:100,viewerPermissions:{canCreateOrganicShare:!0}},{reload:!0}).then((e=>[...(0,i.get)(e,"data.organizationDashOrganizationalPagesByViewerPermissions.elements")])):t.Promise.resolve([])
return t.Promise.all([e,a]).then((e=>{let[t,i]=e
return[...t,...i]}))}return e.queryURL("voyagerOrganizationDashCompanies",{params:{count:100,recipe:"com.linkedin.voyager.dash.deco.organization.AdminWidget",q:"viewerPermissions",viewerPermissions:{canCreateOrganicShare:!0}},reload:!0})}
e.filterIneligibleOptions=y
e.findSelectedOptions=function(e){const[t]=e.filter((e=>(0,i.get)(e,"menuItem.selectedItem"))),[r]=(0,i.get)(t,"commentControls").filter((e=>(0,i.get)(e,"menuItem.selectedItem")))
return{selectedVisibility:t,selectedCommentControlConfig:r}}
e.formatContainerFixedVisibilityOption=function(e){return new h.default({type:e.type,containerEntity:e.containerEntity,name:(0,g.default)(e.name),description:(0,g.default)(e.subText),iconName:e.iconType,logo:e.logo})}
e.formatSelectedStickyVisibilityItem=function(e){const t=(0,i.get)(e,"menuItem.controlName")
return new h.default({type:(0,i.get)(e,"visibilityDataUnion.visibilityType")||l.VALID_VISIBILITY_TYPES.CONTAINER,containerEntity:(0,i.get)(e,"visibilityDataUnion.containerVisibility.container.containerEntity"),name:(0,i.get)(e,"visibilityDataUnion.containerVisibility.container.name")||(0,i.get)(e,"menuItem.title"),description:(0,i.get)(e,"menuItem.description"),iconName:(0,a.getLIIcon)((0,i.get)(e,"menuItem.iconName")).name,logo:(0,i.get)(e,"visibilityDataUnion.containerVisibility.container.logo"),controlName:`share_${t}`,selectedDescription:(0,i.get)(e,"menuItem.selectedDescription"),containerTypeUrn:(0,i.get)(e,"visibilityDataUnion.containerVisibility.containerTypeUrn"),showChevron:!!(0,i.get)(e,"visibilityDataUnion.containerVisibility")})}
e.formatStickyVisibilityItem=function(e){const t=(0,i.get)(e,"menuItem.controlName")
return new h.default({type:(0,i.get)(e,"visibilityDataUnion.visibilityType")||l.VALID_VISIBILITY_TYPES.CONTAINER,name:(0,i.get)(e,"menuItem.title"),description:(0,i.get)(e,"menuItem.description"),iconName:(0,a.getLIIcon)((0,i.get)(e,"menuItem.iconName")).name,controlName:`share_${t}`,selectedDescription:(0,i.get)(e,"menuItem.selectedDescription"),containerTypeUrn:(0,i.get)(e,"visibilityDataUnion.containerVisibility.containerTypeUrn"),showChevron:!!(0,i.get)(e,"visibilityDataUnion.containerVisibility")})}
e.getDashContainersMetadata=function(e){return e.map((e=>(0,i.get)(e,"visibilityDataUnion"))).filter((e=>void 0!==(0,i.get)(e,"containerVisibility"))).map((e=>new d.default({containerTypeUrn:(0,i.get)(e,"containerVisibility.containerTypeUrn"),header:(0,i.get)(e,"containerVisibility.header"),subheader:(0,i.get)(e,"containerVisibility.subheader"),retryControlName:(0,i.get)(e,"containerVisibility.retryControlName"),saveControlName:(0,i.get)(e,"containerVisibility.saveControlName"),backControlName:(0,i.get)(e,"containerVisibility.backControlName"),exitControlName:(0,i.get)(e,"containerVisibility.exitControlName"),selectionControlName:(0,i.get)(e,"containerVisibility.updateSelectionControlName")})))}
e.getFilteredVisibilityOptions=function(e,t,i){return y(e,t,i)}
e.getOrganizationActorsFromLocalStorage=function(e,t){var i
return null===(i=e.getKeyedObject(c.LOCAL_STORAGE_KEYS.ORGANIZATION_ACTORS,0))||void 0===i?void 0:i.actors.map((e=>new u.default(t.buildModel("com.linkedin.voyager.organization.Company",e))))}
e.getVisibilityOptionFromUpdateV2=function(e,t){let r
switch((0,i.get)(e,"updateMetadata.shareAudience")){case c.SHARE_AUDIENCE_VISIBILITY.PUBLIC:r=f(t,p.ANYONE_VISIBILITY_CONFIG)
break
case c.SHARE_AUDIENCE_VISIBILITY.CONNECTIONS:r=f(t,p.CONNECTIONS_ONLY_VISIBILITY_CONFIG)
break
case c.SHARE_AUDIENCE_VISIBILITY.GROUP:case c.SHARE_AUDIENCE_VISIBILITY.PUBLIC_GROUP:r=b(e)
break
case c.SHARE_AUDIENCE_VISIBILITY.EMPLOYEES:r=m(t)}return r}
e.saveVisibilityAndCommentControlsPayload=function(e,t){t.queryURL("/voyager/api/voyagerContentcreationDashSharebox",{params:{patch:{$set:{visibilities:e}}},method:"POST",reload:!0})}
e.selectVisibilityAndCommentControlsPayload=function(e,t,r){return e.map((e=>{const n=!!t.containerTypeUrn
if(t.type===(0,i.get)(e,"visibilityDataUnion.visibilityType")||n&&t.containerTypeUrn===(0,i.get)(e,"visibilityDataUnion.containerVisibility.containerTypeUrn")){(0,i.set)(e,"menuItem.selectedItem",!0)
if(t.containerEntity){(0,i.set)(e,"visibilityDataUnion.containerVisibility.container",{containerEntity:t.containerEntity,name:t.name,logo:t.logo,visibilityIcon:{attributes:[]},selectedDescription:{}})
t.selectedDescription&&(0,i.set)(e,"menuItem.selectedDescription",t.selectedDescription)}(0,i.get)(e,"commentControls").map((e=>{r===(0,i.get)(e,"allowedCommentersScope")?(0,i.set)(e,"menuItem.selectedItem",!0):(0,i.set)(e,"menuItem.selectedItem",!1)
return e}))}else{(0,i.set)(e,"menuItem.selectedItem",!1);(0,i.get)(e,"commentControls").map((e=>{(0,i.set)(e,"menuItem.selectedItem",!1)
return e}))}return e}))}
e.updateOrganizationActorsLocalStorage=function(e,t){(0,r.isEmpty)(t)?e.removeItem(c.LOCAL_STORAGE_KEYS.ORGANIZATION_ACTORS):e.setKeyedObjectValue(c.LOCAL_STORAGE_KEYS.ORGANIZATION_ACTORS,0,{actors:t})}
function m(e){const t=e.lookupTranslation("components/sharing-v2@visibility/visibility-manager","i18n_broadcast_visibility_option_name")()
return new h.default({type:l.VALID_VISIBILITY_TYPES.EMPLOYEE_BROADCAST_FEED,name:(0,g.default)(t),logo:s.ImageViewModelCreate.fromVectorImage(void 0,"COMPANY_GHOST"),iconName:"company"})}function b(e){const t=(0,i.get)(e,"updateMetadata.miniGroup"),r=(0,i.get)(e,"updateMetadata.shareAudience")
return new h.default({type:l.VALID_VISIBILITY_TYPES.GROUP,name:(0,g.default)((0,i.get)(t,"groupName")),logo:s.ImageViewModelCreate.fromVectorImage((0,i.get)(t,"logo"),"GROUP_GHOST"),iconName:r===c.SHARE_AUDIENCE_VISIBILITY.PUBLIC_GROUP?"globe":"group",containerEntity:(0,i.get)(t,"objectUrn")})}function f(e,t){const i=e.lookupTranslation("components/sharing-v2@visibility/visibility-manager",t.nameI18nLabelKey)(),r=e.lookupTranslation("components/sharing-v2@visibility/visibility-manager",t.descriptionI18nLabelKey)()
return new h.default({type:t.type,name:(0,g.default)(i),description:(0,g.default)(r),iconName:t.iconName,controlName:t.controlName})}function _(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]
return!r.includes(e)&&(!(e in t)||(0,i.get)(t,e))}function y(e,t,i){return e.filter((e=>_(e.type,t,i)))}}))
define("sharing-v2/utils/window-helpers",["exports","ember-cloud-filepicker/utils/window-helpers"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))

//# sourceMappingURL=engine.map